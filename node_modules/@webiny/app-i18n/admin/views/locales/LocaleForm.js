import _taggedTemplateLiteral from "@babel/runtime/helpers/taggedTemplateLiteral";

var _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;

import React from "react";
import styled from "@emotion/styled";
import { i18n } from "@webiny/app/i18n";
import { Form } from "@webiny/form";
import { Grid, Cell } from "@webiny/ui/Grid";
import { ButtonDefault, ButtonIcon, ButtonPrimary } from "@webiny/ui/Button";
import { Switch } from "@webiny/ui/Switch";
import { CircularProgress } from "@webiny/ui/Progress";
import { SimpleForm, SimpleFormFooter, SimpleFormContent, SimpleFormHeader } from "@webiny/app-admin/components/SimpleForm";
import { validation } from "@webiny/validation";
import EmptyView from "@webiny/app-admin/components/EmptyView";
import { ReactComponent as AddIcon } from "@svgr/webpack!@webiny/app-admin/assets/icons/add-18px.svg";
import LocaleCodesAutoComplete from "../../components/LocaleCodesAutoComplete";
import { useLocaleForm } from "./hooks/useLocaleForm";
var t = i18n.ns("app-i18n/admin/locales/form");
var ButtonWrapper = /*#__PURE__*/styled("div", {
  target: "e302evy0",
  label: "ButtonWrapper"
})({
  display: "flex",
  justifyContent: "space-between"
});

var I18NLocaleForm = function I18NLocaleForm() {
  var _useLocaleForm = useLocaleForm(),
      loading = _useLocaleForm.loading,
      showEmptyView = _useLocaleForm.showEmptyView,
      createLocale = _useLocaleForm.createLocale,
      cancelEditing = _useLocaleForm.cancelEditing,
      locale = _useLocaleForm.locale,
      onSubmit = _useLocaleForm.onSubmit; // Render "No content" selected view.


  if (showEmptyView) {
    return /*#__PURE__*/React.createElement(EmptyView, {
      title: t(_templateObject || (_templateObject = _taggedTemplateLiteral(["Click on the left side list to display locale details or create a..."]))),
      action: /*#__PURE__*/React.createElement(ButtonDefault, {
        "data-testid": "new-record-button",
        onClick: createLocale
      }, /*#__PURE__*/React.createElement(ButtonIcon, {
        icon: /*#__PURE__*/React.createElement(AddIcon, null)
      }), " ", t(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["New Locale"]))))
    });
  }

  return /*#__PURE__*/React.createElement(Form, {
    data: locale,
    onSubmit: onSubmit
  }, function (_ref) {
    var data = _ref.data,
        form = _ref.form,
        Bind = _ref.Bind;
    return /*#__PURE__*/React.createElement(SimpleForm, {
      "data-testid": "i18n-locale-form"
    }, loading && /*#__PURE__*/React.createElement(CircularProgress, null), /*#__PURE__*/React.createElement(SimpleFormHeader, {
      title: data.code || t(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral(["New locale"])))
    }), /*#__PURE__*/React.createElement(SimpleFormContent, null, /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {
      span: 12
    }, /*#__PURE__*/React.createElement(Bind, {
      name: "code",
      validators: validation.create("required")
    }, /*#__PURE__*/React.createElement(LocaleCodesAutoComplete, {
      disabled: data.createdOn,
      label: t(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral(["Code"]))),
      description: t(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral(["For example: \"en-GB\""])))
    })))), /*#__PURE__*/React.createElement(Grid, null, /*#__PURE__*/React.createElement(Cell, {
      span: 12
    }, /*#__PURE__*/React.createElement(Bind, {
      name: "default"
    }, /*#__PURE__*/React.createElement(Switch, {
      label: t(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral(["Default"])))
    }))))), /*#__PURE__*/React.createElement(SimpleFormFooter, null, /*#__PURE__*/React.createElement(ButtonWrapper, null, /*#__PURE__*/React.createElement(ButtonDefault, {
      onClick: cancelEditing
    }, t(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral(["Cancel"])))), /*#__PURE__*/React.createElement(ButtonPrimary, {
      onClick: form.submit
    }, t(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral(["Save locale"])))))));
  });
};

export default I18NLocaleForm;
//# sourceMappingURL=LocaleForm.js.map