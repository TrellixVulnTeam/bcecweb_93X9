{"version":3,"sources":["../../src/definitions/apiKeyEntity.ts"],"names":["createApiKeyEntity","params","context","table","entityName","attributes","Entity","name","PK","partitionKey","SK","sortKey","GSI1_PK","type","GSI1_SK","TYPE","id","token","tenant","createdBy","createdOn","description","permissions"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;AAQO,MAAMA,kBAAkB,GAAIC,MAAD,IAAiC;AAC/D,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAqBF,MAA3B;AACA,QAAMG,UAAU,GAAG,gBAAnB;AACA,QAAMC,UAAU,GAAG,oCAAmBH,OAAnB,EAA4BE,UAA5B,CAAnB;AACA,SAAO,IAAIE,uBAAJ,CAAW;AACdH,IAAAA,KADc;AAEdI,IAAAA,IAAI,EAAEH,UAFQ;AAGdC,IAAAA,UAAU;AACNG,MAAAA,EAAE,EAAE;AACAC,QAAAA,YAAY,EAAE;AADd,OADE;AAINC,MAAAA,EAAE,EAAE;AACAC,QAAAA,OAAO,EAAE;AADT,OAJE;AAONC,MAAAA,OAAO,EAAE;AACLC,QAAAA,IAAI,EAAE;AADD,OAPH;AAUNC,MAAAA,OAAO,EAAE;AACLD,QAAAA,IAAI,EAAE;AADD,OAVH;AAaNE,MAAAA,IAAI,EAAE;AACFF,QAAAA,IAAI,EAAE;AADJ,OAbA;AAgBNG,MAAAA,EAAE,EAAE;AACAH,QAAAA,IAAI,EAAE;AADN,OAhBE;AAmBNI,MAAAA,KAAK,EAAE;AACHJ,QAAAA,IAAI,EAAE;AADH,OAnBD;AAsBNK,MAAAA,MAAM,EAAE;AACJL,QAAAA,IAAI,EAAE;AADF,OAtBF;AAyBNM,MAAAA,SAAS,EAAE;AACPN,QAAAA,IAAI,EAAE;AADC,OAzBL;AA4BNO,MAAAA,SAAS,EAAE;AACPP,QAAAA,IAAI,EAAE;AADC,OA5BL;AA+BNN,MAAAA,IAAI,EAAE;AACFM,QAAAA,IAAI,EAAE;AADJ,OA/BA;AAkCNQ,MAAAA,WAAW,EAAE;AACTR,QAAAA,IAAI,EAAE;AADG,OAlCP;AAqCNS,MAAAA,WAAW,EAAE;AACTT,QAAAA,IAAI,EAAE;AADG;AArCP,OAwCHR,UAxCG;AAHI,GAAX,CAAP;AA8CH,CAlDM","sourcesContent":["import { Entity, Table } from \"dynamodb-toolbox\";\nimport { getExtraAttributes } from \"@webiny/db-dynamodb/utils/attributes\";\nimport { AdminUsersContext } from \"@webiny/api-security-admin-users/types\";\n\ninterface Params {\n    context: AdminUsersContext;\n    table: Table;\n}\n\nexport const createApiKeyEntity = (params: Params): Entity<any> => {\n    const { context, table } = params;\n    const entityName = \"SecurityApiKey\";\n    const attributes = getExtraAttributes(context, entityName);\n    return new Entity({\n        table,\n        name: entityName,\n        attributes: {\n            PK: {\n                partitionKey: true\n            },\n            SK: {\n                sortKey: true\n            },\n            GSI1_PK: {\n                type: \"string\"\n            },\n            GSI1_SK: {\n                type: \"string\"\n            },\n            TYPE: {\n                type: \"string\"\n            },\n            id: {\n                type: \"string\"\n            },\n            token: {\n                type: \"string\"\n            },\n            tenant: {\n                type: \"string\"\n            },\n            createdBy: {\n                type: \"map\"\n            },\n            createdOn: {\n                type: \"string\"\n            },\n            name: {\n                type: \"string\"\n            },\n            description: {\n                type: \"string\"\n            },\n            permissions: {\n                type: \"list\"\n            },\n            ...attributes\n        }\n    });\n};\n"],"file":"apiKeyEntity.js"}