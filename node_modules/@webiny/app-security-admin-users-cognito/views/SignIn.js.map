{"version":3,"sources":["../../src/views/SignIn.tsx"],"names":["React","Form","validation","ButtonPrimary","Input","Grid","Cell","Typography","Elevation","Alert","CircularProgress","useAuthenticator","useSignIn","StateContainer","alignRight","alignCenter","InnerContent","Title","errorMessage","SignIn","message","changeState","checkingUser","signIn","loading","error","shouldRender","Bind","submit","title","type","text","create","val","cb","toLowerCase"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Form } from \"@webiny/form\";\nimport { validation } from \"@webiny/validation\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { Alert } from \"@webiny/ui/Alert\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { useAuthenticator } from \"@webiny/app-security-cognito-authentication/hooks/useAuthenticator\";\nimport { useSignIn } from \"@webiny/app-security-cognito-authentication/hooks/useSignIn\";\nimport StateContainer from \"./StateContainer\";\nimport { alignRight, alignCenter, InnerContent, Title, errorMessage } from \"./StyledComponents\";\n\nconst SignIn = () => {\n    const { message, changeState, checkingUser } = useAuthenticator();\n    const { signIn, loading, error, shouldRender } = useSignIn();\n\n    if (!shouldRender || checkingUser) {\n        return null;\n    }\n\n    return (\n        <StateContainer>\n            <Form onSubmit={signIn} submitOnEnter>\n                {({ Bind, submit }) => (\n                    <Elevation z={2}>\n                        <InnerContent>\n                            {loading && <CircularProgress />}\n                            <Title>\n                                <h1>\n                                    <Typography use=\"headline4\">Sign In</Typography>\n                                </h1>\n                            </Title>\n\n                            {message && !error && (\n                                <Grid>\n                                    <Cell span={12}>\n                                        <Alert title={message.title} type={message.type}>\n                                            {message.text}\n                                        </Alert>\n                                    </Cell>\n                                </Grid>\n                            )}\n\n                            {error && (\n                                <Grid>\n                                    <Cell span={12} className={errorMessage}>\n                                        <Alert title=\"Authentication error\" type={\"danger\"}>\n                                            {error.message}\n                                        </Alert>\n                                    </Cell>\n                                </Grid>\n                            )}\n\n                            <Grid>\n                                <Cell span={12}>\n                                    <Bind\n                                        name=\"username\"\n                                        validators={validation.create(\"required,email\")}\n                                        beforeChange={(val, cb) => cb(val.toLowerCase())}\n                                    >\n                                        <Input label={\"Your e-mail\"} />\n                                    </Bind>\n                                </Cell>\n                                <Cell span={12}>\n                                    <Bind\n                                        name=\"password\"\n                                        validators={validation.create(\"required\")}\n                                    >\n                                        <Input type={\"password\"} label={\"Your password\"} />\n                                    </Bind>\n                                </Cell>\n                                <Cell span={12} className={alignRight}>\n                                    <ButtonPrimary\n                                        data-testid=\"submit-sign-in-form-button\"\n                                        onClick={submit}\n                                    >\n                                        {\"Submit\"}\n                                    </ButtonPrimary>\n                                </Cell>\n                                <Cell span={12} className={alignCenter}>\n                                    <a href=\"#\" onClick={() => changeState(\"forgotPassword\")}>\n                                        Forgot password?\n                                    </a>\n                                </Cell>\n                            </Grid>\n                        </InnerContent>\n                    </Elevation>\n                )}\n            </Form>\n        </StateContainer>\n    );\n};\n\nexport default SignIn;\n"],"file":"SignIn.js"}