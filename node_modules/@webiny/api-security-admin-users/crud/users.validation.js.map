{"version":3,"sources":["../../src/crud/users.validation.ts"],"names":["CreateUserDataModel","login","validation","create","firstName","lastName","avatar","UpdateUserDataModel","group","UserPlugin","beforeCreate","inputData","model","populate","validate","beforeUpdate"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,mBAAmB,GAAG,wBAAW;AACnCC,EAAAA,KAAK,EAAE,oBAAO;AAAEC,IAAAA,UAAU,EAAEA,uBAAWC,MAAX,CAAkB,sBAAlB;AAAd,GAAP,CAD4B;AAEnCC,EAAAA,SAAS,EAAE,oBAAO;AAAEF,IAAAA,UAAU,EAAEA,uBAAWC,MAAX,CAAkB,sBAAlB;AAAd,GAAP,CAFwB;AAGnCE,EAAAA,QAAQ,EAAE,oBAAO;AAAEH,IAAAA,UAAU,EAAEA,uBAAWC,MAAX,CAAkB,sBAAlB;AAAd,GAAP,CAHyB;AAInCG,EAAAA,MAAM,EAAE;AAJ2B,CAAX,GAA5B;AAOA,MAAMC,mBAAmB,GAAG,wBAAW;AACnCD,EAAAA,MAAM,EAAE,kCAD2B;AAEnCF,EAAAA,SAAS,EAAE,oBAAO;AAAEF,IAAAA,UAAU,EAAEA,uBAAWC,MAAX,CAAkB,aAAlB;AAAd,GAAP,CAFwB;AAGnCE,EAAAA,QAAQ,EAAE,oBAAO;AAAEH,IAAAA,UAAU,EAAEA,uBAAWC,MAAX,CAAkB,aAAlB;AAAd,GAAP,CAHyB;AAInCK,EAAAA,KAAK,EAAE;AAJ4B,CAAX,GAA5B;;eAOe,IAAIC,sBAAJ,CAAe;AAC1B,QAAMC,YAAN,CAAmB;AAAEC,IAAAA;AAAF,GAAnB,EAAkC;AAC9B,UAAMC,KAAK,GAAG,MAAM,IAAIZ,mBAAJ,GAA0Ba,QAA1B,CAAmCF,SAAnC,CAApB;AACA,UAAMC,KAAK,CAACE,QAAN,EAAN;AACH,GAJyB;;AAK1B,QAAMC,YAAN,CAAmB;AAAEJ,IAAAA;AAAF,GAAnB,EAAkC;AAC9B,UAAMC,KAAK,GAAG,MAAM,IAAIL,mBAAJ,GAA0BM,QAA1B,CAAmCF,SAAnC,CAApB;AACA,UAAMC,KAAK,CAACE,QAAN,EAAN;AACH;;AARyB,CAAf,C","sourcesContent":["import { withFields, string } from \"@commodo/fields\";\nimport { object } from \"commodo-fields-object\";\nimport { validation } from \"@webiny/validation\";\nimport { UserPlugin } from \"~/plugins/UserPlugin\";\n\nconst CreateUserDataModel = withFields({\n    login: string({ validation: validation.create(\"required,minLength:2\") }),\n    firstName: string({ validation: validation.create(\"required,minLength:2\") }),\n    lastName: string({ validation: validation.create(\"required,minLength:2\") }),\n    avatar: object()\n})();\n\nconst UpdateUserDataModel = withFields({\n    avatar: object(),\n    firstName: string({ validation: validation.create(\"minLength:2\") }),\n    lastName: string({ validation: validation.create(\"minLength:2\") }),\n    group: string()\n})();\n\nexport default new UserPlugin({\n    async beforeCreate({ inputData }) {\n        const model = await new CreateUserDataModel().populate(inputData);\n        await model.validate();\n    },\n    async beforeUpdate({ inputData }) {\n        const model = await new UpdateUserDataModel().populate(inputData);\n        await model.validate();\n    }\n});\n"],"file":"users.validation.js"}