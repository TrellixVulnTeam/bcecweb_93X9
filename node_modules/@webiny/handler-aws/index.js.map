{"version":3,"sources":["../src/index.ts"],"names":["createHandler","args","plugins","createHandlerOptions","Array","isArray","http","handlerClient","handlerHttp"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMA,aAA+B,GAAG,CAAC,GAAGC,IAAJ,KAAa;AACxD,MAAIC,OAAO,GAAGD,IAAd;AAEA,QAAME,oBAA6C,GAAGF,IAAI,CAAC,CAAD,CAA1D;;AACA,MAAIE,oBAAoB,IAAIC,KAAK,CAACC,OAAN,CAAcF,oBAAoB,CAACD,OAAnC,CAA5B,EAAyE;AACrEA,IAAAA,OAAO,GAAGC,oBAAoB,CAACD,OAA/B;AACH;;AAED,SAAO,4BACH,6BADG,EAEH,2BAFG,EAGH,0BAAmBC,oBAAoB,IAAIA,oBAAoB,CAACG,IAAhE,CAHG,EAIHC,uBAJG,EAKHC,qBALG,EAMH,GAAGN,OANA,CAAP;AAQH,CAhBM","sourcesContent":["import defaultHandlerClient from \"@webiny/handler-client\";\nimport defaultHandlerHttp from \"@webiny/handler-http\";\nimport { HandlerHttpOptions } from \"@webiny/handler-http/types\";\nimport defaultHandlerArgs from \"@webiny/handler-args\";\nimport { createHandler as createDefaultHandler } from \"@webiny/handler\";\nimport { PluginCollection } from \"@webiny/plugins/types\";\nimport handlerClient from \"./plugins/handlerClient\";\nimport handlerHttp from \"./plugins/handlerHttp\";\n\ntype CreateAwsHandlerOptions = {\n    plugins: PluginCollection;\n    http?: HandlerHttpOptions;\n};\n\ninterface CreateAwsHandler {\n    (...plugins: PluginCollection): Function;\n    (params: CreateAwsHandlerOptions): Function;\n}\n\n/**\n * To avoid braking changes, the \"createHandler\" function supports two signature:\n *  1. A list of plugins.       (backwards-compatible)\n *  2. A single argument of type `CreateHandlerOptions`.\n *\n * @param {Array | CreateAwsHandlerOptions} args - The list of plugins or object of type `CreateHandlerOptions`.\n */\nexport const createHandler: CreateAwsHandler = (...args) => {\n    let plugins = args;\n\n    const createHandlerOptions: CreateAwsHandlerOptions = args[0];\n    if (createHandlerOptions && Array.isArray(createHandlerOptions.plugins)) {\n        plugins = createHandlerOptions.plugins;\n    }\n\n    return createDefaultHandler(\n        defaultHandlerClient(),\n        defaultHandlerArgs(),\n        defaultHandlerHttp(createHandlerOptions && createHandlerOptions.http),\n        handlerClient,\n        handlerHttp,\n        ...plugins\n    );\n};\n"],"file":"index.js"}