{"version":3,"sources":["../../src/operations/utils.ts"],"names":["getDocumentClient","context","driver","db","documentClient","WebinyError","getTable","table"],"mappings":";;;;;;;;;AAAA;;AAIO,MAAMA,iBAAiB,GAAIC,OAAD,IAA0C;AACvE,QAAMC,MAAM,GAAGD,OAAO,CAACE,EAAR,CAAWD,MAA1B;;AACA,MAAI,CAACA,MAAD,IAAW,CAACA,MAAM,CAACE,cAAvB,EAAuC;AACnC,UAAM,IAAIC,cAAJ,CACD,2DADC,EAEF,uBAFE,CAAN;AAIH;;AACD,SAAOH,MAAM,CAACE,cAAd;AACH,CATM;;;;AAWA,MAAME,QAAQ,GAAIL,OAAD,IAAkC;AACtD,QAAME,EAAE,GAAGF,OAAO,CAACE,EAAnB;;AACA,MAAI,CAACA,EAAL,EAAS;AACL,UAAM,IAAIE,cAAJ,CAAgB,wBAAhB,EAA0C,UAA1C,CAAN;AACH,GAFD,MAEO,IAAI,CAACF,EAAE,CAACI,KAAR,EAAe;AAClB,UAAM,IAAIF,cAAJ,CAAgB,8BAAhB,EAAgD,aAAhD,CAAN;AACH;;AACD,SAAOF,EAAE,CAACI,KAAV;AACH,CARM","sourcesContent":["import WebinyError from \"@webiny/error\";\nimport { I18NContext } from \"@webiny/api-i18n/types\";\nimport { DocumentClient } from \"aws-sdk/clients/dynamodb\";\n\nexport const getDocumentClient = (context: I18NContext): DocumentClient => {\n    const driver = context.db.driver as any;\n    if (!driver || !driver.documentClient) {\n        throw new WebinyError(\n            `Missing documentDriver on the context db.driver property.`,\n            \"DOCUMENT_CLIENT_ERROR\"\n        );\n    }\n    return driver.documentClient;\n};\n\nexport const getTable = (context: I18NContext): string => {\n    const db = context.db as any;\n    if (!db) {\n        throw new WebinyError(\"Missing db on context.\", \"DB_ERROR\");\n    } else if (!db.table) {\n        throw new WebinyError(\"Missing table on context.db.\", \"TABLE_ERROR\");\n    }\n    return db.table;\n};\n"],"file":"utils.js"}