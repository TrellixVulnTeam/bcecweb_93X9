{"version":3,"sources":["../../../src/admin/graphql/createFieldsList.ts"],"names":["plugins","createFieldsList","fields","fieldPlugins","byType","reduce","acc","item","field","type","map","graphql","queryField","selection","fieldId","join"],"mappings":";;AACA,SAASA,OAAT,QAAwB,iBAAxB;AAEA,OAAO,SAASC,gBAAT,CAA0BC,MAA1B,EAAoD;AACvD,MAAMC,YAAY,GAAGH,OAAO,CACvBI,MADgB,CACiB,uBADjB,EAEhBC,MAFgB,CAET,UAACC,GAAD,EAAMC,IAAN;AAAA,2CAAqBD,GAArB,2BAA2BC,IAAI,CAACC,KAAL,CAAWC,IAAtC,EAA6CF,IAAI,CAACC,KAAlD;AAAA,GAFS,EAEmD,EAFnD,CAArB;AAIA,SAAON,MAAM,CACRQ,GADE,CACE,UAAAF,KAAK,EAAI;AACV,QAAQG,OAAR,GAAoBR,YAAY,CAACK,KAAK,CAACC,IAAP,CAAhC,CAAQE,OAAR;;AAEA,QAAIA,OAAO,IAAIA,OAAO,CAACC,UAAvB,EAAmC;AAC/B,UAAQA,UAAR,GAAuBD,OAAvB,CAAQC,UAAR;AACA,UAAMC,SAAS,GACX,OAAOD,UAAP,KAAsB,QAAtB,GAAiCA,UAAjC,GAA8CA,UAAU,CAAC;AAAEJ,QAAAA,KAAK,EAALA;AAAF,OAAD,CAD5D;AAGA,uBAAUA,KAAK,CAACM,OAAhB,cAA2BD,SAA3B;AACH;;AAED,WAAOL,KAAK,CAACM,OAAb;AACH,GAbE,EAcFC,IAdE,CAcG,IAdH,CAAP;AAeH","sourcesContent":["import { CmsEditorField, CmsEditorFieldTypePlugin } from \"~/types\";\nimport { plugins } from \"@webiny/plugins\";\n\nexport function createFieldsList(fields: CmsEditorField[]) {\n    const fieldPlugins = plugins\n        .byType<CmsEditorFieldTypePlugin>(\"cms-editor-field-type\")\n        .reduce((acc, item) => ({ ...acc, [item.field.type]: item.field }), {});\n\n    return fields\n        .map(field => {\n            const { graphql } = fieldPlugins[field.type];\n\n            if (graphql && graphql.queryField) {\n                const { queryField } = graphql;\n                const selection =\n                    typeof queryField === \"string\" ? queryField : queryField({ field });\n\n                return `${field.fieldId} ${selection}`;\n            }\n\n            return field.fieldId;\n        })\n        .join(\"\\n\");\n}\n"],"file":"createFieldsList.js"}