{"version":3,"sources":["../../../../../../src/admin/plugins/fieldRenderers/ref/components/ContentEntriesAutocomplete.tsx"],"names":["React","debounce","AutoComplete","i18n","Link","useReference","renderItem","t","ns","label","ContentEntriesAutocomplete","bind","field","options","setSearch","value","loading","onChange","unpublishedEntryInfo","published","link","modelId","encodeURIComponent","id","publishItLink","helpText","search"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,IAAT,QAAqB,sBAArB;AACA,SAASC,YAAT;AACA,SAASC,UAAT;AAEA,IAAMC,CAAC,GAAGJ,IAAI,CAACK,EAAL,CAAQ,mCAAR,CAAV;AAEA,IAAMC,KAAK,GAAGF,CAAH,oLAAX;;AAEA,SAASG,0BAAT,OAAqD;AAAA,MAAfC,IAAe,QAAfA,IAAe;AAAA,MAATC,KAAS,QAATA,KAAS;;AACjD,sBAAyDP,YAAY,CAAC;AAClEM,IAAAA,IAAI,EAAJA,IADkE;AAElEC,IAAAA,KAAK,EAALA;AAFkE,GAAD,CAArE;AAAA,MAAQC,OAAR,iBAAQA,OAAR;AAAA,MAAiBC,SAAjB,iBAAiBA,SAAjB;AAAA,MAA4BC,KAA5B,iBAA4BA,KAA5B;AAAA,MAAmCC,OAAnC,iBAAmCA,OAAnC;AAAA,MAA4CC,QAA5C,iBAA4CA,QAA5C;;AAKA,MAAIC,oBAAoB,GAAG,IAA3B;;AACA,MAAIH,KAAK,IAAI,CAACA,KAAK,CAACI,SAApB,EAA+B;AAC3B,QAAMC,IAAI,kCAA2BL,KAAK,CAACM,OAAjC,iBAA+CC,kBAAkB,CAACP,KAAK,CAACQ,EAAP,CAAjE,CAAV;AACAL,IAAAA,oBAAoB,GAAGT,KAAK,CAAC;AAAEe,MAAAA,aAAa,eAAE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAEJ;AAAV,SAAiBb,CAAjB;AAAjB,KAAD,CAA5B;AACH;;AAED,sBACI,oBAAC,YAAD,oBACQI,IADR;AAEI,IAAA,UAAU,EAAEL,UAFhB;AAGI,IAAA,QAAQ,EAAEW,QAHd;AAII,IAAA,OAAO,EAAED,OAJb;AAKI,IAAA,KAAK,EAAED,KAAK,GAAGA,KAAK,CAACQ,EAAT,GAAc,IAL9B;AAMI,IAAA,OAAO,EAAEV,OANb;AAOI,IAAA,KAAK,EAAED,KAAK,CAACH,KAPjB;AAQI,IAAA,WAAW,eACP,0CACKG,KAAK,CAACa,QADX,EAEKP,oBAFL,CATR;AAcI,IAAA,OAAO,EAAEjB,QAAQ,CAAC,UAAAyB,MAAM;AAAA,aAAIZ,SAAS,CAACY,MAAD,CAAb;AAAA,KAAP,EAA8B,GAA9B;AAdrB,KADJ;AAkBH;;AAED,eAAehB,0BAAf","sourcesContent":["import React from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { AutoComplete } from \"@webiny/ui/AutoComplete\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { Link } from \"@webiny/react-router\";\nimport { useReference } from \"./useReference\";\nimport { renderItem } from \"./renderItem\";\n\nconst t = i18n.ns(\"app-headless-cms/admin/fields/ref\");\n\nconst label = t`Selected content entry is not published. Make sure to {publishItLink} before publishing the main content entry.`;\n\nfunction ContentEntriesAutocomplete({ bind, field }) {\n    const { options, setSearch, value, loading, onChange } = useReference({\n        bind,\n        field\n    });\n\n    let unpublishedEntryInfo = null;\n    if (value && !value.published) {\n        const link = `/cms/content-entries/${value.modelId}?id=${encodeURIComponent(value.id)}`;\n        unpublishedEntryInfo = label({ publishItLink: <Link to={link}>{t`publish it`}</Link> });\n    }\n\n    return (\n        <AutoComplete\n            {...bind}\n            renderItem={renderItem}\n            onChange={onChange}\n            loading={loading}\n            value={value ? value.id : null}\n            options={options}\n            label={field.label}\n            description={\n                <>\n                    {field.helpText}\n                    {unpublishedEntryInfo}\n                </>\n            }\n            onInput={debounce(search => setSearch(search), 250)}\n        />\n    );\n}\n\nexport default ContentEntriesAutocomplete;\n"],"file":"ContentEntriesAutocomplete.js"}