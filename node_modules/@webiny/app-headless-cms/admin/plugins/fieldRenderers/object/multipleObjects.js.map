{"version":3,"sources":["../../../../../src/admin/plugins/fieldRenderers/object/multipleObjects.tsx"],"names":["React","i18n","DynamicSection","Fields","IconButton","Cell","FormElementMessage","Typography","Accordion","fieldsWrapperStyle","dynamicSectionTitleStyle","dynamicSectionGridStyle","fieldsGridStyle","t","ns","plugin","type","name","renderer","rendererName","description","canUse","field","multipleValues","render","props","contentModel","value","label","length","helpText","Bind","bind","index","removeValue","settings","fields","layout"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,cAAP;AACA,SAASC,MAAT;;AAEA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,OAAOC,SAAP;AACA,SACIC,kBADJ,EAEIC,wBAFJ,EAGIC,uBAHJ,EAIIC,eAJJ;AAOA,IAAMC,CAAC,GAAGZ,IAAI,CAACa,EAAL,CAAQ,oCAAR,CAAV;AAEA,IAAMC,MAAoC,GAAG;AACzCC,EAAAA,IAAI,EAAE,2BADmC;AAEzCC,EAAAA,IAAI,EAAE,mCAFmC;AAGzCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,YAAY,EAAE,SADR;AAENF,IAAAA,IAAI,EAAEJ,CAAF,4EAFE;AAGNO,IAAAA,WAAW,EAAEP,CAAF,+FAHL;AAINQ,IAAAA,MAJM,wBAIY;AAAA,UAATC,KAAS,QAATA,KAAS;AACd,aAAOA,KAAK,CAACN,IAAN,KAAe,QAAf,IAA2BM,KAAK,CAACC,cAAxC;AACH,KANK;AAONC,IAAAA,MAPM,kBAOCC,KAPD,EAOQ;AACV,UAAQH,KAAR,GAAgCG,KAAhC,CAAQH,KAAR;AAAA,UAAeI,YAAf,GAAgCD,KAAhC,CAAeC,YAAf;AAEA,0BACI,oBAAC,cAAD,oBACQD,KADR;AAEI,QAAA,UAAU,EAAE,EAFhB;AAGI,QAAA,SAAS,EAAE,KAHf;AAII,QAAA,WAAW,EAAE,qBAAAE,KAAK;AAAA,8BACd,oBAAC,IAAD;AAAM,YAAA,IAAI,EAAE,EAAZ;AAAgB,YAAA,SAAS,EAAEjB;AAA3B,0BACI,oBAAC,UAAD;AAAY,YAAA,GAAG,EAAE;AAAjB,uBACQY,KAAK,CAACM,KADd,cACuBD,KAAK,CAACE,MAAN,cAAmBF,KAAK,CAACE,MAAzB,SAAqC,EAD5D,EADJ,EAIKP,KAAK,CAACQ,QAAN,iBACG,oBAAC,kBAAD,QAAqBR,KAAK,CAACQ,QAA3B,CALR,CADc;AAAA,SAJtB;AAcI,QAAA,aAAa,EAAEnB;AAdnB,UAgBK;AAAA,YAAGoB,IAAH,SAAGA,IAAH;AAAA,YAASC,IAAT,SAASA,IAAT;AAAA,YAAeC,KAAf,SAAeA,KAAf;AAAA,4BACG,oBAAC,SAAD;AACI,UAAA,KAAK,YAAKR,KAAK,CAACH,KAAN,CAAYM,KAAjB,eAA2BK,KAAK,GAAG,CAAnC,CADT;AAEI,UAAA,MAAM,EACFA,KAAK,GAAG,CAAR,iBACI,oBAAC,UAAD;AACI,YAAA,IAAI,eAAE,oBAAC,UAAD,OADV;AAEI,YAAA,OAAO,EAAE;AAAA,qBAAMD,IAAI,CAACV,KAAL,CAAWY,WAAX,CAAuBD,KAAvB,CAAN;AAAA;AAFb,YAJZ,CAUI;AAVJ;AAWI,UAAA,YAAY,EAAEA,KAAK,KAAK;AAX5B,wBAaI,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAE,EAAZ;AAAgB,UAAA,SAAS,EAAExB;AAA3B,wBACI,oBAAC,MAAD;AACI,UAAA,IAAI,EAAEsB;AADV,WAEQC,IAAI,CAACC,KAFb;AAGI,UAAA,YAAY,EAAEP,YAHlB;AAII,UAAA,MAAM,EAAEJ,KAAK,CAACa,QAAN,CAAeC,MAJ3B;AAKI,UAAA,MAAM,EAAEd,KAAK,CAACa,QAAN,CAAeE,MAL3B;AAMI,UAAA,aAAa,EAAEzB;AANnB,WADJ,CAbJ,CADH;AAAA,OAhBL,CADJ;AA6CH;AAvDK;AAH+B,CAA7C;AA8DA,eAAeG,MAAf","sourcesContent":["import React from \"react\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { CmsEditorFieldRendererPlugin } from \"~/types\";\nimport DynamicSection from \"../DynamicSection\";\nimport { Fields } from \"~/admin/components/ContentEntryForm/Fields\";\nimport { ReactComponent as DeleteIcon } from \"~/admin/icons/close.svg\";\nimport { IconButton } from \"@webiny/ui/Button\";\nimport { Cell } from \"@webiny/ui/Grid\";\nimport { FormElementMessage } from \"@webiny/ui/FormElementMessage\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport Accordion from \"~/admin/plugins/fieldRenderers/Accordion\";\nimport {\n    fieldsWrapperStyle,\n    dynamicSectionTitleStyle,\n    dynamicSectionGridStyle,\n    fieldsGridStyle\n} from \"./StyledComponents\";\n\nconst t = i18n.ns(\"app-headless-cms/admin/fields/text\");\n\nconst plugin: CmsEditorFieldRendererPlugin = {\n    type: \"cms-editor-field-renderer\",\n    name: \"cms-editor-field-renderer-objects\",\n    renderer: {\n        rendererName: \"objects\",\n        name: t`Objects`,\n        description: t`Renders a set of fields.`,\n        canUse({ field }) {\n            return field.type === \"object\" && field.multipleValues;\n        },\n        render(props) {\n            const { field, contentModel } = props;\n\n            return (\n                <DynamicSection\n                    {...props}\n                    emptyValue={{}}\n                    showLabel={false}\n                    renderTitle={value => (\n                        <Cell span={12} className={dynamicSectionTitleStyle}>\n                            <Typography use={\"headline5\"}>\n                                {`${field.label} ${value.length ? `(${value.length})` : \"\"}`}\n                            </Typography>\n                            {field.helpText && (\n                                <FormElementMessage>{field.helpText}</FormElementMessage>\n                            )}\n                        </Cell>\n                    )}\n                    gridClassName={dynamicSectionGridStyle}\n                >\n                    {({ Bind, bind, index }) => (\n                        <Accordion\n                            title={`${props.field.label} #${index + 1}`}\n                            action={\n                                index > 0 && (\n                                    <IconButton\n                                        icon={<DeleteIcon />}\n                                        onClick={() => bind.field.removeValue(index)}\n                                    />\n                                )\n                            }\n                            // Open first Accordion by default\n                            defaultValue={index === 0}\n                        >\n                            <Cell span={12} className={fieldsWrapperStyle}>\n                                <Fields\n                                    Bind={Bind}\n                                    {...bind.index}\n                                    contentModel={contentModel}\n                                    fields={field.settings.fields}\n                                    layout={field.settings.layout}\n                                    gridClassName={fieldsGridStyle}\n                                />\n                            </Cell>\n                        </Accordion>\n                    )}\n                </DynamicSection>\n            );\n        }\n    }\n};\n\nexport default plugin;\n"],"file":"multipleObjects.js"}