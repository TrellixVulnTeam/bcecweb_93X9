{"version":3,"sources":["../../../../../src/admin/plugins/editor/defaultBar/CreateContentButton.tsx"],"names":["React","get","useRouter","i18n","IconButton","Tooltip","GET_CONTENT_MODEL","useContentModelEditor","t","namespace","CreateContentButton","router","data","apolloClient","getQuery","readQuery","query","variables","modelId","fields","disableViewContent","length","message","history","push"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAEA,SAASC,iBAAT;AACA,SAASC,qBAAT;AAEA,IAAMC,CAAC,GAAGL,IAAI,CAACM,SAAL,CAAe,mDAAf,CAAV;;AAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAC9B,MAAMC,MAAM,GAAGT,SAAS,EAAxB;;AACA,8BAA+BK,qBAAqB,EAApD;AAAA,MAAQK,IAAR,yBAAQA,IAAR;AAAA,MAAcC,YAAd,yBAAcA,YAAd;;AAEA,MAAMC,QAAQ,GAAGD,YAAY,CAACE,SAAb,CAAuB;AACpCC,IAAAA,KAAK,EAAEV,iBAD6B;AAEpCW,IAAAA,SAAS,EAAE;AACPC,MAAAA,OAAO,EAAEN,IAAI,CAACM;AADP;AAFyB,GAAvB,CAAjB;AAMA,MAAMC,MAAM,GAAGlB,GAAG,CAACa,QAAD,EAAW,6BAAX,EAA0C,EAA1C,CAAlB;AACA,MAAMM,kBAAkB,GAAGD,MAAM,CAACE,MAAP,KAAkB,CAA7C;AACA,MAAMC,OAAO,GAAGF,kBAAkB,GAC5B,sEAD4B,GAE5B,cAFN;AAIA,sBACI,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEZ,CAAC,8EAAD,CAAa;AAAEc,MAAAA,OAAO,EAAPA;AAAF,KAAb,CAAlB;AAA6C,IAAA,SAAS,EAAE;AAAxD,kBACI,oBAAC,UAAD;AACI,IAAA,IAAI,eAAE,oBAAC,YAAD,OADV;AAEI,IAAA,OAAO,EAAE;AAAA,aAAMX,MAAM,CAACY,OAAP,CAAeC,IAAf,gCAA4CZ,IAAI,CAACM,OAAjD,EAAN;AAAA,KAFb;AAGI,IAAA,QAAQ,EAAEE;AAHd,IADJ,CADJ;AASH,CAzBD;;AA2BA,eAAeV,mBAAf","sourcesContent":["import React from \"react\";\nimport get from \"lodash/get\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { IconButton } from \"@webiny/ui/Button\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { ReactComponent as ViewListIcon } from \"~/admin/icons/view_list.svg\";\nimport { GET_CONTENT_MODEL } from \"~/admin/graphql/contentModels\";\nimport { useContentModelEditor } from \"~/admin/components/ContentModelEditor/useContentModelEditor\";\n\nconst t = i18n.namespace(\"app-headless-cms/admin/editor/top-bar/save-button\");\n\nconst CreateContentButton = () => {\n    const router = useRouter();\n    const { data, apolloClient } = useContentModelEditor();\n\n    const getQuery = apolloClient.readQuery({\n        query: GET_CONTENT_MODEL,\n        variables: {\n            modelId: data.modelId\n        }\n    });\n    const fields = get(getQuery, \"getContentModel.data.fields\", []);\n    const disableViewContent = fields.length === 0;\n    const message = disableViewContent\n        ? \"To view the content, you first need to add a field and save the form\"\n        : \"View content\";\n\n    return (\n        <Tooltip content={t`{message}`({ message })} placement={\"bottom\"}>\n            <IconButton\n                icon={<ViewListIcon />}\n                onClick={() => router.history.push(`/cms/content-entries/${data.modelId}`)}\n                disabled={disableViewContent}\n            />\n        </Tooltip>\n    );\n};\n\nexport default CreateContentButton;\n"],"file":"CreateContentButton.js"}