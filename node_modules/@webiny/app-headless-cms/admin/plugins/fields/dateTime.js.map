{"version":3,"sources":["../../../../src/admin/plugins/fields/dateTime.tsx"],"names":["React","Grid","Cell","Select","Input","i18n","t","ns","plugin","type","name","field","label","description","icon","validators","allowMultipleValues","allowPredefinedValues","multipleValuesLabel","createField","settings","validation","renderer","renderSettings","form","Bind","data","contentModel","lockedFields","fieldId","lockedField","find","Boolean","formatType"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,IAAT,EAAeC,IAAf,QAA2B,iBAA3B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AAEA,SAASC,IAAT,QAAqB,kBAArB;;AAGA,IAAMC,CAAC,GAAGD,IAAI,CAACE,EAAL,CAAQ,+BAAR,CAAV;AAEA,IAAMC,MAAgC,GAAG;AACrCC,EAAAA,IAAI,EAAE,uBAD+B;AAErCC,EAAAA,IAAI,EAAE,gCAF+B;AAGrCC,EAAAA,KAAK,EAAE;AACHF,IAAAA,IAAI,EAAE,UADH;AAEHG,IAAAA,KAAK,EAAEN,CAAF,8EAFF;AAGHO,IAAAA,WAAW,EAAEP,CAAF,2FAHR;AAIHQ,IAAAA,IAAI,eAAE,oBAAC,YAAD,OAJH;AAKHC,IAAAA,UAAU,EAAE,CAAC,UAAD,EAAa,SAAb,EAAwB,SAAxB,CALT;AAMHC,IAAAA,mBAAmB,EAAE,IANlB;AAOHC,IAAAA,qBAAqB,EAAE,KAPpB;AAO2B;AAC9BC,IAAAA,mBAAmB,EAAEZ,CAAF,uGARhB;AASHa,IAAAA,WATG,yBASW;AACV,aAAO;AACHV,QAAAA,IAAI,EAAE,KAAKA,IADR;AAEHW,QAAAA,QAAQ,EAAE;AACNX,UAAAA,IAAI,EAAE;AADA,SAFP;AAKHY,QAAAA,UAAU,EAAE,EALT;AAMHC,QAAAA,QAAQ,EAAE;AACNZ,UAAAA,IAAI,EAAE;AADA;AANP,OAAP;AAUH,KApBE;AAqBHa,IAAAA,cArBG,gCAqBoD;AAAA,2BAAtCC,IAAsC;AAAA,UAA9BC,IAA8B,aAA9BA,IAA8B;AAAA,UAAxBC,IAAwB,aAAxBA,IAAwB;AAAA,UAAhBC,YAAgB,QAAhBA,YAAgB;AACnD,UAAMC,YAAY,GAAGD,YAAY,CAACC,YAAb,IAA6B,EAAlD;;AACA,UAAMC,OAAO,GAAG,KAAIH,IAAJ,EAAU,SAAV,EAAqB,IAArB,CAAhB;;AACA,UAAMI,WAAW,GAAGF,YAAY,CAACG,IAAb,CAChB,UAAAD,WAAW;AAAA,eAAIA,WAAW,CAACD,OAAZ,KAAwBA,OAA5B;AAAA,OADK,CAApB;AAMA,0BACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE;AAAZ,sBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE;AAAZ,sBACI,oBAAC,KAAD;AACI,QAAA,KAAK,EAAEvB,CAAF,uFADT;AAEI,QAAA,WAAW,EAAEA,CAAF;AAFf,QADJ,CADJ,CADJ,eASI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE;AAAZ,sBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE;AAAZ,sBACI,oBAAC,MAAD;AACI,QAAA,KAAK,EAAEA,CAAF,6EADT;AAEI,QAAA,WAAW,EAAEA,CAAF,8FAFf;AAGI,QAAA,QAAQ,EAAEwB,WAAW,IAAIE,OAAO,CAACF,WAAW,CAACG,UAAb;AAHpC,sBAKI;AAAQ,QAAA,KAAK,EAAE3B,CAAF;AAAb,SAAyBA,CAAzB,iFALJ,eAMI;AAAQ,QAAA,KAAK,EAAEA,CAAF;AAAb,SAAyBA,CAAzB,mFANJ,eAOI;AACI,QAAA,KAAK,EAAEA,CAAF;AADT,SAEEA,CAFF,qGAPJ,eAUI;AACI,QAAA,KAAK,EAAEA,CAAF;AADT,SAEEA,CAFF,wGAVJ,CADJ,CADJ,CATJ,CADJ;AA8BH;AA5DE;AAH8B,CAAzC;AAmEA,eAAeE,MAAf","sourcesContent":["import React from \"react\";\nimport { get } from \"lodash\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Select } from \"@webiny/ui/Select\";\nimport { Input } from \"@webiny/ui/Input\";\nimport { CmsEditorField, CmsEditorFieldTypePlugin } from \"~/types\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { ReactComponent as DateTimeIcon } from \"./icons/schedule-black-24px.svg\";\n\nconst t = i18n.ns(\"app-headless-cms/admin/fields\");\n\nconst plugin: CmsEditorFieldTypePlugin = {\n    type: \"cms-editor-field-type\",\n    name: \"cms-editor-field-type-dateTime\",\n    field: {\n        type: \"datetime\",\n        label: t`Date/Time`,\n        description: t`Store date and time.`,\n        icon: <DateTimeIcon />,\n        validators: [\"required\", \"dateGte\", \"dateLte\"],\n        allowMultipleValues: true,\n        allowPredefinedValues: false, // TODO: implement \"renderPredefinedValues\" and set to true.\n        multipleValuesLabel: t`Use as a list of dates and times`,\n        createField() {\n            return {\n                type: this.type,\n                settings: {\n                    type: \"date\"\n                },\n                validation: [],\n                renderer: {\n                    name: \"\"\n                }\n            };\n        },\n        renderSettings({ form: { Bind, data }, contentModel }) {\n            const lockedFields = contentModel.lockedFields || [];\n            const fieldId = get(data, \"fieldId\", null);\n            const lockedField = lockedFields.find(\n                lockedField => lockedField.fieldId === fieldId\n            ) as CmsEditorField<{\n                formatType: string;\n            }>;\n\n            return (\n                <Grid>\n                    <Cell span={12}>\n                        <Bind name={\"placeholderText\"}>\n                            <Input\n                                label={t`Placeholder text`}\n                                description={t`Placeholder text (optional)`}\n                            />\n                        </Bind>\n                    </Cell>\n                    <Cell span={12}>\n                        <Bind name={\"settings.type\"}>\n                            <Select\n                                label={t`Format`}\n                                description={t`Cannot be changed later`}\n                                disabled={lockedField && Boolean(lockedField.formatType)}\n                            >\n                                <option value={t`date`}>{t`Date only`}</option>\n                                <option value={t`time`}>{t`Time only`}</option>\n                                <option\n                                    value={t`dateTimeWithTimezone`}\n                                >{t`Date and time with timezone`}</option>\n                                <option\n                                    value={t`dateTimeWithoutTimezone`}\n                                >{t`Date and time without timezone`}</option>\n                            </Select>\n                        </Bind>\n                    </Cell>\n                </Grid>\n            );\n        }\n    }\n};\n\nexport default plugin;\n"],"file":"dateTime.js"}