{"version":3,"sources":["../../../../src/admin/views/contentEntries/ContentEntry.tsx"],"names":["React","css","styled","EmptyView","ButtonDefault","ButtonIcon","i18n","Tab","Tabs","Elevation","CircularProgress","RevisionsList","Header","useContentEntry","ContentEntryForm","t","namespace","DetailsContainer","height","overflow","position","nav","backgroundColor","RenderBlock","zIndex","padding","elevationStyles","ContentEntry","contentModel","loading","entry","showEmptyView","canCreate","createEntry","setTabsRef","setFormRef","message","tabs","form"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport styled from \"@emotion/styled\";\nimport EmptyView from \"@webiny/app-admin/components/EmptyView\";\nimport { ButtonDefault, ButtonIcon } from \"@webiny/ui/Button\";\nimport { ReactComponent as AddIcon } from \"@webiny/app-admin/assets/icons/add-18px.svg\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { Tab, Tabs } from \"@webiny/ui/Tabs\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport RevisionsList from \"./ContentEntry/RevisionsList\";\nimport Header from \"./ContentEntry/header/Header\";\nimport { useContentEntry } from \"./hooks/useContentEntry\";\nimport { ContentEntryForm } from \"~/admin/components/ContentEntryForm/ContentEntryForm\";\n\nconst t = i18n.namespace(\"app-headless-cms/admin/content-model-entries/details\");\n\nconst DetailsContainer = styled(\"div\")({\n    height: \"calc(100% - 10px)\",\n    overflow: \"hidden\",\n    position: \"relative\",\n    nav: {\n        backgroundColor: \"var(--mdc-theme-surface)\"\n    }\n});\n\nconst RenderBlock = styled(\"div\")({\n    position: \"relative\",\n    zIndex: 0,\n    backgroundColor: \"var(--mdc-theme-background)\",\n    height: \"100%\",\n    /*overflow: \"scroll\",*/\n    padding: 25\n});\n\nconst elevationStyles = css({\n    position: \"relative\"\n});\n\ndeclare global {\n    // eslint-disable-next-line\n    namespace JSX {\n        interface IntrinsicElements {\n            \"test-id\": {\n                children?: React.ReactNode;\n            };\n        }\n    }\n}\n\nconst ContentEntry = () => {\n    const {\n        contentModel,\n        loading,\n        entry,\n        showEmptyView,\n        canCreate,\n        createEntry,\n        setTabsRef,\n        setFormRef\n    } = useContentEntry();\n\n    // Render \"No content selected\" view.\n    if (showEmptyView) {\n        return (\n            <EmptyView\n                title={t`Click on the left side list to display entry details {message}`({\n                    message: canCreate ? \"or create a...\" : \"\"\n                })}\n                action={\n                    canCreate ? (\n                        <ButtonDefault data-testid=\"new-record-button\" onClick={createEntry}>\n                            <ButtonIcon icon={<AddIcon />} /> {t`New Entry`}\n                        </ButtonDefault>\n                    ) : null\n                }\n            />\n        );\n    }\n\n    return (\n        <DetailsContainer>\n            <test-id data-testid=\"cms-content-details\">\n                <Tabs ref={tabs => setTabsRef(tabs)}>\n                    <Tab\n                        label={\"Content\"}\n                        disabled={loading}\n                        data-testid={\"cms.content-form.tabs.content\"}\n                    >\n                        <RenderBlock>\n                            <Elevation z={2} className={elevationStyles}>\n                                {loading && <CircularProgress />}\n                                <Header />\n                                <ContentEntryForm\n                                    contentModel={contentModel}\n                                    entry={entry}\n                                    onForm={form => setFormRef(form)}\n                                />\n                            </Elevation>\n                        </RenderBlock>\n                    </Tab>\n                    <Tab\n                        label={\"Revisions\"}\n                        disabled={loading}\n                        data-testid={\"cms.content-form.tabs.revisions\"}\n                    >\n                        <RevisionsList />\n                    </Tab>\n                </Tabs>\n            </test-id>\n        </DetailsContainer>\n    );\n};\n\nexport default ContentEntry;\n"],"file":"ContentEntry.js"}