{"version":3,"sources":["../../../../src/admin/views/contentModels/ContentModels.tsx"],"names":["React","useCallback","useMemo","css","useSecurity","ContentModelsDataList","NewContentModelDialog","Cell","Grid","grid","padding","backgroundColor","gridGap","centeredContent","display","flexDirection","height","overflow","maxHeight","ContentModels","useState","newContentModelDialogOpened","openNewContentModelDialog","identity","canCreate","permission","getPermission","rwd","includes","onCreate","onClose"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,OAAOC,qBAAP;AACA,OAAOC,qBAAP;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,IAAT,QAAqB,iBAArB;AAEA,IAAMC,IAAI,gBAAGN,GAAG,CAAC;AACb,uBAAqB;AACjBO,IAAAA,OAAO,EAAE,CADQ;AAEjBC,IAAAA,eAAe,EAAE,6BAFA;AAGjB,gCAA4B;AACxBC,MAAAA,OAAO,EAAE;AADe;AAHX;AADR,CAAD,gBAAhB;AAUA,IAAMC,eAAe,gBAAGV,GAAG,CAAC;AACxBQ,EAAAA,eAAe,EAAE,0BADO;AAExB,wBAAsB;AAClBG,IAAAA,OAAO,EAAE,MADS;AAElBC,IAAAA,aAAa,EAAE,QAFG;AAGlBC,IAAAA,MAAM,EAAE,oBAHU;AAIlB,iBAAa;AACTC,MAAAA,QAAQ,EAAE;AADD;AAJK,GAFE;AAUxB,gBAAc;AACVH,IAAAA,OAAO,EAAE,MADC;AAEVC,IAAAA,aAAa,EAAE,QAFL;AAGVG,IAAAA,SAAS,EAAE,oBAHD;AAIVD,IAAAA,QAAQ,EAAE;AAJA;AAVU,CAAD,2BAA3B;;AAkBA,SAASE,aAAT,GAAyB;AACrB,wBAAiEnB,KAAK,CAACoB,QAAN,CAAe,KAAf,CAAjE;AAAA;AAAA,MAAOC,2BAAP;AAAA,MAAoCC,yBAApC;;AAEA,qBAAqBlB,WAAW,EAAhC;AAAA,MAAQmB,QAAR,gBAAQA,QAAR;;AAEA,MAAMC,SAAS,GAAGtB,OAAO,CAAC,YAAM;AAC5B,QAAMuB,UAAU,GAAGF,QAAQ,CAACG,aAAT,CAAuB,kBAAvB,CAAnB;;AACA,QAAI,CAACD,UAAL,EAAiB;AACb,aAAO,KAAP;AACH;;AAED,QAAI,OAAOA,UAAU,CAACE,GAAlB,KAA0B,QAA9B,EAAwC;AACpC,aAAO,IAAP;AACH;;AAED,WAAOF,UAAU,CAACE,GAAX,CAAeC,QAAf,CAAwB,GAAxB,CAAP;AACH,GAXwB,EAWtB,EAXsB,CAAzB;AAaA,MAAMC,QAAQ,GAAG5B,WAAW,CAAC;AAAA,WAAMqB,yBAAyB,CAAC,IAAD,CAA/B;AAAA,GAAD,EAAwC,EAAxC,CAA5B;AACA,MAAMQ,OAAO,GAAG7B,WAAW,CAAC;AAAA,WAAMqB,yBAAyB,CAAC,KAAD,CAA/B;AAAA,GAAD,EAAyC,EAAzC,CAA3B;AAEA,sBACI,uDACI,oBAAC,qBAAD;AAAuB,IAAA,IAAI,EAAED,2BAA7B;AAA0D,IAAA,OAAO,EAAES;AAAnE,IADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAErB;AAAjB,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,IADJ,eAEI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAE,CAAZ;AAAe,IAAA,SAAS,EAAEI;AAA1B,kBACI,oBAAC,qBAAD;AAAuB,IAAA,SAAS,EAAEW,SAAlC;AAA6C,IAAA,QAAQ,EAAEK;AAAvD,IADJ,CAFJ,eAKI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,IALJ,CAFJ,CADJ;AAYH;;AAED,eAAeV,aAAf","sourcesContent":["import React, { useCallback, useMemo } from \"react\";\nimport { css } from \"emotion\";\nimport { useSecurity } from \"@webiny/app-security\";\nimport ContentModelsDataList from \"./ContentModelsDataList\";\nimport NewContentModelDialog from \"./NewContentModelDialog\";\nimport { Cell } from \"@webiny/ui/Grid\";\nimport { Grid } from \"@webiny/ui/Grid\";\n\nconst grid = css({\n    \"&.mdc-layout-grid\": {\n        padding: 0,\n        backgroundColor: \"var(--mdc-theme-background)\",\n        \">.mdc-layout-grid__inner\": {\n            gridGap: 0\n        }\n    }\n});\n\nconst centeredContent = css({\n    backgroundColor: \"var(--mdc-theme-surface)\",\n    \">.webiny-data-list\": {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100vh - 70px)\",\n        \".mdc-list\": {\n            overflow: \"auto\"\n        }\n    },\n    \">.mdc-list\": {\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxHeight: \"calc(100vh - 70px)\",\n        overflow: \"auto\"\n    }\n});\n\nfunction ContentModels() {\n    const [newContentModelDialogOpened, openNewContentModelDialog] = React.useState(false);\n\n    const { identity } = useSecurity();\n\n    const canCreate = useMemo(() => {\n        const permission = identity.getPermission(\"cms.contentModel\");\n        if (!permission) {\n            return false;\n        }\n\n        if (typeof permission.rwd !== \"string\") {\n            return true;\n        }\n\n        return permission.rwd.includes(\"w\");\n    }, []);\n\n    const onCreate = useCallback(() => openNewContentModelDialog(true), []);\n    const onClose = useCallback(() => openNewContentModelDialog(false), []);\n\n    return (\n        <>\n            <NewContentModelDialog open={newContentModelDialogOpened} onClose={onClose} />\n            <Grid className={grid}>\n                <Cell span={3} />\n                <Cell span={6} className={centeredContent}>\n                    <ContentModelsDataList canCreate={canCreate} onCreate={onCreate} />\n                </Cell>\n                <Cell span={3} />\n            </Grid>\n        </>\n    );\n}\n\nexport default ContentModels;\n"],"file":"ContentModels.js"}