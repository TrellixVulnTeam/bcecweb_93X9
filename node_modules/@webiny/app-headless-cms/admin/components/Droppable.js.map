{"version":3,"sources":["../../../src/admin/components/Droppable.tsx"],"names":["React","useDrop","Droppable","memo","props","children","onDrop","isVisible","accept","collect","monitor","isOver","shallow","item","getItem","drop","isDragging","Boolean"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAA4BC,OAA5B,QAA2C,WAA3C;AAmBA,IAAMC,SAAS,gBAAGF,KAAK,CAACG,IAAN,CAAW,UAACC,KAAD,EAA2B;AACpD,MAAQC,QAAR,GAAqDD,KAArD,CAAQC,QAAR;AAAA,MAAkBC,MAAlB,GAAqDF,KAArD,CAAkBE,MAAlB;AAAA,yBAAqDF,KAArD,CAA0BG,SAA1B;AAAA,MAA0BA,SAA1B,iCAAsC;AAAA,WAAM,IAAN;AAAA,GAAtC;;AAEA,iBAAiCN,OAAO,CAAC;AACrCO,IAAAA,MAAM,EAAE,SAD6B;AAErCC,IAAAA,OAAO,EAAE,iBAAAC,OAAO;AAAA,aAAK;AACjBC,QAAAA,MAAM,EAAED,OAAO,CAACC,MAAR,MAAoBD,OAAO,CAACC,MAAR,CAAe;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAf,CADX;AAEjBC,QAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAFW,OAAL;AAAA,KAFqB;AAMrCC,IAAAA,IANqC,gBAMhCF,IANgC,EAM1BH,OAN0B,EAMjB;AAChB,UAAI,OAAOJ,MAAP,KAAkB,UAAtB,EAAkC;AAC9B,eAAOA,MAAM,CAACI,OAAO,CAACI,OAAR,EAAD,CAAb;AACH;AACJ;AAVoC,GAAD,CAAxC;AAAA;AAAA;AAAA,MAASD,IAAT,cAASA,IAAT;AAAA,MAAeF,MAAf,cAAeA,MAAf;AAAA,MAAyBI,IAAzB;;AAaA,MAAIF,IAAI,IAAI,CAACN,SAAS,CAACM,IAAD,CAAtB,EAA8B;AAC1B,WAAO,IAAP;AACH;;AAED,SAAOR,QAAQ,CAAC;AAAEW,IAAAA,UAAU,EAAEC,OAAO,CAACJ,IAAD,CAArB;AAA6BF,IAAAA,MAAM,EAANA,MAA7B;AAAqCE,IAAAA,IAAI,EAAJA,IAArC;AAA2CE,IAAAA,IAAI,EAAJA;AAA3C,GAAD,CAAf;AACH,CArBiB,CAAlB;AAuBA,eAAeb,SAAf","sourcesContent":["import * as React from \"react\";\nimport { ConnectDropTarget, useDrop } from \"react-dnd\";\nimport { DragSource } from \"~/admin/components/FieldEditor/FieldEditorContext\";\n\nexport type DroppableChildrenFunction = (params: {\n    isDragging: boolean;\n    isOver: boolean;\n    item: any;\n    drop: ConnectDropTarget;\n}) => React.ReactElement;\n\nexport type DroppableProps = {\n    type?: string;\n    children: DroppableChildrenFunction;\n    isDragging?: boolean;\n    isDroppable?: (item: any) => boolean;\n    isVisible?: (params: { type: string; item: any; isDragging: boolean }) => boolean;\n    onDrop?: (item: DragSource) => void;\n};\n\nconst Droppable = React.memo((props: DroppableProps) => {\n    const { children, onDrop, isVisible = () => true } = props;\n\n    const [{ item, isOver }, drop] = useDrop({\n        accept: \"element\",\n        collect: monitor => ({\n            isOver: monitor.isOver() && monitor.isOver({ shallow: true }),\n            item: monitor.getItem()\n        }),\n        drop(item, monitor) {\n            if (typeof onDrop === \"function\") {\n                return onDrop(monitor.getItem());\n            }\n        }\n    });\n\n    if (item && !isVisible(item)) {\n        return null;\n    }\n\n    return children({ isDragging: Boolean(item), isOver, item, drop });\n});\n\nexport default Droppable;\n"],"file":"Droppable.js"}