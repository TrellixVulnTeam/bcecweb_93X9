{"version":3,"sources":["../../../../src/admin/components/ContentEntryForm/ContentEntryFormPreview.tsx"],"names":["React","useCallback","styled","Form","plugins","RenderFieldElement","Fields","FormWrapper","height","overflow","ContentEntryFormPreview","props","contentModel","formRenderer","byType","find","pl","modelId","renderCustomLayout","formRenderProps","fields","reduce","acc","field","fieldId","Bind","render","formProps","layout"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,IAAT,QAA2C,cAA3C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,kBAAP;AAEA,SAASC,MAAT;AAEA,IAAMC,WAAW,gBAAGL,MAAH,CAAU,KAAV;AAAA;AAAA;AAAA,GAAiB;AAC9BM,EAAAA,MAAM,EAAE,qBADsB;AAE9BC,EAAAA,QAAQ,EAAE;AAFoB,CAAjB,CAAjB;AASA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,KAAD,EAAkB;AACrD,MAAQC,YAAR,GAAyBD,KAAzB,CAAQC,YAAR;AAEA,MAAMC,YAAY,GAAGT,OAAO,CACvBU,MADgB,CACqB,2BADrB,EAEhBC,IAFgB,CAEX,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,OAAH,KAAeL,YAAY,CAACK,OAAhC;AAAA,GAFS,CAArB;AAIA,MAAMC,kBAAkB,GAAGjB,WAAW,CAClC,UAACkB,eAAD,EAA2C;AACvC,QAAMC,MAAM,GAAGR,YAAY,CAACQ,MAAb,CAAoBC,MAApB,CAA2B,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACtDD,MAAAA,GAAG,CAACC,KAAK,CAACC,OAAP,CAAH,gBACI,oBAAC,kBAAD;AACI,QAAA,KAAK,EAAED,KADX;AAEI,QAAA,IAAI,EAAEJ,eAAe,CAACM,IAF1B;AAGI,QAAA,YAAY,EAAEb;AAHlB,QADJ;AAQA,aAAOU,GAAP;AACH,KAVc,EAUZ,EAVY,CAAf;AAWA,WAAOT,YAAY,CAACa,MAAb,iCAAyBP,eAAzB;AAA0CP,MAAAA,YAAY,EAAZA,YAA1C;AAAwDQ,MAAAA,MAAM,EAANA;AAAxD,OAAP;AACH,GAdiC,EAelC,CAACP,YAAD,EAAeD,YAAY,CAACQ,MAA5B,CAfkC,CAAtC;AAkBA,sBACI,oBAAC,IAAD,QACK,UAAAO,SAAS;AAAA,wBACN,oBAAC,WAAD;AAAa,qBAAa;AAA1B,OACKd,YAAY,GACTK,kBAAkB,CAACS,SAAD,CADT,gBAGT,oBAAC,MAAD;AACI,MAAA,YAAY,EAAEf,YADlB;AAEI,MAAA,MAAM,EAAEA,YAAY,CAACQ,MAFzB;AAGI,MAAA,MAAM,EAAER,YAAY,CAACgB;AAHzB,OAIQD,SAJR,EAJR,CADM;AAAA,GADd,CADJ;AAkBH,CA3CM","sourcesContent":["import React, { useCallback } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Form, FormRenderPropParams } from \"@webiny/form\";\nimport { plugins } from \"@webiny/plugins\";\nimport RenderFieldElement from \"./RenderFieldElement\";\nimport { CmsContentFormRendererPlugin, CmsEditorContentModel } from \"~/types\";\nimport { Fields } from \"~/admin/components/ContentEntryForm/Fields\";\n\nconst FormWrapper = styled(\"div\")({\n    height: \"calc(100vh - 260px)\",\n    overflow: \"auto\"\n});\n\ninterface Props {\n    contentModel: CmsEditorContentModel;\n}\n\nexport const ContentEntryFormPreview = (props: Props) => {\n    const { contentModel } = props;\n\n    const formRenderer = plugins\n        .byType<CmsContentFormRendererPlugin>(\"cms-content-form-renderer\")\n        .find(pl => pl.modelId === contentModel.modelId);\n\n    const renderCustomLayout = useCallback(\n        (formRenderProps: FormRenderPropParams) => {\n            const fields = contentModel.fields.reduce((acc, field) => {\n                acc[field.fieldId] = (\n                    <RenderFieldElement\n                        field={field}\n                        Bind={formRenderProps.Bind}\n                        contentModel={contentModel}\n                    />\n                );\n\n                return acc;\n            }, {});\n            return formRenderer.render({ ...formRenderProps, contentModel, fields });\n        },\n        [formRenderer, contentModel.fields]\n    );\n\n    return (\n        <Form>\n            {formProps => (\n                <FormWrapper data-testid={\"cms-content-form\"}>\n                    {formRenderer ? (\n                        renderCustomLayout(formProps)\n                    ) : (\n                        <Fields\n                            contentModel={contentModel}\n                            fields={contentModel.fields}\n                            layout={contentModel.layout}\n                            {...formProps}\n                        />\n                    )}\n                </FormWrapper>\n            )}\n        </Form>\n    );\n};\n"],"file":"ContentEntryFormPreview.js"}