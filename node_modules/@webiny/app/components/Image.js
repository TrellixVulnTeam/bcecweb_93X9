import _objectWithoutProperties from "@babel/runtime/helpers/objectWithoutProperties";
import _get from "lodash/get";
var _excluded = ["preset"];
import invariant from "invariant";
import { plugins } from "@webiny/plugins";
export var Image = function Image(_ref) {
  var presetName = _ref.preset,
      props = _objectWithoutProperties(_ref, _excluded);

  var plugin = plugins.byName("image-component");

  if (!plugin) {
    throw new Error("Image component plugin (type \"image-component\") not defined.");
  }

  if (presetName) {
    var preset = _get(plugin, "presets.".concat(presetName));

    invariant(preset, "Transform preset \"".concat(presetName, "\" not found."));
    props.transform = preset;
  }

  if (props.transform) {
    props.src = plugin.getImageSrc(props);
  }

  return plugin.render(props);
};
//# sourceMappingURL=Image.js.map