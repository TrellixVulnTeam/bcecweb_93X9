{"version":3,"sources":["../../src/components/Image.tsx"],"names":["invariant","plugins","Image","presetName","preset","props","plugin","byName","Error","transform","src","getImageSrc","render"],"mappings":";;;AACA,OAAOA,SAAP,MAAsB,WAAtB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAIA,OAAO,IAAMC,KAA2B,GAAG,SAA9BA,KAA8B,OAAsC;AAAA,MAA3BC,UAA2B,QAAnCC,MAAmC;AAAA,MAAZC,KAAY;;AAC7E,MAAMC,MAAM,GAAGL,OAAO,CAACM,MAAR,CAAqC,iBAArC,CAAf;;AACA,MAAI,CAACD,MAAL,EAAa;AACT,UAAM,IAAIE,KAAJ,kEAAN;AACH;;AAED,MAAIL,UAAJ,EAAgB;AACZ,QAAMC,MAAM,GAAG,KAAIE,MAAJ,oBAAuBH,UAAvB,EAAf;;AACAH,IAAAA,SAAS,CAACI,MAAD,+BAA8BD,UAA9B,mBAAT;AACAE,IAAAA,KAAK,CAACI,SAAN,GAAkBL,MAAlB;AACH;;AAED,MAAIC,KAAK,CAACI,SAAV,EAAqB;AACjBJ,IAAAA,KAAK,CAACK,GAAN,GAAYJ,MAAM,CAACK,WAAP,CAAmBN,KAAnB,CAAZ;AACH;;AAED,SAAOC,MAAM,CAACM,MAAP,CAAcP,KAAd,CAAP;AACH,CAjBM","sourcesContent":["import * as React from \"react\";\nimport invariant from \"invariant\";\nimport { plugins } from \"@webiny/plugins\";\nimport { get } from \"lodash\";\nimport { ImageComponentPlugin, ImageProps } from \"../types\";\n\nexport const Image: React.FC<ImageProps> = ({ preset: presetName, ...props }) => {\n    const plugin = plugins.byName<ImageComponentPlugin>(\"image-component\");\n    if (!plugin) {\n        throw new Error(`Image component plugin (type \"image-component\") not defined.`);\n    }\n\n    if (presetName) {\n        const preset = get(plugin, `presets.${presetName}`);\n        invariant(preset, `Transform preset \"${presetName}\" not found.`);\n        props.transform = preset;\n    }\n\n    if (props.transform) {\n        props.src = plugin.getImageSrc(props);\n    }\n\n    return plugin.render(props);\n};\n"],"file":"Image.js"}