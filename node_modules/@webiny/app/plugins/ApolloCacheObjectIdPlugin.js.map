{"version":3,"sources":["../../src/plugins/ApolloCacheObjectIdPlugin.ts"],"names":["Plugin","ApolloCacheObjectIdPlugin","getObjectId","_getObjectId","data","Error"],"mappings":";;;;;;AAAA,SAASA,MAAT,QAAuB,iBAAvB;AAWA,WAAaC,yBAAb;AAAA;;AAAA;;AAII,qCAAYC,WAAZ,EAAuC;AAAA;;AAAA;;AACnC;;AADmC;;AAEnC,UAAKC,YAAL,GAAoBD,WAApB;AAFmC;AAGtC;;AAPL;AAAA;AAAA,WASI,qBAAYE,IAAZ,EAAqB;AACjB,UAAI,OAAO,KAAKD,YAAZ,KAA6B,UAAjC,EAA6C;AACzC,cAAME,KAAK,kHAAX;AAGH;;AAED,aAAO,KAAKF,YAAL,CAAkBC,IAAlB,CAAP;AACH;AAjBL;;AAAA;AAAA,EAA0EJ,MAA1E;;gBAAaC,yB,UACqB,qB","sourcesContent":["import { Plugin } from \"@webiny/plugins\";\n\nexport interface Object {\n    __typename?: string;\n    [key: string]: any;\n}\n\ninterface Callable<T> {\n    (data: T): any;\n}\n\nexport class ApolloCacheObjectIdPlugin<T extends Object = Object> extends Plugin {\n    public static readonly type = \"cache-get-object-id\";\n    private _getObjectId: Callable<T>;\n\n    constructor(getObjectId?: Callable<T>) {\n        super();\n        this._getObjectId = getObjectId;\n    }\n\n    getObjectId(data: T) {\n        if (typeof this._getObjectId !== \"function\") {\n            throw Error(\n                `You must provide a \"getObjectId\" callable to the plugin constructor or extend the ApolloCacheObjectIdPlugin.`\n            );\n        }\n\n        return this._getObjectId(data);\n    }\n}\n"],"file":"ApolloCacheObjectIdPlugin.js"}