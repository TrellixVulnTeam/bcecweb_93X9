{"version":3,"sources":["../../src/plugins/NetworkErrorLinkPlugin.ts"],"names":["ApolloLinkPlugin","onError","print","createErrorOverlay","boolean","NetworkErrorLinkPlugin","networkError","operation","debug","process","env","REACT_APP_DEBUG","query"],"mappings":";;;;AAAA,SAASA,gBAAT;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,kBAAP;AACA,SAASC,OAAT,QAAwB,SAAxB;AAEA;AACA;AACA;;AACA,WAAaC,sBAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,WACI,sBAAa;AACT,aAAOJ,OAAO,CAAC,gBAAiC;AAAA,YAA9BK,YAA8B,QAA9BA,YAA8B;AAAA,YAAhBC,SAAgB,QAAhBA,SAAgB;AAC5C,YAAMC,KAAK,GAAGJ,OAAO,CAACK,OAAO,CAACC,GAAR,CAAYC,eAAb,CAArB;;AAEA,YAAIL,YAAY,IAAIE,KAApB,EAA2B;AACvBL,UAAAA,kBAAkB,CAAC;AAAES,YAAAA,KAAK,EAAEV,KAAK,CAACK,SAAS,CAACK,KAAX,CAAd;AAAiCN,YAAAA,YAAY,EAAZA;AAAjC,WAAD,CAAlB;AACH,SAL2C,CAO5C;;AACH,OARa,CAAd;AASH;AAXL;;AAAA;AAAA,EAA4CN,gBAA5C","sourcesContent":["import { ApolloLinkPlugin } from \"./ApolloLinkPlugin\";\nimport { onError } from \"apollo-link-error\";\nimport { print } from \"graphql/language\";\nimport createErrorOverlay from \"./NetworkErrorLinkPlugin/createErrorOverlay\";\nimport { boolean } from \"boolean\";\n\n/**\n * This plugin creates an ApolloLink that checks for `NetworkError` and shows an ErrorOverlay in the browser.\n */\nexport class NetworkErrorLinkPlugin extends ApolloLinkPlugin {\n    createLink() {\n        return onError(({ networkError, operation }) => {\n            const debug = boolean(process.env.REACT_APP_DEBUG);\n\n            if (networkError && debug) {\n                createErrorOverlay({ query: print(operation.query), networkError });\n            }\n\n            // TODO: also print graphQLErrors\n        });\n    }\n}\n"],"file":"NetworkErrorLinkPlugin.js"}