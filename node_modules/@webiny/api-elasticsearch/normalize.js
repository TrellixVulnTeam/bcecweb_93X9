"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.normalizeValue = void 0;

/**
 * Before performing the query, we need to escape all special characters.
 * @see https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#_reserved_characters
 */
const RESERVED_CHARACTERS = {
  // These characters need to be escaped with backslash ("\").
  escape: ["\\\\", "\\/", "\\+", "\\-", "\\=", "\\&\\&", "\\|\\|", "\\!", "\\(", "\\)", "\\{", "\\}", "\\[", "\\]", "\\^", '\\"', "\\~", "\\*", "\\?", "\\:", "\\>", "\\<"]
};

const normalizeValue = value => {
  let result = value;

  for (const character of RESERVED_CHARACTERS.escape) {
    result = result.replace(new RegExp(`${character}`, "g"), ` `);
  }

  return result ? `*${result}*` : "";
};

exports.normalizeValue = normalizeValue;
//# sourceMappingURL=normalize.js.map