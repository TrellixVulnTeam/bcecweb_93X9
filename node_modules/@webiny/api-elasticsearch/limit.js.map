{"version":3,"sources":["../src/limit.ts"],"names":["ES_LIMIT_MAX","ES_LIMIT_DEFAULT","createLimit","limit","defaultValue"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA,MAAMA,YAAY,GAAG,KAArB;AACA;AACA;AACA;;AACA,MAAMC,gBAAgB,GAAG,EAAzB;;AAEO,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAiBC,YAAY,GAAGH,gBAAhC,KAA6D;AACpF;AACJ;AACA;AACA;AACI,MAAI,CAACE,KAAD,IAAUA,KAAK,GAAG,CAAtB,EAAyB;AACrB,WAAOC,YAAP;AACH;AACD;AACJ;AACA;AACA;;;AACI,MAAID,KAAK,GAAGH,YAAZ,EAA0B;AACtB,WAAOG,KAAP;AACH;AACD;AACJ;AACA;AACA;;;AACI,SAAOH,YAAY,GAAG,CAAtB;AACH,CApBM","sourcesContent":["/**\n * This is the max limit of the Elasticsearch.\n * Change here if it changes (and if it is necessary).\n */\nconst ES_LIMIT_MAX = 10000;\n/**\n * Our system default limit.\n */\nconst ES_LIMIT_DEFAULT = 50;\n\nexport const createLimit = (limit?: number, defaultValue = ES_LIMIT_DEFAULT): number => {\n    /**\n     * Limit can possibly be null/undefined or less than 1.\n     * In that case return the defaults.\n     */\n    if (!limit || limit < 1) {\n        return defaultValue;\n    }\n    /**\n     * Users input limit cannot be greater than the Elasticsearch one.\n     * Elasticsearch query breaks because of that.\n     */\n    if (limit < ES_LIMIT_MAX) {\n        return limit;\n    }\n    /**\n     * Always reduce by 1 because we check if there are more items by adding 1 to the limit\n     * and then remove that last one loaded.\n     */\n    return ES_LIMIT_MAX - 1;\n};\n"],"file":"limit.js"}