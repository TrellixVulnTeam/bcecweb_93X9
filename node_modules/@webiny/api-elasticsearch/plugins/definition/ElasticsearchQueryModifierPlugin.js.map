{"version":3,"sources":["../../../src/plugins/definition/ElasticsearchQueryModifierPlugin.ts"],"names":["ElasticsearchQueryModifierPlugin","Plugin","constructor","callable","_callable","apply","params","WebinyError","name"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AAQO,MAAMA,gCAAN,SAA+CC,eAA/C,CAAsD;AAIlDC,EAAAA,WAAW,CAACC,QAAD,EAAsB;AACpC;AADoC;AAEpC,SAAKC,SAAL,GAAiBD,QAAjB;AACH;;AAEME,EAAAA,KAAK,CAEVC,MAFU,EAEO;AACf,QAAI,CAAC,KAAKF,SAAV,EAAqB;AACjB,YAAM,IAAIG,cAAJ,CAAiB,4BAA2B,KAAKL,WAAL,CAAiBM,IAAK,IAAlE,CAAN;AACH;;AACD,SAAKJ,SAAL,CAAeE,MAAf;AACH;;AAhBwD;;;8BAAhDN,gC,UACqB,qC","sourcesContent":["import { Plugin } from \"@webiny/plugins\";\nimport { ElasticsearchQueryModifierPluginParams } from \"~/types\";\nimport WebinyError from \"@webiny/error\";\n\ninterface Callable<\n    T extends ElasticsearchQueryModifierPluginParams = ElasticsearchQueryModifierPluginParams\n> {\n    (params: T): string;\n}\n\nexport class ElasticsearchQueryModifierPlugin extends Plugin {\n    public static readonly type = \"elasticsearch.queryBuilder.modifier\";\n    private readonly _callable?: Callable;\n\n    public constructor(callable?: Callable) {\n        super();\n        this._callable = callable;\n    }\n\n    public apply<\n        P extends ElasticsearchQueryModifierPluginParams = ElasticsearchQueryModifierPluginParams\n    >(params: P): void {\n        if (!this._callable) {\n            throw new WebinyError(`Missing callable in the \"${this.constructor.name}\".`);\n        }\n        this._callable(params);\n    }\n}\n"],"file":"ElasticsearchQueryModifierPlugin.js"}