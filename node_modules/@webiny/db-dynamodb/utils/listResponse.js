"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createListResponse = void 0;

var _cursor = require("./cursor");

const createListResponse = params => {
  const {
    items: initialItems,
    after,
    totalCount,
    limit
  } = params;
  const start = (0, _cursor.decodeCursor)(after) || 0;
  const hasMoreItems = totalCount > start + limit;
  const end = limit > totalCount + start + limit ? undefined : start + limit;
  const items = initialItems.slice(start, end);
  const cursor = items.length > 0 ? (0, _cursor.encodeCursor)(start + limit) : null;
  const meta = {
    hasMoreItems,
    totalCount,
    cursor
  };
  return [items, meta];
};

exports.createListResponse = createListResponse;
//# sourceMappingURL=listResponse.js.map