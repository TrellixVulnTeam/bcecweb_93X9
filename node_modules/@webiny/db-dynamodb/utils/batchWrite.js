"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.batchWriteAll = void 0;

var _lodash = _interopRequireDefault(require("lodash.chunk"));

/**
 * Method is meant for batch writing to a single table.
 * It expects already prepared items for the write.
 * It can either delete or put items
 * The method does not check items before actually sending them into the underlying library.
 */
const batchWriteAll = async (params, maxChunk = 25) => {
  const chunkedItems = (0, _lodash.default)(params.items, maxChunk);

  for (const items of chunkedItems) {
    await params.table.batchWrite(items);
  }
};

exports.batchWriteAll = batchWriteAll;
//# sourceMappingURL=batchWrite.js.map