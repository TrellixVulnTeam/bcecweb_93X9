{"version":3,"sources":["../../../src/elasticsearch/indexing/numberIndexing.ts"],"names":["convertToString","value","Array","isArray","map","String","convertToFloat","parseFloat","v","type","name","fieldType","unmappedType","toIndex","fromIndex"],"mappings":";;;;;;;AAEA,MAAMA,eAAe,GAAIC,KAAD,IAA8B;AAClD,MAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,MAAyB,KAA7B,EAAoC;AAChC,WAAOA,KAAP;AACH;;AACD,SAAQA,KAAD,CAAoBG,GAApB,CAAwBC,MAAxB,CAAP;AACH,CALD;;AAOA,MAAMC,cAAc,GAAIL,KAAD,IAA8B;AACjD,MAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,MAAyB,KAA7B,EAAoC;AAChC,WAAO,OAAOA,KAAP,KAAiB,QAAjB,GAA4BM,UAAU,CAACN,KAAD,CAAtC,GAAgDA,KAAvD;AACH;;AACD,SAAQA,KAAD,CAAoBG,GAApB,CAAwBI,CAAC,IAAID,UAAU,CAACC,CAAD,CAAvC,CAAP;AACH,CALD;;eAOe,OAA2C;AACtDC,EAAAA,IAAI,EAAE,mCADgD;AAEtDC,EAAAA,IAAI,EAAE,0CAFgD;AAGtDC,EAAAA,SAAS,EAAE,QAH2C;AAItDC,EAAAA,YAAY,EAAE,MAAM;AAChB,WAAO,OAAP;AACH,GANqD;;AAOtDC,EAAAA,OAAO,CAAC;AAAEZ,IAAAA;AAAF,GAAD,EAAY;AACf,WAAO;AACHA,MAAAA,KAAK,EAAED,eAAe,CAACC,KAAD;AADnB,KAAP;AAGH,GAXqD;;AAYtDa,EAAAA,SAAS,CAAC;AAAEb,IAAAA;AAAF,GAAD,EAAY;AACjB,WAAOK,cAAc,CAACL,KAAD,CAArB;AACH;;AAdqD,CAA3C,C","sourcesContent":["import { CmsModelFieldToElasticsearchPlugin } from \"~/types\";\n\nconst convertToString = (value: number[] | number) => {\n    if (Array.isArray(value) === false) {\n        return value;\n    }\n    return (value as number[]).map(String);\n};\n\nconst convertToFloat = (value: string[] | number) => {\n    if (Array.isArray(value) === false) {\n        return typeof value === \"string\" ? parseFloat(value) : value;\n    }\n    return (value as string[]).map(v => parseFloat(v));\n};\n\nexport default (): CmsModelFieldToElasticsearchPlugin => ({\n    type: \"cms-model-field-to-elastic-search\",\n    name: \"cms-model-field-to-elastic-search-number\",\n    fieldType: \"number\",\n    unmappedType: () => {\n        return \"float\";\n    },\n    toIndex({ value }) {\n        return {\n            value: convertToString(value)\n        };\n    },\n    fromIndex({ value }) {\n        return convertToFloat(value);\n    }\n});\n"],"file":"numberIndexing.js"}