"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createFieldFinder = void 0;

const createFieldFinder = models => {
  const modelsList = {};

  for (const model of models) {
    const values = {
      id: {},
      type: {}
    };

    for (const field of model.fields) {
      values.id[field.fieldId] = field;

      if (!values.type[field.type]) {
        values.type[field.type] = [];
      }

      values.type[field.type].push(field);
    }

    modelsList[model.modelId] = values;
  }

  return {
    findById: (model, fieldId) => {
      const modelId = typeof model === "string" ? model : model.modelId;
      return modelsList[modelId].id[fieldId];
    },
    findByType: (model, type) => {
      const modelId = typeof model === "string" ? model : model.modelId;
      return modelsList[modelId].type[type];
    }
  };
};

exports.createFieldFinder = createFieldFinder;
//# sourceMappingURL=fieldFinder.js.map