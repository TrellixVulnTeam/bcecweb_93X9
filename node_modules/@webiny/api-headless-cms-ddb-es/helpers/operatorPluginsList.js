"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.operatorPluginsList = void 0;

var _error = _interopRequireDefault(require("@webiny/error"));

var _ElasticsearchQueryBuilderOperatorPlugin = require("@webiny/api-elasticsearch/plugins/definition/ElasticsearchQueryBuilderOperatorPlugin");

const operatorPluginsList = context => {
  return context.plugins.byType(_ElasticsearchQueryBuilderOperatorPlugin.ElasticsearchQueryBuilderOperatorPlugin.type).reduce((plugins, plugin) => {
    const operator = plugin.getOperator();

    if (plugins[operator]) {
      throw new _error.default("There is a ElasticsearchQueryBuilderOperatorPlugin defined for the operator.", "PLUGIN_ALREADY_EXISTS", {
        operator: operator,
        name: plugin.name || "unknown"
      });
    }

    plugins[operator] = plugin;
    return plugins;
  }, {});
};

exports.operatorPluginsList = operatorPluginsList;
//# sourceMappingURL=operatorPluginsList.js.map