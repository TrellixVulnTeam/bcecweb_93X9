"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.searchPluginsList = void 0;

var _error = _interopRequireDefault(require("@webiny/error"));

const searchPluginsList = context => {
  return context.plugins.byType("cms-elastic-search-query-builder-value-search").reduce((plugins, plugin) => {
    if (plugins[plugin.fieldType]) {
      throw new _error.default("There is a ElasticsearchQueryBuilderValueSearchPlugin defined for the field type.", "PLUGIN_ALREADY_EXISTS", {
        fieldType: plugin.fieldType,
        name: plugin.name || "unknown"
      });
    }

    plugins[plugin.fieldType] = plugin;
    return plugins;
  }, {});
};

exports.searchPluginsList = searchPluginsList;
//# sourceMappingURL=searchPluginsList.js.map