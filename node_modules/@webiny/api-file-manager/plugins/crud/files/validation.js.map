{"version":3,"sources":["../../../../src/plugins/crud/files/validation.ts"],"names":["FilePlugin","beforeCreate","data","FileModel","fileData","populate","validate","beforeUpdate","updatedFileData","beforeBatchCreate","input","fileInstance"],"mappings":";;;;;;;;;AAAA;;AACA;;eAEe,MAAM,CACjB,IAAIA,sBAAJ,CAAe;AACXC,EAAAA,YAAY,EAAE,OAAO;AAAEC,IAAAA;AAAF,GAAP,KAAoB;AAC9B,UAAMC,SAAS,GAAG,+BAAlB;AACA,UAAMC,QAAQ,GAAG,IAAID,SAAJ,GAAgBE,QAAhB,CAAyBH,IAAzB,CAAjB;AACA,UAAME,QAAQ,CAACE,QAAT,EAAN;AACH,GALU;AAMXC,EAAAA,YAAY,EAAE,OAAO;AAAEL,IAAAA;AAAF,GAAP,KAAoB;AAC9B,UAAMC,SAAS,GAAG,8BAAgB,KAAhB,CAAlB;AACA,UAAMK,eAAe,GAAG,IAAIL,SAAJ,GAAgBE,QAAhB,CAAyBH,IAAzB,CAAxB;AACA,UAAMM,eAAe,CAACF,QAAhB,EAAN;AACH,GAVU;AAWXG,EAAAA,iBAAiB,EAAE,OAAO;AAAEP,IAAAA;AAAF,GAAP,KAAoB;AACnC,UAAMC,SAAS,GAAG,+BAAlB;;AACA,SAAK,MAAMO,KAAX,IAAoBR,IAApB,EAA0B;AACtB,YAAMS,YAAY,GAAG,IAAIR,SAAJ,GAAgBE,QAAhB,CAAyBK,KAAzB,CAArB;AACA,YAAMC,YAAY,CAACL,QAAb,EAAN;AACH;AACJ;AAjBU,CAAf,CADiB,C","sourcesContent":["import { FilePlugin } from \"~/plugins/definitions/FilePlugin\";\nimport createFileModel from \"~/plugins/crud/utils/createFileModel\";\n\nexport default () => [\n    new FilePlugin({\n        beforeCreate: async ({ data }) => {\n            const FileModel = createFileModel();\n            const fileData = new FileModel().populate(data);\n            await fileData.validate();\n        },\n        beforeUpdate: async ({ data }) => {\n            const FileModel = createFileModel(false);\n            const updatedFileData = new FileModel().populate(data);\n            await updatedFileData.validate();\n        },\n        beforeBatchCreate: async ({ data }) => {\n            const FileModel = createFileModel();\n            for (const input of data) {\n                const fileInstance = new FileModel().populate(input);\n                await fileInstance.validate();\n            }\n        }\n    })\n];\n"],"file":"validation.js"}