"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.buildFunction = void 0;

var _projectUtils = require("@webiny/project-utils");

const buildFunction = async (options, context) => {
  const userWebpack = options.webpack;

  options.webpack = config => {
    if (typeof userWebpack === "function") {
      config = userWebpack(config);
    }

    config.externals.push("sharp");
    return config;
  };

  await (0, _projectUtils.buildFunction)(options, context);
};

exports.buildFunction = buildFunction;
//# sourceMappingURL=index.js.map