{"version":3,"sources":["../src/index.ts"],"names":["args","type","apply","context","db","Db"],"mappings":";;;;;;;AAAA;;eAIeA,IAAI,IAAI;AACnB,SAAO,CACH;AACIC,IAAAA,IAAI,EAAE,SADV;;AAEIC,IAAAA,KAAK,CAACC,OAAD,EAAU;AACX,UAAIA,OAAO,CAACC,EAAZ,EAAgB;AACZ;AACH;;AACDD,MAAAA,OAAO,CAACC,EAAR,GAAa,IAAIC,MAAJ,CAAOL,IAAP,CAAb;AACH;;AAPL,GADG,CAAP;AAWH,C","sourcesContent":["import { Db } from \"@webiny/db\";\nimport { ContextPlugin } from \"@webiny/handler/types\";\nimport { DbContext } from \"./types\";\n\nexport default args => {\n    return [\n        {\n            type: \"context\",\n            apply(context) {\n                if (context.db) {\n                    return;\n                }\n                context.db = new Db(args);\n            }\n        } as ContextPlugin<DbContext>\n    ];\n};\n"],"file":"index.js"}