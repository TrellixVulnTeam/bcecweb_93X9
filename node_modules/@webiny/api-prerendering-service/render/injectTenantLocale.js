"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _default = args => async tree => {
  var _args$args, _args$args$args, _args$args$args$confi;

  console.log("Injecting tenant and locale into HTML...");
  const meta = args === null || args === void 0 ? void 0 : (_args$args = args.args) === null || _args$args === void 0 ? void 0 : (_args$args$args = _args$args.args) === null || _args$args$args === void 0 ? void 0 : (_args$args$args$confi = _args$args$args.configuration) === null || _args$args$args$confi === void 0 ? void 0 : _args$args$args$confi.meta;

  if (!meta) {
    return;
  }

  tree.match({
    tag: "head"
  }, node => {
    if (meta.tenant) {
      node.content.push(`<script>window.__PS_RENDER_TENANT__ = "${meta.tenant}";</script>`);
    }

    if (meta.locale) {
      node.content.push(`<script>window.__PS_RENDER_LOCALE__ = "${meta.locale}";</script>`);
    }

    return node;
  });
};

exports.default = _default;
//# sourceMappingURL=injectTenantLocale.js.map