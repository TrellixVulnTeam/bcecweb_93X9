{"version":3,"sources":["../../../src/operations/files/transformers.ts"],"names":["transformToIndex","plugins","file","originalFile","indexFile","plugin","toIndex","original","transformFromIndex","fromIndex"],"mappings":";;;;;;;;;;;;;;;AAOO,MAAMA,gBAAgB,GAAG,OAAO;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAP,KAA2D;AACvF,QAAMC,YAAY,qBACXD,IADW,CAAlB;;AAGA,MAAIE,SAAS,qBACNF,IADM,CAAb;;AAGA,OAAK,MAAMG,MAAX,IAAqBJ,OAArB,EAA8B;AAC1BG,IAAAA,SAAS,GAAG,MAAMC,MAAM,CAACC,OAAP,CAAe;AAC7BC,MAAAA,QAAQ,EAAEJ,YADmB;AAE7BD,MAAAA,IAAI,EAAEE;AAFuB,KAAf,CAAlB;AAIH;;AACD,SAAOA,SAAP;AACH,CAdM;;;;AAmBA,MAAMI,kBAAkB,GAAG,OAAO;AAAEP,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAP,KAA6D;AAC3F,MAAIK,QAAQ,qBACLL,IADK,CAAZ;;AAGA,OAAK,MAAMG,MAAX,IAAqBJ,OAArB,EAA8B;AAC1BM,IAAAA,QAAQ,GAAG,MAAMF,MAAM,CAACI,SAAP,CAAiB;AAC9BP,MAAAA,IAAI,EAAEK;AADwB,KAAjB,CAAjB;AAGH;;AACD,SAAOA,QAAP;AACH,CAVM","sourcesContent":["import { File } from \"@webiny/api-file-manager/types\";\nimport { FileIndexTransformPlugin } from \"~/plugins/FileIndexTransformPlugin\";\n\ninterface ToIndexParams {\n    plugins: FileIndexTransformPlugin[];\n    file: File;\n}\nexport const transformToIndex = async ({ plugins, file }: ToIndexParams): Promise<File> => {\n    const originalFile = {\n        ...file\n    };\n    let indexFile = {\n        ...file\n    };\n    for (const plugin of plugins) {\n        indexFile = await plugin.toIndex({\n            original: originalFile,\n            file: indexFile\n        });\n    }\n    return indexFile;\n};\ninterface FromIndexParams {\n    plugins: FileIndexTransformPlugin[];\n    file: File;\n}\nexport const transformFromIndex = async ({ plugins, file }: FromIndexParams): Promise<File> => {\n    let original = {\n        ...file\n    };\n    for (const plugin of plugins) {\n        original = await plugin.fromIndex({\n            file: original\n        });\n    }\n    return original;\n};\n"],"file":"transformers.js"}