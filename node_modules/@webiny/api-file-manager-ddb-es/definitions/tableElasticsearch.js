"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _dynamodbToolbox = require("dynamodb-toolbox");

var _configurations = _interopRequireDefault(require("../operations/configurations"));

var _error = _interopRequireDefault(require("@webiny/error"));

var _utils = require("../operations/utils");

var _default = params => {
  const {
    context
  } = params;

  const tableName = _configurations.default.esDb().table;

  if (!tableName) {
    throw new _error.default(`Missing Elasticsearch table in the configuration.`, "TABLE_NAME_ERROR");
  }

  return new _dynamodbToolbox.Table({
    name: tableName,
    partitionKey: "PK",
    sortKey: "SK",
    DocumentClient: (0, _utils.getDocumentClient)(context)
  });
};

exports.default = _default;
//# sourceMappingURL=tableElasticsearch.js.map