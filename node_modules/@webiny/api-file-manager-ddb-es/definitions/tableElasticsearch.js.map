{"version":3,"sources":["../../src/definitions/tableElasticsearch.ts"],"names":["params","context","tableName","configurations","esDb","table","WebinyError","Table","name","partitionKey","sortKey","DocumentClient"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;eAEgBA,MAAD,IAAoD;AAC/D,QAAM;AAAEC,IAAAA;AAAF,MAAcD,MAApB;;AACA,QAAME,SAAS,GAAGC,wBAAeC,IAAf,GAAsBC,KAAxC;;AAEA,MAAI,CAACH,SAAL,EAAgB;AACZ,UAAM,IAAII,cAAJ,CACD,mDADC,EAEF,kBAFE,CAAN;AAIH;;AAED,SAAO,IAAIC,sBAAJ,CAAU;AACbC,IAAAA,IAAI,EAAEN,SADO;AAEbO,IAAAA,YAAY,EAAE,IAFD;AAGbC,IAAAA,OAAO,EAAE,IAHI;AAIbC,IAAAA,cAAc,EAAE,8BAAkBV,OAAlB;AAJH,GAAV,CAAP;AAMH,C","sourcesContent":["import { Table } from \"dynamodb-toolbox\";\nimport configurations from \"~/operations/configurations\";\nimport { FileManagerContext } from \"@webiny/api-file-manager/types\";\nimport WebinyError from \"@webiny/error\";\nimport { getDocumentClient } from \"~/operations/utils\";\n\nexport default (params: { context: FileManagerContext }): Table => {\n    const { context } = params;\n    const tableName = configurations.esDb().table;\n\n    if (!tableName) {\n        throw new WebinyError(\n            `Missing Elasticsearch table in the configuration.`,\n            \"TABLE_NAME_ERROR\"\n        );\n    }\n\n    return new Table({\n        name: tableName,\n        partitionKey: \"PK\",\n        sortKey: \"SK\",\n        DocumentClient: getDocumentClient(context)\n    });\n};\n"],"file":"tableElasticsearch.js"}