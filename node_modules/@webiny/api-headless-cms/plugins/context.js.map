{"version":3,"sources":["../../src/plugins/context.ts"],"names":["ContextPlugin","context","locale","i18n","getCurrentLocale","cms","code","getLocale"],"mappings":";;;;;;;;;;;AAAA;;;;;;eAGe,MAAM;AACjB,SAAO,IAAIA,4BAAJ,CAA8BC,OAAO,IAAI;AAC5C,UAAMC,MAAM,GAAGD,OAAO,CAACE,IAAR,CAAaC,gBAAb,EAAf;AAEAH,IAAAA,OAAO,CAACI,GAAR,mCACQJ,OAAO,CAACI,GAAR,IAAgB,EADxB;AAEIH,MAAAA,MAAM,EAAEA,MAAM,GAAGA,MAAM,CAACI,IAAV,GAAiB,OAFnC;;AAGIC,MAAAA,SAAS,GAAG;AACR,eAAOL,MAAM,IAAI;AAAEI,UAAAA,IAAI,EAAE;AAAR,SAAjB;AACH;;AALL;AAOH,GAVM,CAAP;AAWH,C","sourcesContent":["import { ContextPlugin } from \"@webiny/handler/plugins/ContextPlugin\";\nimport { CmsContext } from \"~/types\";\n\nexport default () => {\n    return new ContextPlugin<CmsContext>(context => {\n        const locale = context.i18n.getCurrentLocale();\n\n        context.cms = {\n            ...(context.cms || ({} as any)),\n            locale: locale ? locale.code : \"en-US\",\n            getLocale() {\n                return locale || { code: \"en-US\" };\n            }\n        };\n    });\n};\n"],"file":"context.js"}