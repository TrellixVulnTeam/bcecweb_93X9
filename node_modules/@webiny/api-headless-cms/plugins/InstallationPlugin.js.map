{"version":3,"sources":["../../src/plugins/InstallationPlugin.ts"],"names":["InstallationPlugin","Plugin","constructor","config","_config","beforeInstall","params","_execute","afterInstall","callback"],"mappings":";;;;;;;;;;;AAAA;;AAcO,MAAMA,kBAAN,SAAiCC,eAAjC,CAAwC;AAI3CC,EAAAA,WAAW,CAACC,MAAD,EAAkB;AACzB;AADyB;AAEzB,SAAKC,OAAL,GAAeD,MAAM,IAAI,EAAzB;AACH;;AAEDE,EAAAA,aAAa,CAACC,MAAD,EAAmD;AAC5D,WAAO,KAAKC,QAAL,CAAc,eAAd,EAA+BD,MAA/B,CAAP;AACH;;AAEDE,EAAAA,YAAY,CAACF,MAAD,EAAmD;AAC3D,WAAO,KAAKC,QAAL,CAAc,cAAd,EAA8BD,MAA9B,CAAP;AACH;;AAEOC,EAAAA,QAAQ,CAACE,QAAD,EAAWH,MAAX,EAAmB;AAC/B,QAAI,OAAO,KAAKF,OAAL,CAAaK,QAAb,CAAP,KAAkC,UAAtC,EAAkD;AAC9C,aAAO,KAAKL,OAAL,CAAaK,QAAb,EAAuBH,MAAvB,CAAP;AACH;AACJ;;AArB0C;;;8BAAlCN,kB,UACqB,a","sourcesContent":["import { Plugin } from \"@webiny/plugins\";\nimport { CmsContext } from \"~/types\";\n\nexport type CallbackFunction<TParams> = (params: TParams) => void | Promise<void>;\n\ninterface InstallationParams {\n    context: CmsContext;\n}\n\ninterface Config {\n    beforeInstall?: CallbackFunction<InstallationParams>;\n    afterInstall?: CallbackFunction<InstallationParams>;\n}\n\nexport class InstallationPlugin extends Plugin {\n    public static readonly type = \"cms.install\";\n    private _config: Partial<Config>;\n\n    constructor(config?: Config) {\n        super();\n        this._config = config || {};\n    }\n\n    beforeInstall(params: InstallationParams): void | Promise<void> {\n        return this._execute(\"beforeInstall\", params);\n    }\n\n    afterInstall(params: InstallationParams): void | Promise<void> {\n        return this._execute(\"afterInstall\", params);\n    }\n\n    private _execute(callback, params) {\n        if (typeof this._config[callback] === \"function\") {\n            return this._config[callback](params);\n        }\n    }\n}\n"],"file":"InstallationPlugin.js"}