{"version":3,"sources":["../../../../../../src/content/plugins/schema/resolvers/manage/resolveGetRevisions.ts"],"names":["resolveGetRevisions","model","root","args","cms","revisions","entries","getEntryRevisions","id","Response","sort","a","b","version","e","ErrorResponse"],"mappings":";;;;;;;AAAA;;AAMO,MAAMA,mBAAoC,GAC7C,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACA,OAAOC,IAAP,EAAaC,IAAb,EAAmB;AAAEC,EAAAA;AAAF,CAAnB,KAA+B;AAC3B,MAAI;AACA,UAAMC,SAA4B,GAAG,MAAMD,GAAG,CAACE,OAAJ,CAAYC,iBAAZ,CACvCN,KADuC,EAEvCE,IAAI,CAACK,EAFkC,CAA3C;AAKA,WAAO,IAAIC,mBAAJ,CAAaJ,SAAS,CAACK,IAAV,CAAe,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,OAAF,GAAYF,CAAC,CAACE,OAAvC,CAAb,CAAP;AACH,GAPD,CAOE,OAAOC,CAAP,EAAU;AACR,WAAO,IAAIC,wBAAJ,CAAkBD,CAAlB,CAAP;AACH;AACJ,CAbE","sourcesContent":["import { ErrorResponse, Response } from \"@webiny/handler-graphql/responses\";\nimport {\n    CmsContentEntryResolverFactory as ResolverFactory,\n    CmsContentEntry\n} from \"../../../../../types\";\n\nexport const resolveGetRevisions: ResolverFactory =\n    ({ model }) =>\n    async (root, args, { cms }) => {\n        try {\n            const revisions: CmsContentEntry[] = await cms.entries.getEntryRevisions(\n                model,\n                args.id\n            );\n\n            return new Response(revisions.sort((a, b) => b.version - a.version));\n        } catch (e) {\n            return new ErrorResponse(e);\n        }\n    };\n"],"file":"resolveGetRevisions.js"}