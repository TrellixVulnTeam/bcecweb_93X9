{"version":3,"sources":["../../../../../../src/content/plugins/schema/resolvers/read/resolveGet.ts"],"names":["resolveGet","model","root","args","context","entry","cms","entries","listPublished","limit","NotFoundError","Response","e","ErrorResponse"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;;;;;AAEO,MAAMA,UAA2B,GACpC,CAAC;AAAEC,EAAAA;AAAF,CAAD,KACA,OAAOC,IAAP,EAAaC,IAAb,EAAmBC,OAAnB,KAA+B;AAC3B,MAAI;AACA,UAAM,CAAC,CAACC,KAAD,CAAD,IAAY,MAAMD,OAAO,CAACE,GAAR,CAAYC,OAAZ,CAAoBC,aAApB,CAAkCP,KAAlC,kCAA8CE,IAA9C;AAAoDM,MAAAA,KAAK,EAAE;AAA3D,OAAxB;;AACA,QAAI,CAACJ,KAAL,EAAY;AACR,YAAM,IAAIK,6BAAJ,CAAmB,kBAAnB,CAAN;AACH;;AACD,WAAO,IAAIC,mBAAJ,CAAaN,KAAb,CAAP;AACH,GAND,CAME,OAAOO,CAAP,EAAU;AACR,WAAO,IAAIC,wBAAJ,CAAkBD,CAAlB,CAAP;AACH;AACJ,CAZE","sourcesContent":["import { ErrorResponse, Response } from \"@webiny/handler-graphql/responses\";\nimport { CmsContentEntryResolverFactory as ResolverFactory } from \"../../../../../types\";\nimport { NotFoundError } from \"@webiny/handler-graphql\";\n\nexport const resolveGet: ResolverFactory =\n    ({ model }) =>\n    async (root, args, context) => {\n        try {\n            const [[entry]] = await context.cms.entries.listPublished(model, { ...args, limit: 1 });\n            if (!entry) {\n                throw new NotFoundError(`Entry not found!`);\n            }\n            return new Response(entry);\n        } catch (e) {\n            return new ErrorResponse(e);\n        }\n    };\n"],"file":"resolveGet.js"}