{"version":3,"sources":["../../../../src/content/plugins/internalSecurity/InternalAuthorizationPlugin.ts"],"names":["InternalAuthorizationPlugin","AuthorizationPlugin","constructor","identityType","_identityType","getPermissions","context","identity","security","getIdentity","type","permissions"],"mappings":";;;;;;;;;;;AAAA;;AAGO,MAAMA,2BAAN,SAA0CC,wCAA1C,CAA8D;AAGjEC,EAAAA,WAAW,CAACC,YAAD,EAAuB;AAC9B;AAD8B;AAG9B,SAAKC,aAAL,GAAqBD,YAArB;AACH;;AAEDE,EAAAA,cAAc,CAACC,OAAD,EAAsB;AAChC,UAAMC,QAAQ,GAAGD,OAAO,CAACE,QAAR,CAAiBC,WAAjB,EAAjB;;AAEA,QAAI,CAACF,QAAD,IAAaA,QAAQ,CAACG,IAAT,KAAkB,KAAKN,aAAxC,EAAuD;AACnD;AACH,KAL+B,CAOhC;;;AACA,WAAOG,QAAQ,CAACI,WAAhB;AACH;;AAlBgE","sourcesContent":["import { AuthorizationPlugin } from \"@webiny/api-security/plugins/AuthorizationPlugin\";\nimport { CmsContext } from \"~/types\";\n\nexport class InternalAuthorizationPlugin extends AuthorizationPlugin {\n    private _identityType: string;\n\n    constructor(identityType: string) {\n        super();\n\n        this._identityType = identityType;\n    }\n\n    getPermissions(context: CmsContext) {\n        const identity = context.security.getIdentity();\n\n        if (!identity || identity.type !== this._identityType) {\n            return;\n        }\n\n        // Return permissions we defined in the authentication plugin.\n        return identity.permissions;\n    }\n}\n"],"file":"InternalAuthorizationPlugin.js"}