{"version":3,"sources":["../../../../src/content/plugins/utils/getEntryTitle.ts"],"names":["getEntryTitle","model","entry","titleFieldId","id","titleValue","values","field","fields","find","f","fieldId","enabled","predefinedValues","Array","isArray","value","label"],"mappings":";;;;;;;AAEO,SAASA,aAAT,CAAuBC,KAAvB,EAA+CC,KAA/C,EAAuE;AAC1E,MAAI,CAACD,KAAK,CAACE,YAAX,EAAyB;AACrB,WAAOD,KAAK,CAACE,EAAb;AACH;;AACD,QAAMC,UAAU,GAAGH,KAAK,CAACI,MAAN,CAAaL,KAAK,CAACE,YAAnB,CAAnB;;AACA,MAAI,CAACE,UAAL,EAAiB;AACb,WAAOH,KAAK,CAACE,EAAb;AACH;;AACD,QAAMG,KAAK,GAAGN,KAAK,CAACO,MAAN,CAAaC,IAAb,CAAkBC,CAAC,IAAIA,CAAC,CAACC,OAAF,KAAcV,KAAK,CAACE,YAA3C,CAAd;;AACA,MAAI,CAACI,KAAL,EAAY;AACR,WAAOF,UAAP;AACH;;AACD,QAAM;AAAEO,IAAAA,OAAO,GAAG,KAAZ;AAAmBN,IAAAA;AAAnB,MAA8BC,KAAK,CAACM,gBAAN,IAA0B,EAA9D;;AACA,MAAI,CAACD,OAAD,IAAYE,KAAK,CAACC,OAAN,CAAcT,MAAd,MAA0B,KAA1C,EAAiD;AAC7C,WAAOD,UAAP;AACH;;AACD,OAAK,MAAMW,KAAX,IAAoBV,MAApB,EAA4B;AACxB;AACA,QAAIU,KAAK,CAACA,KAAN,IAAeX,UAAnB,EAA+B;AAC3B,aAAOW,KAAK,CAACC,KAAb;AACH;AACJ;;AACD,SAAOZ,UAAP;AACH","sourcesContent":["import { CmsContentEntry, CmsContentModel } from \"../../../types\";\n\nexport function getEntryTitle(model: CmsContentModel, entry: CmsContentEntry) {\n    if (!model.titleFieldId) {\n        return entry.id;\n    }\n    const titleValue = entry.values[model.titleFieldId];\n    if (!titleValue) {\n        return entry.id;\n    }\n    const field = model.fields.find(f => f.fieldId === model.titleFieldId);\n    if (!field) {\n        return titleValue;\n    }\n    const { enabled = false, values } = field.predefinedValues || {};\n    if (!enabled || Array.isArray(values) === false) {\n        return titleValue;\n    }\n    for (const value of values) {\n        // needs to be loose because titleValue can be a number and value can be a string - but it must match\n        if (value.value == titleValue) {\n            return value.label;\n        }\n    }\n    return titleValue;\n}\n"],"file":"getEntryTitle.js"}