{"version":3,"sources":["../../../../src/content/plugins/utils/getSchemaFromFieldPlugins.ts"],"names":["TYPE_MAP","preview","read","manage","getSchemaFromFieldPlugins","models","fieldTypePlugins","type","Object","values","map","pl","createSchema","filter","Boolean"],"mappings":";;;;;;AAWA,MAAMA,QAAQ,GAAG;AACbC,EAAAA,OAAO,EAAE,MADI;AAEbC,EAAAA,IAAI,EAAE,MAFO;AAGbC,EAAAA,MAAM,EAAE;AAHK,CAAjB;;AAMO,MAAMC,yBAAsD,GAAG,CAAC;AACnEC,EAAAA,MADmE;AAEnEC,EAAAA,gBAFmE;AAGnEC,EAAAA;AAHmE,CAAD,KAIhE;AACF,SAAOC,MAAM,CAACC,MAAP,CAAcH,gBAAd,EACFI,GADE,CACEC,EAAE,IAAI;AACP;AACA,QAAI,OAAOA,EAAE,CAACX,QAAQ,CAACO,IAAD,CAAT,CAAF,CAAmBK,YAA1B,KAA2C,UAA/C,EAA2D;AACvD,aAAOD,EAAE,CAACX,QAAQ,CAACO,IAAD,CAAT,CAAF,CAAmBK,YAAnB,CAAgC;AAAEP,QAAAA;AAAF,OAAhC,CAAP;AACH;;AACD,WAAO,IAAP;AACH,GAPE,EAQFQ,MARE,CAQKC,OARL,CAAP;AASH,CAdM","sourcesContent":["import { CmsContentModel, CmsContext, CmsFieldTypePlugins } from \"../../../types\";\nimport { GraphQLSchemaDefinition } from \"@webiny/handler-graphql/types\";\n\ninterface RenderTypesFromFieldPlugins {\n    (params: {\n        models: CmsContentModel[];\n        fieldTypePlugins: CmsFieldTypePlugins;\n        type: string;\n    }): GraphQLSchemaDefinition<CmsContext>[];\n}\n\nconst TYPE_MAP = {\n    preview: \"read\",\n    read: \"read\",\n    manage: \"manage\"\n};\n\nexport const getSchemaFromFieldPlugins: RenderTypesFromFieldPlugins = ({\n    models,\n    fieldTypePlugins,\n    type\n}) => {\n    return Object.values(fieldTypePlugins)\n        .map(pl => {\n            // Render gql types generated by field type plugins\n            if (typeof pl[TYPE_MAP[type]].createSchema === \"function\") {\n                return pl[TYPE_MAP[type]].createSchema({ models });\n            }\n            return null;\n        })\n        .filter(Boolean);\n};\n"],"file":"getSchemaFromFieldPlugins.js"}