{"version":3,"sources":["../../../../src/content/plugins/validators/dateLte.ts"],"names":["type","name","validator","validate","value","lteValue","settings","validation","then","v","catch"],"mappings":";;;;;;;AAAA;;eAGe,OAAqC;AAChDA,EAAAA,IAAI,EAAE,2BAD0C;AAEhDC,EAAAA,IAAI,EAAE,oCAF0C;AAGhDC,EAAAA,SAAS,EAAE;AACPD,IAAAA,IAAI,EAAE,SADC;;AAEP,UAAME,QAAN,CAAe;AAAEC,MAAAA,KAAF;AAASF,MAAAA;AAAT,KAAf,EAAqC;AACjC,YAAM;AAAEE,QAAAA,KAAK,EAAEC,QAAT;AAAmBL,QAAAA;AAAnB,UAA4BE,SAAS,CAACI,QAA5C;;AACA,UAAI,OAAOD,QAAP,KAAoB,WAAxB,EAAqC;AACjC,eAAO,IAAP;AACH,OAFD,MAEO,IAAIL,IAAI,KAAK,MAAb,EAAqB;AACxB,eAAOO,uBACFJ,QADE,CACOC,KADP,EACe,WAAUC,QAAS,EADlC,EAEFG,IAFE,CAEGC,CAAC,IAAIA,CAAC,KAAK,IAFd,EAGFC,KAHE,CAGI,MAAM,KAHV,CAAP;AAIH;;AACD,aAAOH,uBACFJ,QADE,CACOC,KADP,EACe,WAAUC,QAAS,EADlC,EAEFG,IAFE,CAEGC,CAAC,IAAIA,CAAC,KAAK,IAFd,EAGFC,KAHE,CAGI,MAAM,KAHV,CAAP;AAIH;;AAhBM;AAHqC,CAArC,C","sourcesContent":["import { validation } from \"@webiny/validation\";\nimport { CmsModelFieldValidatorPlugin } from \"../../../types\";\n\nexport default (): CmsModelFieldValidatorPlugin => ({\n    type: \"cms-model-field-validator\",\n    name: \"cms-model-field-validator-date-lte\",\n    validator: {\n        name: \"dateLte\",\n        async validate({ value, validator }) {\n            const { value: lteValue, type } = validator.settings;\n            if (typeof lteValue === \"undefined\") {\n                return true;\n            } else if (type === \"time\") {\n                return validation\n                    .validate(value, `timeLte:${lteValue}`)\n                    .then(v => v === true)\n                    .catch(() => false);\n            }\n            return validation\n                .validate(value, `dateLte:${lteValue}`)\n                .then(v => v === true)\n                .catch(() => false);\n        }\n    }\n});\n"],"file":"dateLte.js"}