{"version":3,"sources":["../../../../../src/content/plugins/crud/contentModel/validateLayout.ts"],"names":["validateLayout","layout","fields","flatLayoutIdList","reduce","acc","id","concat","Array","isArray","length","Error","field","includes","fieldFound","some","f"],"mappings":";;;;;;;AAEO,MAAMA,cAAc,GAAG,CAC1B;AAAEC,EAAAA;AAAF,CAD0B,EAE1BC,MAF0B,KAGnB;AACP,QAAMC,gBAAgB,GAAGF,MAAM,CAACG,MAAP,CAAc,CAACC,GAAD,EAAMC,EAAN,KAAa;AAChD,WAAOD,GAAG,CAACE,MAAJ,CAAWC,KAAK,CAACC,OAAN,CAAcH,EAAd,IAAoBA,EAApB,GAAyB,CAACA,EAAD,CAApC,CAAP;AACH,GAFwB,EAEtB,EAFsB,CAAzB;;AAGA,MAAIH,gBAAgB,CAACO,MAAjB,KAA4BR,MAAM,CAACQ,MAAvC,EAA+C;AAC3C,UAAM,IAAIC,KAAJ,CACD,aAAYR,gBAAgB,CAACO,MAAO,0BAAyBR,MAAM,CAACQ,MAAO,yDAD1E,CAAN;AAGH;;AACD,OAAK,MAAME,KAAX,IAAoBV,MAApB,EAA4B;AACxB,QAAIC,gBAAgB,CAACU,QAAjB,CAA0BD,KAAK,CAACN,EAAhC,CAAJ,EAAyC;AACrC;AACH;;AACD,UAAM,IAAIK,KAAJ,CAAW,UAASC,KAAK,CAACN,EAAG,6BAA7B,CAAN;AACH;;AACD,OAAK,MAAMA,EAAX,IAAiBH,gBAAjB,EAAmC;AAC/B,UAAMW,UAAU,GAAGZ,MAAM,CAACa,IAAP,CAAYC,CAAC,IAAIA,CAAC,CAACV,EAAF,KAASA,EAA1B,CAAnB;;AACA,QAAIQ,UAAJ,EAAgB;AACZ;AACH;;AACD,UAAM,IAAIH,KAAJ,CAAW,aAAYL,EAAG,mCAA1B,CAAN;AACH;AACJ,CAzBM","sourcesContent":["import { CmsContentModelField, CmsContentModel } from \"../../../../types\";\n\nexport const validateLayout = (\n    { layout }: CmsContentModel,\n    fields: CmsContentModelField[]\n): void => {\n    const flatLayoutIdList = layout.reduce((acc, id) => {\n        return acc.concat(Array.isArray(id) ? id : [id]);\n    }, []);\n    if (flatLayoutIdList.length !== fields.length) {\n        throw new Error(\n            `There are ${flatLayoutIdList.length} IDs in the layout and ${fields.length} in fields, which cannot be - numbers must be the same.`\n        );\n    }\n    for (const field of fields) {\n        if (flatLayoutIdList.includes(field.id)) {\n            continue;\n        }\n        throw new Error(`Field \"${field.id}\" is not defined in layout.`);\n    }\n    for (const id of flatLayoutIdList) {\n        const fieldFound = fields.some(f => f.id === id);\n        if (fieldFound) {\n            continue;\n        }\n        throw new Error(`Field id \"${id}\" is in layout but not in fields.`);\n    }\n};\n"],"file":"validateLayout.js"}