{"version":3,"sources":["../../../../../src/editor/plugins/toolbar/undoRedo/index.tsx"],"names":["React","platform","useSetRecoilState","activeElementAtom","Action","useEventActionHandler","metaKey","os","family","undo","name","type","renderAction","setActiveElementAtomValue","onClick","redo"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,iBAAT,QAAkC,QAAlC;;;AAIA,SAASC,iBAAT;AACA,OAAOC,MAAP;AACA,SAASC,qBAAT;AAEA,IAAMC,OAAO,GAAGL,QAAQ,CAACM,EAAT,CAAYC,MAAZ,KAAuB,MAAvB,GAAgC,KAAhC,GAAwC,MAAxD;AAEA,OAAO,IAAMC,IAAiC,GAAG;AAC7CC,EAAAA,IAAI,EAAE,wBADuC;AAE7CC,EAAAA,IAAI,EAAE,0BAFuC;AAG7CC,EAAAA,YAH6C,0BAG9B;AACX,gCAAiBP,qBAAqB,EAAtC;AAAA,QAAQI,IAAR,yBAAQA,IAAR;;AACA,QAAMI,yBAAyB,GAAGX,iBAAiB,CAACC,iBAAD,CAAnD;;AAEA,QAAMW,QAAO,GAAG,SAAVA,OAAU,GAAM;AAClBL,MAAAA,IAAI;AACJI,MAAAA,yBAAyB,CAAC,IAAD,CAAzB;AACH,KAHD;;AAIA,wBACI,oBAAC,MAAD;AACI,MAAA,EAAE,EAAE,aADR;AAEI,MAAA,OAAO,kBAAWP,OAAX,QAFX;AAGI,MAAA,OAAO,EAAE;AAAA,eAAMQ,QAAO,EAAb;AAAA,OAHb;AAII,MAAA,IAAI,eAAE,oBAAC,QAAD;AAJV,MADJ;AAQH;AAnB4C,CAA1C;AAsBP,OAAO,IAAMC,IAAiC,GAAG;AAC7CL,EAAAA,IAAI,EAAE,wBADuC;AAE7CC,EAAAA,IAAI,EAAE,0BAFuC;AAG7CC,EAAAA,YAH6C,0BAG9B;AACX,iCAAiBP,qBAAqB,EAAtC;AAAA,QAAQU,IAAR,0BAAQA,IAAR;;AACA,QAAMF,yBAAyB,GAAGX,iBAAiB,CAACC,iBAAD,CAAnD;;AAEA,QAAMW,SAAO,GAAG,SAAVA,OAAU,GAAM;AAClBD,MAAAA,yBAAyB,CAAC,IAAD,CAAzB;AACAE,MAAAA,IAAI;AACP,KAHD;;AAKA,wBACI,oBAAC,MAAD;AACI,MAAA,EAAE,EAAE,aADR;AAEI,MAAA,OAAO,kBAAWT,OAAX,cAFX;AAGI,MAAA,OAAO,EAAE;AAAA,eAAMQ,SAAO,EAAb;AAAA,OAHb;AAII,MAAA,IAAI,eAAE,oBAAC,QAAD;AAJV,MADJ;AAQH;AApB4C,CAA1C","sourcesContent":["import React from \"react\";\nimport platform from \"platform\";\nimport { useSetRecoilState } from \"recoil\";\nimport { ReactComponent as UndoIcon } from \"../../../assets/icons/undo-icon.svg\";\nimport { ReactComponent as RedoIcon } from \"../../../assets/icons/redo-icon.svg\";\nimport { PbEditorToolbarBottomPlugin } from \"../../../../types\";\nimport { activeElementAtom } from \"../../../recoil/modules\";\nimport Action from \"../Action\";\nimport { useEventActionHandler } from \"../../../hooks/useEventActionHandler\";\n\nconst metaKey = platform.os.family === \"OS X\" ? \"CMD\" : \"CTRL\";\n\nexport const undo: PbEditorToolbarBottomPlugin = {\n    name: \"pb-editor-toolbar-undo\",\n    type: \"pb-editor-toolbar-bottom\",\n    renderAction() {\n        const { undo } = useEventActionHandler();\n        const setActiveElementAtomValue = useSetRecoilState(activeElementAtom);\n\n        const onClick = () => {\n            undo();\n            setActiveElementAtomValue(null);\n        };\n        return (\n            <Action\n                id={\"action-undo\"}\n                tooltip={`Undo (${metaKey}+Z)`}\n                onClick={() => onClick()}\n                icon={<UndoIcon />}\n            />\n        );\n    }\n};\n\nexport const redo: PbEditorToolbarBottomPlugin = {\n    name: \"pb-editor-toolbar-redo\",\n    type: \"pb-editor-toolbar-bottom\",\n    renderAction() {\n        const { redo } = useEventActionHandler();\n        const setActiveElementAtomValue = useSetRecoilState(activeElementAtom);\n\n        const onClick = () => {\n            setActiveElementAtomValue(null);\n            redo();\n        };\n\n        return (\n            <Action\n                id={\"action-redo\"}\n                tooltip={`Redo (${metaKey}+SHIFT+Z)`}\n                onClick={() => onClick()}\n                icon={<RedoIcon />}\n            />\n        );\n    }\n};\n"],"file":"index.js"}