{"version":3,"sources":["../../../../../src/editor/plugins/toolbar/onboarding/Onboarding.tsx"],"names":["React","useCallback","useEffect","useState","styled","Carousel","useEventActionHandler","isPluginActiveSelector","DeactivatePluginActionEvent","useKeyHandler","useRecoilValue","Slide1","Slide2","Slide3","Slide4","Slide5","Slide6","Slide7","Overlay","position","top","left","width","height","backgroundColor","display","alignItems","justifyContent","right","bottom","OutsideContainer","Container","borderRadius","color","InnerContainer","SlideControl","background","boxShadow","cursor","onboardingPluginName","Onboarding","handler","slideIndex","setSlideIndex","addKeyHandler","removeKeyHandler","showOnboarding","nextSlide","closeDialog","trigger","name","currentSlide","previousSlide","memo"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Carousel } from \"@webiny/ui/Carousel\";\nimport { useEventActionHandler } from \"../../../hooks/useEventActionHandler\";\nimport { isPluginActiveSelector } from \"../../../recoil/modules\";\nimport { DeactivatePluginActionEvent } from \"../../../recoil/actions\";\nimport { useKeyHandler } from \"../../../hooks/useKeyHandler\";\nimport { useRecoilValue } from \"recoil\";\n\nimport { ReactComponent as NextSlideIcon } from \"./assets/next-slide.svg\";\nimport { ReactComponent as PrevSlideIcon } from \"./assets/prev-slide.svg\";\n\nimport Slide1 from \"./slides/Slide1\";\nimport Slide2 from \"./slides/Slide2\";\nimport Slide3 from \"./slides/Slide3\";\nimport Slide4 from \"./slides/Slide4\";\nimport Slide5 from \"./slides/Slide5\";\nimport Slide6 from \"./slides/Slide6\";\nimport Slide7 from \"./slides/Slide7\";\n\nconst Overlay = styled(\"div\")({\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    \".slider-control-centerright\": {\n        right: \"-50px !important\"\n    },\n    \".slider-control-centerleft\": {\n        left: \"-50px !important\"\n    },\n    \".slider-control-bottomcenter\": {\n        bottom: \"-50px !important\"\n    }\n});\n\nconst OutsideContainer = styled(\"div\")({\n    width: \"100%\",\n    height: \"100%\",\n    position: \"absolute\"\n});\n\nconst Container = styled(\"div\")({\n    width: 800,\n    height: 600,\n    backgroundColor: \"var(--mdc-theme-surface)\",\n    borderRadius: 2,\n    color: \"var(--mdc-theme-text-primary-on-background)\"\n});\n\nconst InnerContainer = styled(\"div\")({\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\"\n});\n\nconst SlideControl = styled(\"div\")({\n    background: \"var(--mdc-theme-surface)\",\n    boxShadow: \"0 6px 6px 0 rgba(0,0,0,0.26), 0 10px 20px 0 rgba(0,0,0,0.19)\",\n    borderRadius: \"50%\",\n    width: 40,\n    height: 40,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    cursor: \"pointer\",\n    color: \"var(--mdc-theme-text-secondary-on-background)\",\n    \"&:hover\": {\n        background: \"var(--mdc-theme-background)\"\n    }\n});\n\nconst onboardingPluginName = \"pb-editor-toolbar-onboarding\";\n\nconst Onboarding: React.FunctionComponent = () => {\n    const handler = useEventActionHandler();\n    const [slideIndex, setSlideIndex] = useState(0);\n    const { addKeyHandler, removeKeyHandler } = useKeyHandler();\n    const showOnboarding = useRecoilValue(isPluginActiveSelector(onboardingPluginName));\n\n    const nextSlide = useCallback(() => {\n        setSlideIndex(slideIndex + 1);\n    }, [slideIndex]);\n\n    const closeDialog = useCallback(() => {\n        setSlideIndex(0);\n        handler.trigger(\n            new DeactivatePluginActionEvent({\n                name: onboardingPluginName\n            })\n        );\n    }, [setSlideIndex]);\n\n    useEffect(() => {\n        showOnboarding ? addKeyHandler(\"escape\", closeDialog) : removeKeyHandler(\"escape\");\n    });\n\n    if (!showOnboarding) {\n        return null;\n    }\n\n    return (\n        <Overlay>\n            <OutsideContainer onClick={closeDialog} />\n            <Container>\n                <Carousel\n                    speed={slideIndex < 1 || slideIndex > 4 ? 500 : 0}\n                    dragging={true}\n                    transitionMode={\"scroll\"}\n                    slideIndex={slideIndex}\n                    afterSlide={setSlideIndex}\n                    renderNextSlide={({ nextSlide, currentSlide }) =>\n                        currentSlide < 6 && (\n                            <SlideControl onClick={nextSlide}>\n                                <NextSlideIcon />\n                            </SlideControl>\n                        )\n                    }\n                    renderPreviousSlide={({ previousSlide, currentSlide }) =>\n                        currentSlide > 0 && (\n                            <SlideControl onClick={previousSlide}>\n                                <PrevSlideIcon />\n                            </SlideControl>\n                        )\n                    }\n                >\n                    <InnerContainer>\n                        <Slide1 nextSlide={nextSlide} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide2 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide3 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide4 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide5 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide6 currentSlide={slideIndex + 1} />\n                    </InnerContainer>\n                    <InnerContainer>\n                        <Slide7 closeDialog={closeDialog} />\n                    </InnerContainer>\n                </Carousel>\n            </Container>\n        </Overlay>\n    );\n};\n\nexport default React.memo(Onboarding);\n"],"file":"Onboarding.js"}