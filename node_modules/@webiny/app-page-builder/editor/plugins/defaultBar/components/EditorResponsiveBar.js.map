{"version":3,"sources":["../../../../../src/editor/plugins/defaultBar/components/EditorResponsiveBar.tsx"],"names":["React","useCallback","useMemo","useRecoilState","css","classNames","plugins","IconButton","Tooltip","Typography","uiAtom","setDisplayModeMutation","usePageBuilder","classes","wrapper","height","display","justifyContent","alignItems","borderRight","borderLeft","backgroundColor","color","dimensionIndicator","padding","marginRight","marginLeft","tooltip","textAlign","textTransform","fontWeight","fill","marginTop","EditorResponsiveBar","displayMode","pagePreviewDimension","setUiAtomValue","setDisplayMode","responsiveDisplayMode","setEditorMode","prev","responsiveBarContent","editorModes","byType","map","config","mode","icon","toolTip","title","subTitleIcon","subTitle","body","active","width"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,GAAT,QAAoB,SAApB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AAEA,SAASC,MAAT,EAAiBC,sBAAjB;AACA,SAASC,cAAT;AAEA,IAAMC,OAAO,GAAG;AACZC,EAAAA,OAAO,eAAEV,GAAG,CAAC;AACTW,IAAAA,MAAM,EAAE,MADC;AAETC,IAAAA,OAAO,EAAE,MAFA;AAGTC,IAAAA,cAAc,EAAE,QAHP;AAITC,IAAAA,UAAU,EAAE,QAJH;AAMT,yBAAqB;AACjBH,MAAAA,MAAM,EAAE,MADS;AAEjBC,MAAAA,OAAO,EAAE,MAFQ;AAGjBC,MAAAA,cAAc,EAAE,QAHC;AAIjBC,MAAAA,UAAU,EAAE,QAJK;AAKjBC,MAAAA,WAAW,EAAE,uCALI;AAMjB,uBAAiB;AACbC,QAAAA,UAAU,EAAE;AADC,OANA;AASjB,kBAAY;AACRC,QAAAA,eAAe,EAAE,6BADT;AAER,8BAAsB;AAClBC,UAAAA,KAAK,EAAE;AADW;AAFd;AATK;AANZ,GAAD,mBADA;AAwBZC,EAAAA,kBAAkB,eAAEnB,GAAG,CAAC;AACpBW,IAAAA,MAAM,EAAE,MADY;AAEpBC,IAAAA,OAAO,EAAE,MAFW;AAGpBE,IAAAA,UAAU,EAAE,QAHQ;AAIpBM,IAAAA,OAAO,EAAE,UAJW;AAKpBL,IAAAA,WAAW,EAAE,uCALO;AAOpB,cAAU;AACNG,MAAAA,KAAK,EAAE;AADD,KAPU;AAUpB,gBAAY;AACRG,MAAAA,WAAW,EAAE,CADL;AAER,2BAAqB;AACjBC,QAAAA,UAAU,EAAE;AADK;AAFb,KAVQ;AAgBpB,iBAAa;AACT,2BAAqB;AACjBA,QAAAA,UAAU,EAAE;AADK;AADZ;AAhBO,GAAD,8BAxBX;AA8CZC,EAAAA,OAAO,eAAEvB,GAAG,CAAC;AACTwB,IAAAA,SAAS,EAAE,MADF;AAETC,IAAAA,aAAa,EAAE,SAFN;AAGT,yBAAqB;AACjB,gBAAU;AACNC,QAAAA,UAAU,EAAE;AADN;AADO,KAHZ;AAQT,wBAAoB;AAChBd,MAAAA,OAAO,EAAE,MADO;AAEhB,gBAAU;AACNc,QAAAA,UAAU,EAAE;AADN,OAFM;AAKhB,eAAS;AACLC,QAAAA,IAAI,EAAE,0BADD;AAELN,QAAAA,WAAW,EAAE;AAFR;AALO,KARX;AAkBT,wBAAoB;AAChBO,MAAAA,SAAS,EAAE,CADK;AAEhB,gBAAU;AACNF,QAAAA,UAAU,EAAE;AADN;AAFM;AAlBX,GAAD;AA9CA,CAAhB;;AAyEA,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAC9B,wBAAgE9B,cAAc,CAACO,MAAD,CAA9E;AAAA;AAAA;AAAA,MAASwB,WAAT,qBAASA,WAAT;AAAA,MAAsBC,oBAAtB,qBAAsBA,oBAAtB;AAAA,MAA8CC,cAA9C;;AACA,wBAEIxB,cAAc,EAFlB;AAAA,MAC6ByB,cAD7B,mBACIC,qBADJ,CAC6BD,cAD7B;;AAGA,MAAME,aAAa,GAAGtC,WAAW,CAC7B,UAAAiC,WAAW,EAAI;AACXE,IAAAA,cAAc,CAAC,UAAAI,IAAI;AAAA,aAAI7B,sBAAsB,CAAC6B,IAAD,EAAON,WAAP,CAA1B;AAAA,KAAL,CAAd;AACA;AACZ;AACA;AACA;;AACYG,IAAAA,cAAc,CAACH,WAAD,CAAd;AACH,GAR4B,EAS7B,CAACxB,MAAD,CAT6B,CAAjC;AAYA,MAAM+B,oBAAoB,GAAGvC,OAAO,CAAC,YAAM;AACvC,QAAMwC,WAAW,GAAGpC,OAAO,CAACqC,MAAR,CAChB,2BADgB,CAApB;AAGA,WAAOD,WAAW,CAACE,GAAZ,CAAgB,gBAAsD;AAAA,6BAAnDC,MAAmD;AAAA,UAA5BC,IAA4B,eAAzCZ,WAAyC;AAAA,UAAtBa,IAAsB,eAAtBA,IAAsB;AAAA,UAAhBC,OAAgB,eAAhBA,OAAgB;AACzE,0BACI,oBAAC,OAAD;AACI,QAAA,GAAG,EAAEF,IADT;AAEI,QAAA,OAAO,eACH;AAAK,UAAA,SAAS,EAAEjC,OAAO,CAACc;AAAxB,wBACI;AAAK,UAAA,SAAS,EAAE;AAAhB,wBACI,oBAAC,UAAD;AAAY,UAAA,GAAG,EAAE;AAAjB,WAA+BqB,OAAO,CAACC,KAAvC,CADJ,CADJ,eAII;AAAK,UAAA,SAAS,EAAE;AAAhB,WACKD,OAAO,CAACE,YADb,eAEI,oBAAC,UAAD;AAAY,UAAA,GAAG,EAAE;AAAjB,WAA2BF,OAAO,CAACG,QAAnC,CAFJ,CAJJ,eAQI;AAAK,UAAA,SAAS,EAAE;AAAhB,wBACI,oBAAC,UAAD;AAAY,UAAA,GAAG,EAAE;AAAjB,WAA2BH,OAAO,CAACI,IAAnC,CADJ,CARJ,CAHR;AAgBI,QAAA,SAAS,EAAE,QAhBf;AAiBI,QAAA,SAAS,EAAE/C,UAAU,CAAC,gBAAD,EAAmB;AACpCgD,UAAAA,MAAM,EAAEP,IAAI,KAAKZ;AADmB,SAAnB;AAjBzB,sBAqBI,oBAAC,UAAD;AAAY,QAAA,IAAI,EAAEa,IAAlB;AAAwB,QAAA,OAAO,EAAE;AAAA,iBAAMR,aAAa,CAACO,IAAD,CAAnB;AAAA;AAAjC,QArBJ,CADJ;AAyBH,KA1BM,CAAP;AA2BH,GA/BmC,EA+BjC,CAACP,aAAD,EAAgBL,WAAhB,CA/BiC,CAApC;AAiCA,sBACI;AAAK,IAAA,SAAS,EAAErB,OAAO,CAACC;AAAxB,KACK2B,oBADL,eAEI;AAAK,IAAA,SAAS,EAAE5B,OAAO,CAACU;AAAxB,kBACI;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACI,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAE;AAAjB,KAA+BY,oBAAoB,CAACmB,KAApD,CADJ,eAEI,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAE;AAAjB,UAFJ,CADJ,eAKI;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACI,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAE;AAAjB,KAA+B,KAA/B,CADJ,eAEI,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAE;AAAjB,SAFJ,CALJ,CAFJ,CADJ;AAeH,CAjED;;AAmEA,eAAerB,mBAAf","sourcesContent":["import React, { useCallback, useMemo } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { css } from \"emotion\";\nimport classNames from \"classnames\";\nimport { plugins } from \"@webiny/plugins\";\nimport { IconButton } from \"@webiny/ui/Button\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { PbEditorResponsiveModePlugin } from \"~/types\";\nimport { uiAtom, setDisplayModeMutation } from \"../../../recoil/modules\";\nimport { usePageBuilder } from \"~/hooks/usePageBuilder\";\n\nconst classes = {\n    wrapper: css({\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& .action-wrapper\": {\n            height: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            borderRight: \"1px solid var(--mdc-theme-background)\",\n            \"&:first-child\": {\n                borderLeft: \"1px solid var(--mdc-theme-background)\"\n            },\n            \"&.active\": {\n                backgroundColor: \"var(--mdc-theme-background)\",\n                \"& .mdc-icon-button\": {\n                    color: \"var(--mdc-theme-text-primary-on-background)\"\n                }\n            }\n        }\n    }),\n    dimensionIndicator: css({\n        height: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"0px 16px\",\n        borderRight: \"1px solid var(--mdc-theme-background)\",\n\n        \"& span\": {\n            color: \"var(--mdc-theme-text-primary-on-background)\"\n        },\n        \"& .width\": {\n            marginRight: 8,\n            \"& span:last-child\": {\n                marginLeft: 4\n            }\n        },\n        \"& .height\": {\n            \"& span:last-child\": {\n                marginLeft: 4\n            }\n        }\n    }),\n    tooltip: css({\n        textAlign: \"left\",\n        textTransform: \"initial\",\n        \"& .tooltip__title\": {\n            \"& span\": {\n                fontWeight: 900\n            }\n        },\n        \"& .tooltip__info\": {\n            display: \"flex\",\n            \"& span\": {\n                fontWeight: 600\n            },\n            \"& svg\": {\n                fill: \"var(--mdc-theme-surface)\",\n                marginRight: 4\n            }\n        },\n        \"& .tooltip__body\": {\n            marginTop: 4,\n            \"& span\": {\n                fontWeight: 600\n            }\n        }\n    })\n};\n\nconst EditorResponsiveBar = () => {\n    const [{ displayMode, pagePreviewDimension }, setUiAtomValue] = useRecoilState(uiAtom);\n    const {\n        responsiveDisplayMode: { setDisplayMode }\n    } = usePageBuilder();\n    const setEditorMode = useCallback(\n        displayMode => {\n            setUiAtomValue(prev => setDisplayModeMutation(prev, displayMode));\n            /**\n             * We are updating the \"displayMode\" in PageBuilder context.\n             * Because \"ElementRoot\" needs its value to apply \"visibility\" element style setting.\n             */\n            setDisplayMode(displayMode);\n        },\n        [uiAtom]\n    );\n\n    const responsiveBarContent = useMemo(() => {\n        const editorModes = plugins.byType<PbEditorResponsiveModePlugin>(\n            \"pb-editor-responsive-mode\"\n        );\n        return editorModes.map(({ config: { displayMode: mode, icon, toolTip } }) => {\n            return (\n                <Tooltip\n                    key={mode}\n                    content={\n                        <div className={classes.tooltip}>\n                            <div className={\"tooltip__title\"}>\n                                <Typography use={\"subtitle1\"}>{toolTip.title}</Typography>\n                            </div>\n                            <div className={\"tooltip__info\"}>\n                                {toolTip.subTitleIcon}\n                                <Typography use={\"body2\"}>{toolTip.subTitle}</Typography>\n                            </div>\n                            <div className={\"tooltip__body\"}>\n                                <Typography use={\"body2\"}>{toolTip.body}</Typography>\n                            </div>\n                        </div>\n                    }\n                    placement={\"bottom\"}\n                    className={classNames(\"action-wrapper\", {\n                        active: mode === displayMode\n                    })}\n                >\n                    <IconButton icon={icon} onClick={() => setEditorMode(mode)} />\n                </Tooltip>\n            );\n        });\n    }, [setEditorMode, displayMode]);\n\n    return (\n        <div className={classes.wrapper}>\n            {responsiveBarContent}\n            <div className={classes.dimensionIndicator}>\n                <span className=\"width\">\n                    <Typography use={\"subtitle2\"}>{pagePreviewDimension.width}</Typography>\n                    <Typography use={\"subtitle2\"}>PX</Typography>\n                </span>\n                <span className=\"height\">\n                    <Typography use={\"subtitle2\"}>{\"100\"}</Typography>\n                    <Typography use={\"subtitle2\"}>%</Typography>\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default EditorResponsiveBar;\n"],"file":"EditorResponsiveBar.js"}