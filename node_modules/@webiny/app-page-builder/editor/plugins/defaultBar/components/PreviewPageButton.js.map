{"version":3,"sources":["../../../../../src/editor/plugins/defaultBar/components/PreviewPageButton.tsx"],"names":["React","pageAtom","MenuItem","useConfigureWebsiteUrlDialog","usePageBuilderSettings","useSiteStatus","ListItemGraphic","Icon","useRecoilValue","openTarget","window","Cypress","PreviewPageButton","page","getPageUrl","getWebsiteUrl","isSiteRunning","refreshSiteStatus","showConfigureWebsiteUrlDialog","open"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,4BAAT;AACA,SAASC,sBAAT;AACA,SAASC,aAAT;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,IAAT,QAAqB,iBAArB;;AAEA,SAASC,cAAT,QAA+B,QAA/B;AAEA,IAAMC,UAAU,GAAGC,MAAM,CAACC,OAAP,GAAiB,OAAjB,GAA2B,QAA9C;;AAEA,IAAMC,iBAA0C,GAAG,SAA7CA,iBAA6C,GAAM;AACrD,MAAMC,IAAI,GAAGL,cAAc,CAACP,QAAD,CAA3B;;AACA,8BAAsCG,sBAAsB,EAA5D;AAAA,MAAQU,UAAR,yBAAQA,UAAR;AAAA,MAAoBC,aAApB,yBAAoBA,aAApB;;AACA,uBAA2CV,aAAa,CAACU,aAAa,EAAd,CAAxD;AAAA;AAAA,MAAOC,aAAP;AAAA,MAAsBC,iBAAtB;;AAEA,8BAA0Cd,4BAA4B,CAClEY,aAAa,EADqD,EAElEE,iBAFkE,CAAtE;AAAA,MAAQC,6BAAR,yBAAQA,6BAAR;;AAKA,sBACI,oBAAC,QAAD;AACI,IAAA,OAAO,EAAE,mBAAM;AACX,UAAIF,aAAJ,EAAmB;AACfN,QAAAA,MAAM,CAACS,IAAP,CAAYL,UAAU,CAACD,IAAD,EAAO,IAAP,CAAtB,EAAoCJ,UAApC,EAAgD,UAAhD;AACH,OAFD,MAEO;AACHS,QAAAA,6BAA6B;AAChC;AACJ,KAPL;AAQI,mBAAa;AARjB,kBAUI,oBAAC,eAAD,qBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,eAAE,oBAAC,WAAD;AAAZ,IADJ,CAVJ,YADJ;AAiBH,CA3BD;;AA6BA,eAAeN,iBAAf","sourcesContent":["import React from \"react\";\nimport { pageAtom } from \"../../../recoil/modules\";\nimport { MenuItem } from \"@webiny/ui/Menu\";\nimport { useConfigureWebsiteUrlDialog } from \"../../../../admin/hooks/useConfigureWebsiteUrl\";\nimport { usePageBuilderSettings } from \"../../../../admin/hooks/usePageBuilderSettings\";\nimport { useSiteStatus } from \"../../../../admin/hooks/useSiteStatus\";\nimport { ListItemGraphic } from \"@webiny/ui/List\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { ReactComponent as PreviewIcon } from \"../../../../admin/assets/visibility.svg\";\nimport { useRecoilValue } from \"recoil\";\n\nconst openTarget = window.Cypress ? \"_self\" : \"_blank\";\n\nconst PreviewPageButton: React.FunctionComponent = () => {\n    const page = useRecoilValue(pageAtom);\n    const { getPageUrl, getWebsiteUrl } = usePageBuilderSettings();\n    const [isSiteRunning, refreshSiteStatus] = useSiteStatus(getWebsiteUrl());\n\n    const { showConfigureWebsiteUrlDialog } = useConfigureWebsiteUrlDialog(\n        getWebsiteUrl(),\n        refreshSiteStatus\n    );\n\n    return (\n        <MenuItem\n            onClick={() => {\n                if (isSiteRunning) {\n                    window.open(getPageUrl(page, true), openTarget, \"noopener\");\n                } else {\n                    showConfigureWebsiteUrlDialog();\n                }\n            }}\n            data-testid={\"pb-editor-page-options-menu-preview\"}\n        >\n            <ListItemGraphic>\n                <Icon icon={<PreviewIcon />} />\n            </ListItemGraphic>\n            Preview\n        </MenuItem>\n    );\n};\n\nexport default PreviewPageButton;\n"],"file":"PreviewPageButton.js"}