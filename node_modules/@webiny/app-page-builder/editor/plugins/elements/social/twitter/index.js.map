{"version":3,"sources":["../../../../../../src/editor/plugins/elements/social/twitter/index.tsx"],"names":["React","styled","kebabCase","Typography","validation","createEmbedPlugin","createEmbedSettingsPlugin","placeholder","Accordion","InputField","ButtonContainer","SimpleButton","PreviewBox","textAlign","height","svg","width","args","elementType","defaultToolbar","title","group","preview","type","toolbar","create","settings","oembed","global","sdk","init","node","window","twttr","widgets","load","renderElementPreview","render","Bind","submit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport kebabCase from \"lodash/kebabCase\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { validation } from \"@webiny/validation\";\nimport { createEmbedPlugin, createEmbedSettingsPlugin } from \"../../utils/oembed\";\nimport placeholder from \"./placeholder.jpg\";\nimport { ReactComponent as LogoIcon } from \"./twitter-brands.svg\";\nimport Accordion from \"../../../elementSettings/components/Accordion\";\nimport InputField from \"../../../elementSettings/components/InputField\";\nimport {\n    ButtonContainer,\n    SimpleButton\n} from \"../../../elementSettings/components/StyledComponents\";\nimport { PbEditorElementPluginArgs } from \"../../../../../types\";\n\ndeclare global {\n    interface Window {\n        twttr: any;\n    }\n}\n\nconst PreviewBox = styled(\"div\")({\n    textAlign: \"center\",\n    height: 50,\n    svg: {\n        height: 50,\n        width: 50\n    }\n});\n\nexport default (args: PbEditorElementPluginArgs = {}) => {\n    const elementType = kebabCase(args.elementType || \"twitter\");\n    const defaultToolbar = {\n        title: \"Tweet\",\n        group: \"pb-editor-element-group-social\",\n        preview() {\n            return (\n                <PreviewBox>\n                    <LogoIcon />\n                </PreviewBox>\n            );\n        }\n    };\n\n    return [\n        createEmbedPlugin({\n            type: elementType,\n            toolbar:\n                typeof args.toolbar === \"function\" ? args.toolbar(defaultToolbar) : defaultToolbar,\n            create: args.create,\n            settings: args.settings,\n            oembed: {\n                global: \"twttr\",\n                sdk: \"https://platform.twitter.com/widgets.js\",\n                init({ node }) {\n                    window.twttr.widgets.load(node);\n                }\n            },\n            renderElementPreview({ width, height }) {\n                return <img style={{ width, height }} src={placeholder} alt={\"Tweet\"} />;\n            }\n        }),\n        createEmbedSettingsPlugin({\n            type: elementType,\n            render({ Bind, submit }) {\n                return (\n                    <Accordion title={\"Twitter\"} defaultValue={true}>\n                        <>\n                            <Bind\n                                name={\"source.url\"}\n                                validators={validation.create(\"required,url\")}\n                            >\n                                <InputField\n                                    placeholder={\"https://twitter.com/\"}\n                                    description={\"Enter a Tweet URL\"}\n                                />\n                            </Bind>\n                            <ButtonContainer>\n                                <SimpleButton onClick={submit}>\n                                    <Typography use={\"caption\"}>Save</Typography>\n                                </SimpleButton>\n                            </ButtonContainer>\n                        </>\n                    </Accordion>\n                );\n            }\n        })\n    ];\n};\n"],"file":"index.js"}