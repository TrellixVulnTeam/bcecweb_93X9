{"version":3,"sources":["../../../../src/editor/plugins/blockEditing/BlockPreview.tsx"],"names":["React","ButtonFloating","IconButton","Elevation","Tooltip","Typography","CircularProgress","ConfirmationDialog","Styled","kebabCase","BlockPreview","props","plugin","addBlockToContent","onEdit","onDelete","onClickToAddHandler","ev","shitfKey","name","blockStyle","title","showConfirmation","id","preview","displayName"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { ButtonFloating, IconButton } from \"@webiny/ui/Button\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { ReactComponent as AddIcon } from \"../../assets/icons/add.svg\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { ConfirmationDialog } from \"@webiny/ui/ConfirmationDialog\";\nimport { ReactComponent as EditIcon } from \"./icons/round-edit-24px.svg\";\nimport { ReactComponent as DeleteIcon } from \"./icons/delete-24dpx.svg\";\nimport * as Styled from \"./StyledComponents\";\nimport kebabCase from \"lodash/kebabCase\";\n\nconst BlockPreview = props => {\n    const { plugin, addBlockToContent, onEdit, onDelete } = props;\n    const onClickToAddHandler = ev => {\n        addBlockToContent(plugin);\n        if (ev.shitfKey) {\n            return;\n        }\n        // eventActionHandler.trigger(new TogglePluginEventAction({\n        //     name: \"pb-editor-search-blocks-bar\"\n        // }))\n        //\n        // activatePluginAction({\n        //     name: \"pb-editor-search-blocks-bar\",\n        // })\n    };\n    return (\n        <Elevation\n            z={1}\n            key={plugin.name}\n            className={Styled.blockStyle}\n            data-testid={`pb-editor-page-blocks-list-item-${kebabCase(plugin.title)}`}\n        >\n            <Styled.Overlay>\n                <Styled.Backdrop className={\"backdrop\"} />\n                <Styled.AddBlock className={\"add-block\"}>\n                    <ButtonFloating\n                        label={\"Click to Add\"}\n                        onClick={onClickToAddHandler}\n                        icon={<AddIcon />}\n                    />\n                </Styled.AddBlock>\n                {onDelete && (\n                    <Styled.DeleteBlock>\n                        <ConfirmationDialog\n                            title=\"Delete block\"\n                            message=\"Are you sure you want to delete this block?\"\n                            loading={<CircularProgress label={\"Deleting block...\"} />}\n                        >\n                            {({ showConfirmation }) => (\n                                <>\n                                    {plugin.id ? (\n                                        <IconButton\n                                            icon={<DeleteIcon />}\n                                            onClick={() => showConfirmation(onDelete)}\n                                        />\n                                    ) : (\n                                        <Tooltip content={\"Cannot delete.\"} placement={\"top\"}>\n                                            <IconButton disabled icon={<DeleteIcon />} />\n                                        </Tooltip>\n                                    )}\n                                </>\n                            )}\n                        </ConfirmationDialog>\n                    </Styled.DeleteBlock>\n                )}\n\n                {onEdit && (\n                    <Styled.EditBlock>\n                        {plugin.id ? (\n                            <IconButton icon={<EditIcon />} onClick={onEdit} />\n                        ) : (\n                            <Tooltip content={\"Cannot edit.\"} placement={\"top\"}>\n                                <IconButton disabled icon={<EditIcon />} />\n                            </Tooltip>\n                        )}\n                    </Styled.EditBlock>\n                )}\n            </Styled.Overlay>\n            <Styled.BlockPreview>{plugin.preview()}</Styled.BlockPreview>\n            <Styled.Title>\n                <Typography use={\"overline\"}>{plugin.title}</Typography>\n            </Styled.Title>\n        </Elevation>\n    );\n};\n\nBlockPreview.displayName = \"BlockPreview\";\n\nexport default BlockPreview;\n"],"file":"BlockPreview.js"}