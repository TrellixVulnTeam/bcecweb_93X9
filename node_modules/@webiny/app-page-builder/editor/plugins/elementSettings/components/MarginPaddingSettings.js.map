{"version":3,"sources":["../../../../../src/editor/plugins/elementSettings/components/MarginPaddingSettings.tsx"],"names":["React","useCallback","useMemo","get","set","startCase","useRecoilCallback","useRecoilValue","classNames","css","Typography","Tooltip","plugins","activeElementAtom","elementWithChildrenByIdSelector","uiAtom","useUpdateHandlers","SpacingPicker","COLORS","SpacingGrid","TopLeft","Top","TopRight","Left","Center","Right","BottomLeft","Bottom","BottomRight","Accordion","applyFallbackDisplayMode","classes","gridContainerClass","padding","margin","wrapper","display","flexDirection","justifyContent","input","textAlign","linkSettings","boxSizing","width","height","alignItems","border","gray","transform","linkSettingsActive","backgroundColor","color","paddingUnitOptions","label","value","marginUnitOptions","options","SIDES","DEFAULT_VALUE","MarginPaddingSettings","styleAttribute","defaultAccordionValue","valueKey","displayMode","activeElementId","element","byType","find","pl","config","activeEditorModeConfig","fallbackValue","mode","advanced","isAdvancedValueFallback","undefined","dataNamespace","postModifyElement","name","newElement","newValue","includes","changeInTopValue","getUpdateValue","toggleAdvanced","event","stopPropagation","updateValueTop","snapshot","getPromise","updateValueRight","updateValueBottom","updateValueLeft","map","side","top","right","bottom","left","icon","memo"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from \"react\";\nimport get from \"lodash/get\";\nimport set from \"lodash/set\";\nimport startCase from \"lodash/startCase\";\nimport { useRecoilCallback, useRecoilValue } from \"recoil\";\nimport classNames from \"classnames\";\nimport { css } from \"emotion\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { plugins } from \"@webiny/plugins\";\nimport {\n    PbEditorPageElementSettingsRenderComponentProps,\n    PbEditorResponsiveModePlugin\n} from \"../../../../types\";\nimport {\n    activeElementAtom,\n    elementWithChildrenByIdSelector,\n    uiAtom\n} from \"../../../recoil/modules\";\nimport useUpdateHandlers, { PostModifyElementArgs } from \"../useUpdateHandlers\";\n// Icons\nimport { ReactComponent as LinkIcon } from \"../../../assets/icons/link.svg\";\n// Components\nimport SpacingPicker from \"./SpacingPicker\";\nimport {\n    COLORS,\n    SpacingGrid,\n    TopLeft,\n    Top,\n    TopRight,\n    Left,\n    Center,\n    Right,\n    BottomLeft,\n    Bottom,\n    BottomRight\n} from \"./StyledComponents\";\nimport Accordion from \"./Accordion\";\nimport { applyFallbackDisplayMode } from \"../elementSettingsUtils\";\n\nconst classes = {\n    gridContainerClass: css({\n        \"&.mdc-layout-grid\": {\n            padding: 0,\n            margin: \"16px 0px 24px\"\n        }\n    }),\n    wrapper: css({\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\"\n    }),\n    input: css({\n        \"& .mdc-text-field__input\": {\n            padding: \"0px !important\",\n            textAlign: \"center\"\n        }\n    }),\n    linkSettings: css({\n        boxSizing: \"border-box\",\n        width: 25,\n        height: 25,\n        display: \"flex\",\n        alignItems: \"center\",\n        border: `1px solid ${COLORS.gray}`,\n        padding: \"0px 4px\",\n\n        \"& svg\": {\n            transform: \"rotate(135deg)\",\n            width: 16,\n            height: 16\n        }\n    }),\n    linkSettingsActive: css({\n        backgroundColor: \"var(--mdc-theme-secondary)\",\n        color: \"var(--mdc-theme-on-primary)\"\n    })\n};\n\n/**\n * MarginPaddingSettings (Padding/Margin settings).\n * This component is reused in Padding and Margin plugins since the behavior of both CSS attributes is the same.\n */\n\ntype PMSettingsPropsType = {\n    styleAttribute: \"margin\" | \"padding\";\n};\n\nconst paddingUnitOptions = [\n    {\n        label: \"%\",\n        value: \"%\"\n    },\n    {\n        label: \"px\",\n        value: \"px\"\n    },\n    {\n        label: \"em\",\n        value: \"em\"\n    },\n    {\n        label: \"vh\",\n        value: \"vh\"\n    },\n    {\n        label: \"vw\",\n        value: \"vw\"\n    }\n];\nconst marginUnitOptions = [\n    {\n        label: \"%\",\n        value: \"%\"\n    },\n    {\n        label: \"px\",\n        value: \"px\"\n    },\n    {\n        label: \"em\",\n        value: \"em\"\n    },\n    {\n        label: \"vh\",\n        value: \"vh\"\n    },\n    {\n        label: \"vw\",\n        value: \"vw\"\n    },\n    {\n        label: \"auto\",\n        value: \"auto\"\n    }\n];\n\nconst options = {\n    padding: paddingUnitOptions,\n    margin: marginUnitOptions\n};\n\nconst SIDES = [\"top\", \"right\", \"bottom\", \"left\"];\nconst DEFAULT_VALUE = \"0px\";\n\nconst MarginPaddingSettings: React.FunctionComponent<\n    PMSettingsPropsType & PbEditorPageElementSettingsRenderComponentProps\n> = ({ styleAttribute, defaultAccordionValue }) => {\n    const valueKey = `data.settings.${styleAttribute}`;\n    const { displayMode } = useRecoilValue(uiAtom);\n    const activeElementId = useRecoilValue(activeElementAtom);\n    const element = useRecoilValue(elementWithChildrenByIdSelector(activeElementId));\n\n    const { config: activeEditorModeConfig } = useMemo(() => {\n        return plugins\n            .byType<PbEditorResponsiveModePlugin>(\"pb-editor-responsive-mode\")\n            .find(pl => pl.config.displayMode === displayMode);\n    }, [displayMode]);\n\n    const fallbackValue = useMemo(\n        () => applyFallbackDisplayMode(displayMode, mode => get(element, `${valueKey}.${mode}`)),\n        [displayMode]\n    );\n\n    const advanced = get(\n        element,\n        `${valueKey}.${displayMode}.advanced`,\n        get(fallbackValue, \"advanced\", false)\n    );\n    // Keep track of whether we're using \"advanced\" value from fallback.\n    const isAdvancedValueFallback =\n        get(element, `${valueKey}.${displayMode}.advanced`) === undefined;\n\n    const { getUpdateValue } = useUpdateHandlers({\n        element,\n        dataNamespace: valueKey,\n        postModifyElement: ({ name, newElement, newValue }: PostModifyElementArgs) => {\n            // Bail out early if \"advanced\" property has changed.\n            if (name.includes(\"advanced\")) {\n                return;\n            }\n            const changeInTopValue = name.includes(\".top\");\n            const advanced = get(\n                newElement,\n                `${valueKey}.${displayMode}.advanced`,\n                get(fallbackValue, \"advanced\", false)\n            );\n            // Update all values in advanced settings\n            if (!advanced && changeInTopValue) {\n                // Modify the element directly.\n                set(newElement, `${valueKey}.${displayMode}.top`, newValue);\n                set(newElement, `${valueKey}.${displayMode}.right`, newValue);\n                set(newElement, `${valueKey}.${displayMode}.bottom`, newValue);\n                set(newElement, `${valueKey}.${displayMode}.left`, newValue);\n                // Also set \"all\"\n                set(newElement, `${valueKey}.${displayMode}.all`, newValue);\n            }\n            // Set \"advanced\" value if we're using fallback value to show cascade style\n            if (isAdvancedValueFallback) {\n                set(newElement, `${valueKey}.${displayMode}.advanced`, advanced);\n            }\n        }\n    });\n\n    const toggleAdvanced = useCallback(\n        event => {\n            event.stopPropagation();\n            getUpdateValue(`${displayMode}.advanced`)(!advanced);\n        },\n        [advanced, displayMode, getUpdateValue]\n    );\n\n    const updateValueTop = useRecoilCallback(({ snapshot }) => async value => {\n        const { displayMode } = await snapshot.getPromise(uiAtom);\n        getUpdateValue(`${displayMode}.top`)(value);\n    });\n\n    const updateValueRight = useRecoilCallback(({ snapshot }) => async value => {\n        const { displayMode } = await snapshot.getPromise(uiAtom);\n        getUpdateValue(`${displayMode}.right`)(value);\n    });\n\n    const updateValueBottom = useRecoilCallback(({ snapshot }) => async value => {\n        const { displayMode } = await snapshot.getPromise(uiAtom);\n        getUpdateValue(`${displayMode}.bottom`)(value);\n    });\n\n    const updateValueLeft = useRecoilCallback(({ snapshot }) => async value => {\n        const { displayMode } = await snapshot.getPromise(uiAtom);\n        getUpdateValue(`${displayMode}.left`)(value);\n    });\n\n    const [top, right, bottom, left] = useMemo(() => {\n        return SIDES.map(side => {\n            if (advanced) {\n                return get(\n                    element,\n                    valueKey + `.${displayMode}.` + side,\n                    get(fallbackValue, side, DEFAULT_VALUE)\n                );\n            }\n            return get(\n                element,\n                valueKey + `.${displayMode}.` + \"all\",\n                get(fallbackValue, \"all\", DEFAULT_VALUE)\n            );\n        });\n    }, [advanced, element, displayMode, fallbackValue]);\n\n    return (\n        <Accordion\n            title={startCase(styleAttribute)}\n            defaultValue={defaultAccordionValue}\n            action={\n                <Tooltip content={\"link all sides\"}>\n                    <button\n                        className={classNames(classes.linkSettings, {\n                            [classes.linkSettingsActive]: !advanced\n                        })}\n                        onClick={toggleAdvanced}\n                    >\n                        <LinkIcon />\n                    </button>\n                </Tooltip>\n            }\n            icon={\n                <Tooltip content={`Changes will apply for ${activeEditorModeConfig.displayMode}`}>\n                    {activeEditorModeConfig.icon}\n                </Tooltip>\n            }\n        >\n            <SpacingGrid>\n                <TopLeft />\n                <Top className=\"align-center\">\n                    <SpacingPicker\n                        value={top}\n                        onChange={updateValueTop}\n                        options={options[styleAttribute]}\n                    />\n                </Top>\n                <TopRight />\n                <Left>\n                    <SpacingPicker\n                        value={left}\n                        onChange={updateValueLeft}\n                        options={options[styleAttribute]}\n                        disabled={!advanced}\n                    />\n                </Left>\n                <Center className=\"align-center\">\n                    <Typography className={\"text mono\"} use={\"subtitle2\"}>\n                        {get(element, \"data.settings.width.value\", \"auto\")}\n                        &nbsp;x&nbsp;\n                        {get(element, \"data.settings.height.value\", \"auto\")}\n                    </Typography>\n                </Center>\n                <Right>\n                    <SpacingPicker\n                        value={right}\n                        onChange={updateValueRight}\n                        options={options[styleAttribute]}\n                        disabled={!advanced}\n                    />\n                </Right>\n                <BottomLeft />\n                <Bottom className={\"align-center\"}>\n                    <SpacingPicker\n                        value={bottom}\n                        onChange={updateValueBottom}\n                        options={options[styleAttribute]}\n                        disabled={!advanced}\n                    />\n                </Bottom>\n                <BottomRight />\n            </SpacingGrid>\n        </Accordion>\n    );\n};\n\nexport default React.memo(MarginPaddingSettings);\n"],"file":"MarginPaddingSettings.js"}