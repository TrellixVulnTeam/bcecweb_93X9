{"version":3,"sources":["../../../../../src/editor/plugins/elementSettings/link/HrefSettings.tsx"],"names":["React","css","merge","Switch","Form","validation","withActiveElement","DelayedOnChange","useEventActionHandler","UpdateElementActionEvent","Accordion","Wrapper","InputField","classes","gridClass","padding","marginBottom","gridCellClass","justifySelf","LinkSettingsComponent","element","defaultAccordionValue","handler","data","link","href","newTab","updateElement","trigger","history","updateSettings","attrKey","newElement","Bind","create","props","value","onChange"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport { merge } from \"dot-prop-immutable\";\nimport { Switch } from \"@webiny/ui/Switch\";\nimport { Form } from \"@webiny/form\";\nimport { validation } from \"@webiny/validation\";\nimport { withActiveElement } from \"../../../components\";\nimport { DelayedOnChange } from \"../../../components/DelayedOnChange\";\nimport { useEventActionHandler } from \"../../../hooks/useEventActionHandler\";\nimport { UpdateElementActionEvent } from \"../../../recoil/actions\";\nimport {\n    PbEditorPageElementSettingsRenderComponentProps,\n    PbEditorElement\n} from \"../../../../types\";\n// Components\nimport Accordion from \"../components/Accordion\";\nimport Wrapper from \"../components/Wrapper\";\nimport InputField from \"../components/InputField\";\n\nconst classes = {\n    gridClass: css({\n        \"&.mdc-layout-grid\": {\n            padding: 0,\n            marginBottom: 24\n        }\n    }),\n    gridCellClass: css({\n        justifySelf: \"end\"\n    })\n};\n\ntype LinkSettingsPropsType = {\n    element: PbEditorElement;\n};\nconst LinkSettingsComponent: React.FunctionComponent<\n    LinkSettingsPropsType & PbEditorPageElementSettingsRenderComponentProps\n> = ({ element, defaultAccordionValue }) => {\n    const handler = useEventActionHandler();\n\n    const { href, newTab } = element.data?.link || {};\n\n    const updateElement = (element: PbEditorElement) => {\n        handler.trigger(\n            new UpdateElementActionEvent({\n                element,\n                history: true\n            })\n        );\n    };\n\n    const updateSettings = data => {\n        const attrKey = `data.link`;\n        const newElement: PbEditorElement = merge(element, attrKey, data);\n        updateElement(newElement);\n    };\n\n    return (\n        <Accordion title={\"Link\"} defaultValue={defaultAccordionValue}>\n            <Form data={{ href, newTab }} onChange={updateSettings}>\n                {({ Bind }) => (\n                    <>\n                        <Wrapper label={\"URL\"} containerClassName={classes.gridClass}>\n                            <Bind\n                                name={\"href\"}\n                                validators={validation.create(\"url:allowRelative:allowHref\")}\n                            >\n                                <DelayedOnChange>\n                                    {props => (\n                                        <InputField\n                                            value={props.value || \"\"}\n                                            onChange={props.onChange}\n                                            placeholder={\"https://webiny.com/blog\"}\n                                            {...props}\n                                        />\n                                    )}\n                                </DelayedOnChange>\n                            </Bind>\n                        </Wrapper>\n                        <Wrapper\n                            label={\"New tab\"}\n                            containerClassName={classes.gridClass}\n                            rightCellClassName={classes.gridCellClass}\n                        >\n                            <Bind name={\"newTab\"}>\n                                <Switch />\n                            </Bind>\n                        </Wrapper>\n                    </>\n                )}\n            </Form>\n        </Accordion>\n    );\n};\n\nexport default withActiveElement()(LinkSettingsComponent);\n"],"file":"HrefSettings.js"}