{"version":3,"sources":["../../../../src/editor/ui/views/SocialSettingsView.ts"],"names":["trim","InputElement","PageSettingsFormView","FileManagerElement","validation","SmallButtonElement","TypographyElement","LabelElement","ButtonElement","DynamicFieldsetElement","ButtonGroupElement","SocialSettingsView","setTitle","addField","name","label","description","onChangePickAttributes","metaTags","header","typography","addElement","text","setHeaderElement","setCreateEmptyElement","actions","emptyElement","type","onClick","add","setCreateRowElement","row","index","nameElement","validators","create","beforeChange","tag","cb","contentElement","moveAfter","buttons","remove","applyPlugins"],"mappings":"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","sourcesContent":["import trim from \"lodash/trim\";\nimport { InputElement } from \"@webiny/app-admin/ui/elements/form/InputElement\";\nimport { PageSettingsFormView } from \"~/editor/ui/views/PageSettingsView/PageSettingsFormView\";\nimport { FileManagerElement } from \"@webiny/app-admin/ui/elements/form/FileManagerElement\";\nimport { validation } from \"@webiny/validation\";\nimport { SmallButtonElement } from \"@webiny/app-admin/ui/elements/SmallButtonElement\";\nimport { TypographyElement } from \"@webiny/app-admin/ui/elements/TypographyElement\";\nimport { LabelElement } from \"@webiny/app-admin/ui/elements/LabelElement\";\nimport { ButtonElement } from \"@webiny/app-admin/ui/elements/ButtonElement\";\nimport { DynamicFieldsetElement } from \"@webiny/app-admin/ui/elements/form/DynamicFieldsetElement\";\nimport { ButtonGroupElement } from \"@webiny/app-admin/ui/elements/ButtonGroupElement\";\n\nexport class SocialSettingsView extends PageSettingsFormView {\n    constructor() {\n        super(\"SocialSettingsView\");\n\n        this.setTitle(\"Social Media\");\n\n        this.addField(\n            new InputElement(\"title\", {\n                name: \"settings.social.title\",\n                label: \"Title (leave blank to use your page title)\",\n                description: \"Social media title (og:title).\"\n            })\n        );\n\n        this.addField(\n            new InputElement(\"description\", {\n                name: \"settings.social.description\",\n                label: \"Description (leave blank to use your page snippet)\",\n                description: `Social media description (og:description).`\n            })\n        );\n\n        this.addField(\n            new FileManagerElement(\"image\", {\n                name: \"settings.social.image\",\n                label: \"Social Image\",\n                description: `Linked via \"og:image\" tag. Recommended resolution 1596x545.`,\n                onChangePickAttributes: [\"id\", \"src\"]\n            })\n        );\n\n        const metaTags = new DynamicFieldsetElement(\"metaTags\", { name: \"settings.social.meta\" });\n\n        const header = new TypographyElement(\"metaTags.header\", {\n            typography: \"button\"\n        });\n        header.addElement(new LabelElement(\"metaTags.header.label\", { text: \"Meta tags\" }));\n        metaTags.setHeaderElement(header);\n\n        metaTags.setCreateEmptyElement(({ actions }) => {\n            const emptyElement = new TypographyElement(\"metaTags.empty\", { typography: \"button\" });\n            emptyElement.addElement(\n                new LabelElement(\"metaTags.empty.label\", { text: \"To add other meta tags, click \" })\n            );\n            emptyElement.addElement(\n                new ButtonElement(\"metaTags.empty.buttonCreate\", {\n                    label: \"Add meta tag\",\n                    type: \"primary\",\n                    onClick: actions.add()\n                })\n            );\n            return emptyElement;\n        });\n\n        metaTags.setCreateRowElement(({ row, actions, index }) => {\n            const nameElement = row.addElement(\n                new InputElement(`metaTags.${index}.property`, {\n                    name: `settings.social.meta.${index}.property`,\n                    label: \"Property\",\n                    validators: () => validation.create(\"required\"),\n                    beforeChange: (tag, cb) => cb(trim(tag))\n                })\n            );\n            const contentElement = new InputElement(`metaTags.${index}.content`, {\n                name: `settings.social.meta.${index}.content`,\n                label: \"Content\",\n                validators: () => validation.create(\"required\"),\n                beforeChange: (tag, cb) => cb(trim(tag))\n            });\n\n            contentElement.moveAfter(nameElement);\n\n            const buttons = new ButtonGroupElement(`metaTags.${index}.buttons`);\n            buttons.addElement(\n                new SmallButtonElement(`metaTags.${index}.buttonAdd`, {\n                    type: \"primary\",\n                    label: \"+\",\n                    onClick: actions.add(index)\n                })\n            );\n            buttons.addElement(\n                new SmallButtonElement(`metaTags.${index}.buttonRemove`, {\n                    type: \"secondary\",\n                    label: \"-\",\n                    onClick: actions.remove(index)\n                })\n            );\n\n            buttons.moveAfter(contentElement);\n\n            return row;\n        });\n\n        this.addField(metaTags);\n\n        this.applyPlugins(SocialSettingsView);\n    }\n}\n"],"file":"SocialSettingsView.js"}