import _defineProperty from "@babel/runtime/helpers/defineProperty";
import _objectSpread from "@babel/runtime/helpers/objectSpread2";
import { plugins } from "@webiny/plugins";
export var deactivatePluginByNameMutation = function deactivatePluginByNameMutation(state, name) {
  var target = plugins.byName(name);

  if (!target) {
    return state;
  }

  return deactivatePluginMutation(state, target);
};
export var deactivatePluginMutation = function deactivatePluginMutation(state, target) {
  var type = target.type,
      name = target.name;
  var allPluginsByType = state[type];

  if (!allPluginsByType || allPluginsByType.length === 0) {
    return state;
  }

  var filteredPluginsByType = allPluginsByType.filter(function (pl) {
    return pl.name !== name;
  });

  if (filteredPluginsByType.length === allPluginsByType.length) {
    return state;
  }

  return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, type, filteredPluginsByType));
};
//# sourceMappingURL=deactivatePluginMutation.js.map