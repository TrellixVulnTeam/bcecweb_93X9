{"version":3,"sources":["../../../../../../src/editor/recoil/modules/plugins/mutations/deactivatePluginMutation.ts"],"names":["plugins","deactivatePluginByNameMutation","state","name","target","byName","deactivatePluginMutation","type","allPluginsByType","length","filteredPluginsByType","filter","pl"],"mappings":";;AAEA,SAASA,OAAT,QAAwB,iBAAxB;AAGA,OAAO,IAAMC,8BAGZ,GAAG,SAHSA,8BAGT,CAACC,KAAD,EAAQC,IAAR,EAAiB;AACjB,MAAMC,MAAM,GAAGJ,OAAO,CAACK,MAAR,CAAeF,IAAf,CAAf;;AACA,MAAI,CAACC,MAAL,EAAa;AACT,WAAOF,KAAP;AACH;;AACD,SAAOI,wBAAwB,CAACJ,KAAD,EAAQE,MAAR,CAA/B;AACH,CATM;AAWP,OAAO,IAAME,wBAGZ,GAAG,SAHSA,wBAGT,CAACJ,KAAD,EAAQE,MAAR,EAAmB;AACnB,MAAQG,IAAR,GAAuBH,MAAvB,CAAQG,IAAR;AAAA,MAAcJ,IAAd,GAAuBC,MAAvB,CAAcD,IAAd;AACA,MAAMK,gBAAgB,GAAGN,KAAK,CAACK,IAAD,CAA9B;;AACA,MAAI,CAACC,gBAAD,IAAqBA,gBAAgB,CAACC,MAAjB,KAA4B,CAArD,EAAwD;AACpD,WAAOP,KAAP;AACH;;AACD,MAAMQ,qBAAqB,GAAGF,gBAAgB,CAACG,MAAjB,CAAwB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACT,IAAH,KAAYA,IAAhB;AAAA,GAA1B,CAA9B;;AACA,MAAIO,qBAAqB,CAACD,MAAtB,KAAiCD,gBAAgB,CAACC,MAAtD,EAA8D;AAC1D,WAAOP,KAAP;AACH;;AACD,yCACOA,KADP,2BAEKK,IAFL,EAEYG,qBAFZ;AAIH,CAjBM","sourcesContent":["import { Plugin } from \"@webiny/plugins/types\";\nimport { PluginsAtomType } from \"../pluginsAtom\";\nimport { plugins } from \"@webiny/plugins\";\nimport { EventActionHandlerMutationActionCallable } from \"../../../../../types\";\n\nexport const deactivatePluginByNameMutation: EventActionHandlerMutationActionCallable<\n    PluginsAtomType,\n    string\n> = (state, name) => {\n    const target = plugins.byName(name);\n    if (!target) {\n        return state;\n    }\n    return deactivatePluginMutation(state, target);\n};\n\nexport const deactivatePluginMutation: EventActionHandlerMutationActionCallable<\n    PluginsAtomType,\n    Plugin\n> = (state, target) => {\n    const { type, name } = target;\n    const allPluginsByType = state[type];\n    if (!allPluginsByType || allPluginsByType.length === 0) {\n        return state;\n    }\n    const filteredPluginsByType = allPluginsByType.filter(pl => pl.name !== name);\n    if (filteredPluginsByType.length === allPluginsByType.length) {\n        return state;\n    }\n    return {\n        ...state,\n        [type]: filteredPluginsByType\n    };\n};\n"],"file":"deactivatePluginMutation.js"}