{"version":3,"sources":["../../../src/admin/components/CategoriesAutocomplete.tsx"],"names":["React","AutoComplete","gql","useQuery","GET_CATEGORY","LIST_CATEGORIES","CategoriesAutocomplete","props","listCategoriesQuery","getCategoryQuery","skip","value","variables","slug","publishedPages","publishedPage"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,SAASC,QAAT,QAAyB,qBAAzB;AAEA,IAAMC,YAAY,GAAGF,GAAH,+SAAlB;AAaA,IAAMG,eAAe,GAAGH,GAAH,0RAArB;AAaA,OAAO,SAASI,sBAAT,CAAgCC,KAAhC,EAAuC;AAC1C,MAAMC,mBAAmB,GAAGL,QAAQ,CAACE,eAAD,CAApC;AACA,MAAMI,gBAAgB,GAAGN,QAAQ,CAACC,YAAD,EAAe;AAC5CM,IAAAA,IAAI,EAAE,CAACH,KAAK,CAACI,KAD+B;AAE5CC,IAAAA,SAAS,EAAE;AAAEC,MAAAA,IAAI,EAAEN,KAAK,CAACI;AAAd;AAFiC,GAAf,CAAjC;;AAKA,MAAMG,cAAc,GAAG,KAAIN,mBAAJ,EAAyB,sCAAzB,EAAiE,EAAjE,CAAvB;;AACA,MAAMO,aAAa,GAAG,KAAIN,gBAAJ,EAAsB,mCAAtB,CAAtB;;AAEA,sBACI,oBAAC,YAAD,oBACQF,KADR;AAEI,IAAA,OAAO,EAAEO,cAFb;AAGI,IAAA,SAAS,EAAE,MAHf;AAII,IAAA,QAAQ,EAAE,MAJd;AAKI,IAAA,KAAK,EAAEC;AALX,KADJ;AASH","sourcesContent":["import React from \"react\";\nimport { AutoComplete } from \"@webiny/ui/AutoComplete\";\nimport gql from \"graphql-tag\";\nimport { get } from \"lodash\";\nimport { useQuery } from \"@apollo/react-hooks\";\n\nconst GET_CATEGORY = gql`\n    query GetCategory($slug: String!) {\n        pageBuilder {\n            getCategory(slug: $slug) {\n                data {\n                    slug\n                    name\n                }\n            }\n        }\n    }\n`;\n\nconst LIST_CATEGORIES = gql`\n    query ListCategories {\n        pageBuilder {\n            listCategories {\n                data {\n                    slug\n                    name\n                }\n            }\n        }\n    }\n`;\n\nexport function CategoriesAutocomplete(props) {\n    const listCategoriesQuery = useQuery(LIST_CATEGORIES);\n    const getCategoryQuery = useQuery(GET_CATEGORY, {\n        skip: !props.value,\n        variables: { slug: props.value }\n    });\n\n    const publishedPages = get(listCategoriesQuery, \"data.pageBuilder.listCategories.data\", []);\n    const publishedPage = get(getCategoryQuery, \"data.pageBuilder.getCategory.data\");\n\n    return (\n        <AutoComplete\n            {...props}\n            options={publishedPages}\n            valueProp={\"slug\"}\n            textProp={\"name\"}\n            value={publishedPage}\n        />\n    );\n}\n"],"file":"CategoriesAutocomplete.js"}