import _get from "lodash/get";
import kebabCase from "lodash/kebabCase";
import { applyPerDeviceStyleWithFallback } from "../../../utils";
export default {
  name: "pb-render-page-element-style-visibility",
  type: "pb-render-page-element-style",
  renderStyle: function renderStyle(_ref) {
    var element = _ref.element,
        style = _ref.style;

    var visibility = _get(element, "data.settings.visibility"); // Set per-device property value


    applyPerDeviceStyleWithFallback(function (_ref2) {
      var displayMode = _ref2.displayMode,
          fallbackMode = _ref2.fallbackMode;

      var hidden = _get(visibility, "".concat(displayMode, ".hidden"));

      var defaultValue = "visible";

      if (hidden === undefined) {
        // Set visibility
        style["--".concat(kebabCase(displayMode), "-visibility")] = _get(style, "--".concat(kebabCase(fallbackMode), "-visibility"), defaultValue);
      } else {
        // Set visibility
        style["--".concat(kebabCase(displayMode), "-visibility")] = hidden ? "hidden" : defaultValue;
      }
    });
    return style;
  }
};
//# sourceMappingURL=index.js.map