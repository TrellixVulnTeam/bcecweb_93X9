{"version":3,"sources":["../../../../../src/render/plugins/elementSettings/visibility/index.ts"],"names":["kebabCase","applyPerDeviceStyleWithFallback","name","type","renderStyle","element","style","visibility","displayMode","fallbackMode","hidden","defaultValue","undefined"],"mappings":";AACA,OAAOA,SAAP,MAAsB,kBAAtB;AAEA,SAASC,+BAAT;AAEA,eAAe;AACXC,EAAAA,IAAI,EAAE,yCADK;AAEXC,EAAAA,IAAI,EAAE,8BAFK;AAGXC,EAAAA,WAHW,6BAGqB;AAAA,QAAlBC,OAAkB,QAAlBA,OAAkB;AAAA,QAATC,KAAS,QAATA,KAAS;;AAC5B,QAAMC,UAAU,GAAG,KAAIF,OAAJ,EAAa,0BAAb,CAAnB,CAD4B,CAG5B;;;AACAJ,IAAAA,+BAA+B,CAAC,iBAAmC;AAAA,UAAhCO,WAAgC,SAAhCA,WAAgC;AAAA,UAAnBC,YAAmB,SAAnBA,YAAmB;;AAC/D,UAAMC,MAAM,GAAG,KAAIH,UAAJ,YAAmBC,WAAnB,aAAf;;AACA,UAAMG,YAAY,GAAG,SAArB;;AAEA,UAAID,MAAM,KAAKE,SAAf,EAA0B;AACtB;AACAN,QAAAA,KAAK,aAAMN,SAAS,CAACQ,WAAD,CAAf,iBAAL,GAAkD,KAC9CF,KAD8C,cAEzCN,SAAS,CAACS,YAAD,CAFgC,kBAG9CE,YAH8C,CAAlD;AAKH,OAPD,MAOO;AACH;AACAL,QAAAA,KAAK,aAAMN,SAAS,CAACQ,WAAD,CAAf,iBAAL,GAAkDE,MAAM,GAAG,QAAH,GAAcC,YAAtE;AACH;AACJ,KAf8B,CAA/B;AAiBA,WAAOL,KAAP;AACH;AAzBU,CAAf","sourcesContent":["import { get } from \"lodash\";\nimport kebabCase from \"lodash/kebabCase\";\nimport { PbRenderElementStylePlugin } from \"~/types\";\nimport { applyPerDeviceStyleWithFallback } from \"../../../utils\";\n\nexport default {\n    name: \"pb-render-page-element-style-visibility\",\n    type: \"pb-render-page-element-style\",\n    renderStyle({ element, style }) {\n        const visibility = get(element, \"data.settings.visibility\");\n\n        // Set per-device property value\n        applyPerDeviceStyleWithFallback(({ displayMode, fallbackMode }) => {\n            const hidden = get(visibility, `${displayMode}.hidden`);\n            const defaultValue = \"visible\";\n\n            if (hidden === undefined) {\n                // Set visibility\n                style[`--${kebabCase(displayMode)}-visibility`] = get(\n                    style,\n                    `--${kebabCase(fallbackMode)}-visibility`,\n                    defaultValue\n                );\n            } else {\n                // Set visibility\n                style[`--${kebabCase(displayMode)}-visibility`] = hidden ? \"hidden\" : defaultValue;\n            }\n        });\n\n        return style;\n    }\n} as PbRenderElementStylePlugin;\n"],"file":"index.js"}