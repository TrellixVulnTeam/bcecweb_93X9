{"version":3,"sources":["../../src/render/utils.ts"],"names":["orderBy","plugins","applyPerDeviceStyleWithFallback","applyStyle","displayModeConfigs","byType","map","pl","config","forEach","index","arr","displayMode","fallbackMode"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,gBAApB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAWA,OAAO,IAAMC,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACC,UAAD,EAA4B;AACvE;AACA,MAAMC,kBAAkB,GAAGH,OAAO,CAC7BI,MADsB,CACe,2BADf,EAEtBC,GAFsB,CAElB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,MAAP;AAAA,GAFgB,CAA3B,CAFuE,CAMvE;;AACAR,EAAAA,OAAO,CAACI,kBAAD,EAAqB,UAArB,EAAiC,MAAjC,CAAP,CAAgDK,OAAhD,CAAwD,gBAAkBC,KAAlB,EAAyBC,GAAzB,EAAiC;AAAA,QAA9BC,WAA8B,QAA9BA,WAA8B;AACrF,QAAMC,YAAY,GAAGH,KAAK,GAAG,CAAR,GAAYC,GAAG,CAACD,KAAK,GAAG,CAAT,CAAH,CAAeE,WAA3B,GAAyC,SAA9D,CADqF,CAErF;;AACAT,IAAAA,UAAU,CAAC;AAAEU,MAAAA,YAAY,EAAZA,YAAF;AAAgBD,MAAAA,WAAW,EAAXA;AAAhB,KAAD,CAAV;AACH,GAJD;AAKH,CAZM","sourcesContent":["import orderBy from \"lodash/orderBy\";\nimport { plugins } from \"@webiny/plugins\";\nimport { PbRenderResponsiveModePlugin } from \"../types\";\n\ntype ApplyStyle = ({\n    fallbackMode,\n    displayMode\n}: {\n    fallbackMode: string;\n    displayMode: string;\n}) => void;\n\nexport const applyPerDeviceStyleWithFallback = (applyStyle: ApplyStyle) => {\n    // Get display modes\n    const displayModeConfigs = plugins\n        .byType<PbRenderResponsiveModePlugin>(\"pb-render-responsive-mode\")\n        .map(pl => pl.config);\n\n    // Set per-device property value\n    orderBy(displayModeConfigs, \"minWidth\", \"desc\").forEach(({ displayMode }, index, arr) => {\n        const fallbackMode = index > 0 ? arr[index - 1].displayMode : \"desktop\";\n        // Apply style\n        applyStyle({ fallbackMode, displayMode });\n    });\n};\n"],"file":"utils.js"}