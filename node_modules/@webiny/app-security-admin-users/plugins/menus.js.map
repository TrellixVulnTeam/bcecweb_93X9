{"version":3,"sources":["../../src/plugins/menus.tsx"],"names":["NavigationMenuElement","TAGS","Permission","UIViewPlugin","NavigationView","view","isRendered","getSecurityHook","identity","groups","getPermission","Groups","users","Users","apiKeys","ApiKeys","mainMenu","getSettingsMenuElement","addElement","label","tags","UTILS","path"],"mappings":";;AAAA,SAASA,qBAAT,EAAgCC,IAAhC,QAA4C,qDAA5C;AACA,SAASC,UAAT;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,SAASC,cAAT,QAA+B,2CAA/B;AAEA,eAAe,IAAID,YAAJ,CAAiCC,cAAjC;AAAA,sEAAiD,iBAAMC,IAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACtDA,IAAI,CAACC,UAAL,EADsD;;AAAA;AAAA,oCAGvCD,IAAI,CAACE,eAAL,EAHuC,EAGpDC,QAHoD,yBAGpDA,QAHoD;AAItDC,YAAAA,MAJsD,GAI7CD,QAAQ,CAACE,aAAT,CAAuBR,UAAU,CAACS,MAAlC,CAJ6C;AAKtDC,YAAAA,KALsD,GAK9CJ,QAAQ,CAACE,aAAT,CAAuBR,UAAU,CAACW,KAAlC,CAL8C;AAMtDC,YAAAA,OANsD,GAM5CN,QAAQ,CAACE,aAAT,CAAuBR,UAAU,CAACa,OAAlC,CAN4C;;AAAA,kBAQxD,CAACN,MAAD,IAAW,CAACG,KAAZ,IAAqB,CAACE,OARkC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAYtDE,YAAAA,QAZsD,GAY3CX,IAAI,CAACY,sBAAL,GAA8BC,UAA9B,CACb,IAAIlB,qBAAJ,CAA0B,UAA1B,EAAsC;AAClCmB,cAAAA,KAAK,EAAE,UAD2B;AAElCC,cAAAA,IAAI,EAAE,CAACnB,IAAI,CAACoB,KAAN;AAF4B,aAAtC,CADa,CAZ2C;;AAmB5D,gBAAIT,KAAJ,EAAW;AACPI,cAAAA,QAAQ,CAACE,UAAT,CACI,IAAIlB,qBAAJ,CAA0B,OAA1B,EAAmC;AAC/BmB,gBAAAA,KAAK,EAAE,OADwB;AAE/BG,gBAAAA,IAAI,EAAE;AAFyB,eAAnC,CADJ;AAMH;;AAED,gBAAIb,MAAJ,EAAY;AACRO,cAAAA,QAAQ,CAACE,UAAT,CACI,IAAIlB,qBAAJ,CAA0B,QAA1B,EAAoC;AAChCmB,gBAAAA,KAAK,EAAE,QADyB;AAEhCG,gBAAAA,IAAI,EAAE;AAF0B,eAApC,CADJ;AAMH;;AAED,gBAAIR,OAAJ,EAAa;AACTE,cAAAA,QAAQ,CAACE,UAAT,CACI,IAAIlB,qBAAJ,CAA0B,SAA1B,EAAqC;AACjCmB,gBAAAA,KAAK,EAAE,UAD0B;AAEjCG,gBAAAA,IAAI,EAAE;AAF2B,eAArC,CADJ;AAMH;;AA5C2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjD;;AAAA;AAAA;AAAA;AAAA,IAAf","sourcesContent":["import { NavigationMenuElement, TAGS } from \"@webiny/app-admin/ui/elements/NavigationMenuElement\";\nimport { Permission } from \"./constants\";\nimport { UIViewPlugin } from \"@webiny/app-admin/ui/UIView\";\nimport { NavigationView } from \"@webiny/app-admin/ui/views/NavigationView\";\n\nexport default new UIViewPlugin<NavigationView>(NavigationView, async view => {\n    await view.isRendered();\n\n    const { identity } = view.getSecurityHook();\n    const groups = identity.getPermission(Permission.Groups);\n    const users = identity.getPermission(Permission.Users);\n    const apiKeys = identity.getPermission(Permission.ApiKeys);\n\n    if (!groups && !users && !apiKeys) {\n        return;\n    }\n\n    const mainMenu = view.getSettingsMenuElement().addElement<NavigationMenuElement>(\n        new NavigationMenuElement(\"security\", {\n            label: \"Security\",\n            tags: [TAGS.UTILS]\n        })\n    );\n\n    if (users) {\n        mainMenu.addElement<NavigationMenuElement>(\n            new NavigationMenuElement(\"users\", {\n                label: \"Users\",\n                path: \"/security/users\"\n            })\n        );\n    }\n\n    if (groups) {\n        mainMenu.addElement<NavigationMenuElement>(\n            new NavigationMenuElement(\"groups\", {\n                label: \"Groups\",\n                path: \"/security/groups\"\n            })\n        );\n    }\n\n    if (apiKeys) {\n        mainMenu.addElement<NavigationMenuElement>(\n            new NavigationMenuElement(\"apiKeys\", {\n                label: \"API Keys\",\n                path: \"/security/api-keys\"\n            })\n        );\n    }\n});\n"],"file":"menus.js"}