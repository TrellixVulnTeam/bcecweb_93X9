{"version":3,"sources":["../../../src/plugins/userMenu/userInfo.tsx"],"names":["React","css","Link","useSecurity","Image","ListItem","ListItemGraphic","Typography","Avatar","GenericElement","UIViewPlugin","AdminView","avatarImage","height","width","borderRadius","display","backgroundColor","linkStyles","marginTop","marginBottom","paddingTop","paddingBottom","textDecoration","lineHeight","fontWeight","overflow","whiteSpace","textOverflow","maxWidth","UserInfo","security","identity","login","firstName","lastName","avatar","gravatar","fullName","src","props","view","userMenu","getElement","userInfo","moveToTheBeginningOf","refresh"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport { Link } from \"@webiny/react-router\";\nimport { useSecurity } from \"@webiny/app-security/hooks/useSecurity\";\nimport { Image } from \"@webiny/app/components\";\nimport { ListItem, ListItemGraphic } from \"@webiny/ui/List\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Avatar } from \"@webiny/ui/Avatar\";\nimport { GenericElement } from \"@webiny/app-admin/ui/elements/GenericElement\";\nimport { UIViewPlugin } from \"@webiny/app-admin/ui/UIView\";\nimport { AdminView } from \"@webiny/app-admin/ui/views/AdminView\";\n\nconst avatarImage = css({\n    height: \"40px !important\",\n    width: \"40px !important\",\n    borderRadius: \"50%\",\n    display: \"inline-block\",\n    \">div\": {\n        backgroundColor: \"var(--mdc-theme-surface)\"\n    }\n});\n\nconst linkStyles = css({\n    backgroundColor: \"var(--mdc-theme-background)\",\n    marginTop: -25,\n    marginBottom: 0,\n    paddingTop: 0,\n    paddingBottom: 0,\n    textDecoration: \"none\",\n    display: \"block\",\n    \"&:hover\": {\n        textDecoration: \"none\"\n    },\n    \">.mdc-list-item\": {\n        display: \"flex\",\n        height: \"65px !important\",\n        marginTop: 15,\n        \".avatar\": {\n            marginTop: 10\n        }\n    },\n    \"h3, h3>.mdc-typography--headline6\": {\n        lineHeight: \"1em !important\"\n    },\n    \".mdc-menu &.mdc-list-item\": {\n        \">.mdc-list-item__text\": {\n            fontWeight: \"bold\"\n        }\n    },\n    \".mdc-list-item\": {\n        height: \"auto\",\n        \".mdc-typography--headline6\": {\n            overflow: \"hidden\",\n            whiteSpace: \"nowrap\",\n            textOverflow: \"ellipsis\",\n            maxWidth: 180,\n            display: \"block\"\n        },\n        \".mdc-typography--subtitle2\": {\n            overflow: \"hidden\",\n            whiteSpace: \"nowrap\",\n            textOverflow: \"ellipsis\",\n            maxWidth: 180\n        }\n    }\n});\n\nconst UserInfo = () => {\n    const security = useSecurity();\n\n    if (!security || !security.identity) {\n        return null;\n    }\n\n    const { login, firstName, lastName, avatar, gravatar } = security.identity;\n    const fullName = `${firstName} ${lastName}`;\n\n    return (\n        <Link to={\"/account\"} className={linkStyles}>\n            <ListItem ripple={false}>\n                <ListItemGraphic className={avatarImage}>\n                    <Avatar\n                        className={\"avatar\"}\n                        src={avatar ? avatar.src : gravatar}\n                        alt={fullName}\n                        fallbackText={fullName}\n                        renderImage={props => <Image {...props} transform={{ width: 100 }} />}\n                    />\n                </ListItemGraphic>\n                <div>\n                    <h3>\n                        <Typography use={\"headline6\"}>{fullName}</Typography>\n                    </h3>\n                    <Typography use={\"subtitle2\"}>{login}</Typography>\n                </div>\n            </ListItem>\n        </Link>\n    );\n};\n\nexport default () => {\n    return new UIViewPlugin<AdminView>(AdminView, view => {\n        const userMenu = view.getElement(\"userMenu\");\n        if (!userMenu) {\n            return;\n        }\n\n        const userInfo = new GenericElement(\"userInfo\", () => <UserInfo />);\n        userInfo.moveToTheBeginningOf(userMenu);\n        view.refresh();\n    });\n};\n"],"file":"userInfo.js"}