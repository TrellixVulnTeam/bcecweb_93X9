{"version":3,"sources":["../../../src/plugins/userMenu/signOut.tsx"],"names":["React","ListItem","ListItemGraphic","Icon","useSecurity","GenericElement","UIViewPlugin","AdminView","SignOut","identity","logout","console","warn","view","userMenu","getElement","signOut","moveToTheEndOf"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,eAAnB,QAA0C,iBAA1C;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,WAAT,QAA4B,wCAA5B;AACA,SAASC,cAAT,QAA+B,8CAA/B;AACA,SAASC,YAAT,QAA6B,6BAA7B;AACA,SAASC,SAAT,QAA0B,sCAA1B;;;AAIA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClB,qBAAqBJ,WAAW,EAAhC;AAAA,MAAQK,QAAR,gBAAQA,QAAR;;AAEA,MAAI,CAACA,QAAL,EAAe;AACX,WAAO,IAAP;AACH;;AAED,MAAI,OAAOA,QAAQ,CAACC,MAAhB,KAA2B,UAA/B,EAA2C;AACvCC,IAAAA,OAAO,CAACC,IAAR;AACA,WAAO,IAAP;AACH;;AAED,sBACI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEH,QAAQ,CAACC;AAA5B,kBACI,oBAAC,eAAD,qBAAkB,oBAAC,IAAD;AAAM,IAAA,IAAI,eAAE,oBAAC,WAAD;AAAZ,IAAlB,CADJ,aADJ;AAMH,CAlBD;;AAoBA,gBAAe,YAAM;AACjB,SAAO,IAAIJ,YAAJ,CAA4BC,SAA5B,EAAuC,UAAAM,IAAI,EAAI;AAClD,QAAMC,QAAQ,GAAGD,IAAI,CAACE,UAAL,CAAiC,UAAjC,CAAjB;;AACA,QAAID,QAAJ,EAAc;AACV,UAAME,OAAO,GAAG,IAAIX,cAAJ,CAAmB,SAAnB,EAA8B;AAAA,4BAAM,oBAAC,OAAD,OAAN;AAAA,OAA9B,CAAhB;AACAW,MAAAA,OAAO,CAACC,cAAR,CAAuBH,QAAvB;AACH;AACJ,GANM,CAAP;AAOH,CARD","sourcesContent":["import React from \"react\";\nimport { ListItem, ListItemGraphic } from \"@webiny/ui/List\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { useSecurity } from \"@webiny/app-security/hooks/useSecurity\";\nimport { GenericElement } from \"@webiny/app-admin/ui/elements/GenericElement\";\nimport { UIViewPlugin } from \"@webiny/app-admin/ui/UIView\";\nimport { AdminView } from \"@webiny/app-admin/ui/views/AdminView\";\nimport { UserMenuElement } from \"@webiny/app-admin/plugins/userMenu/UserMenuElement\";\nimport { ReactComponent as SignOutIcon } from \"../../assets/icons/round-lock_open-24px.svg\";\n\nconst SignOut = () => {\n    const { identity } = useSecurity();\n\n    if (!identity) {\n        return null;\n    }\n\n    if (typeof identity.logout !== \"function\") {\n        console.warn(`Missing \"logout\" function implementation in SecurityIdentity!`);\n        return null;\n    }\n\n    return (\n        <ListItem onClick={identity.logout}>\n            <ListItemGraphic>{<Icon icon={<SignOutIcon />} />}</ListItemGraphic>\n            Sign out\n        </ListItem>\n    );\n};\n\nexport default () => {\n    return new UIViewPlugin<AdminView>(AdminView, view => {\n        const userMenu = view.getElement<UserMenuElement>(\"userMenu\");\n        if (userMenu) {\n            const signOut = new GenericElement(\"signOut\", () => <SignOut />);\n            signOut.moveToTheEndOf(userMenu);\n        }\n    });\n};\n"],"file":"signOut.js"}