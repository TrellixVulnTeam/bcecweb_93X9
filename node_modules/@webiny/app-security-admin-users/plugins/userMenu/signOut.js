import React from "react";
import { ListItem, ListItemGraphic } from "@webiny/ui/List";
import { Icon } from "@webiny/ui/Icon";
import { useSecurity } from "@webiny/app-security/hooks/useSecurity";
import { GenericElement } from "@webiny/app-admin/ui/elements/GenericElement";
import { UIViewPlugin } from "@webiny/app-admin/ui/UIView";
import { AdminView } from "@webiny/app-admin/ui/views/AdminView";
import { ReactComponent as SignOutIcon } from "@svgr/webpack!../../assets/icons/round-lock_open-24px.svg";

var SignOut = function SignOut() {
  var _useSecurity = useSecurity(),
      identity = _useSecurity.identity;

  if (!identity) {
    return null;
  }

  if (typeof identity.logout !== "function") {
    console.warn("Missing \"logout\" function implementation in SecurityIdentity!");
    return null;
  }

  return /*#__PURE__*/React.createElement(ListItem, {
    onClick: identity.logout
  }, /*#__PURE__*/React.createElement(ListItemGraphic, null, /*#__PURE__*/React.createElement(Icon, {
    icon: /*#__PURE__*/React.createElement(SignOutIcon, null)
  })), "Sign out");
};

export default (function () {
  return new UIViewPlugin(AdminView, function (view) {
    var userMenu = view.getElement("userMenu");

    if (userMenu) {
      var signOut = new GenericElement("signOut", function () {
        return /*#__PURE__*/React.createElement(SignOut, null);
      });
      signOut.moveToTheEndOf(userMenu);
    }
  });
});
//# sourceMappingURL=signOut.js.map