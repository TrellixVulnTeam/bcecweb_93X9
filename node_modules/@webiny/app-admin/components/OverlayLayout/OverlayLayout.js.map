{"version":3,"sources":["../../../src/components/OverlayLayout/OverlayLayout.tsx"],"names":["React","Transition","styled","css","TopAppBarSecondary","TopAppBarSection","IconButton","noop","OverlayView","OverlayLayoutWrapper","position","width","height","backgroundColor","zIndex","paddingTop","top","left","noScroll","overflow","defaultStyle","transform","opacity","transitionProperty","transitionTimingFunction","transitionDuration","willChange","transitionStyles","entering","entered","OverlayLayout","props","isVisible","document","body","classList","add","setState","openedViews","remove","onExited","barLeft","barMiddle","barRight","children","style","rest","state","hideComponent","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Transition } from \"react-transition-group\";\nimport styled from \"@emotion/styled\";\nimport { css } from \"emotion\";\nimport { TopAppBarSecondary, TopAppBarSection } from \"@webiny/ui/TopAppBar\";\nimport { IconButton } from \"@webiny/ui/Button\";\nimport noop from \"lodash/noop\";\n\nimport { ReactComponent as CloseIcon } from \"./icons/close.svg\";\nimport { OverlayView } from \"~/ui/views/OverlayView\";\n\nconst OverlayLayoutWrapper = styled(\"div\")({\n    position: \"fixed\",\n    width: \"100%\",\n    height: \"100vh\",\n    backgroundColor: \"var(--mdc-theme-background)\",\n    /**\n     * Has to be higher than 5 so it's above advanced settings dialog,\n     * and below 20, so the image editor & Dialogs can be displayed above.\n     */\n    zIndex: 18,\n    paddingTop: 65,\n    top: 0,\n    left: 0\n});\n\nconst noScroll = css({\n    overflow: \"hidden\",\n    height: \"100vh\"\n});\n\nconst defaultStyle = {\n    transform: \"translateY(75vh)\",\n    opacity: 0,\n    transitionProperty: \"transform, opacity\",\n    transitionTimingFunction: \"cubic-bezier(0, 0, .2, 1)\",\n    transitionDuration: \"225ms\",\n    willChange: \"opacity, transform\"\n};\n\nconst transitionStyles = {\n    entering: { transform: \"translateY(75vh)\", opacity: 0 },\n    entered: { transform: \"translateY(0px)\", opacity: 1 }\n};\n\ntype OverlayLayoutProps = {\n    barMiddle?: React.ReactNode;\n    barLeft?: React.ReactNode;\n    barRight?: React.ReactNode;\n    children: React.ReactNode;\n    onExited?: Function;\n    style?: React.CSSProperties;\n};\n\ntype State = {\n    isVisible: boolean;\n};\n\nexport class OverlayLayout extends React.Component<OverlayLayoutProps, State> {\n    constructor(props) {\n        super(props);\n        document.body.classList.add(noScroll);\n    }\n\n    static defaultProps = {\n        onExited: noop\n    };\n\n    state = { isVisible: true };\n\n    hideComponent() {\n        this.setState({ isVisible: false });\n        if (OverlayView.openedViews === 0) {\n            document.body.classList.remove(noScroll);\n        }\n    }\n\n    componentWillUnmount() {\n        if (OverlayView.openedViews === 0) {\n            document.body.classList.remove(noScroll);\n        }\n    }\n\n    render() {\n        const { onExited, barLeft, barMiddle, barRight, children, style, ...rest } = this.props;\n\n        return (\n            <Transition in={this.state.isVisible} timeout={100} appear onExited={onExited}>\n                {state => (\n                    <OverlayLayoutWrapper\n                        {...rest}\n                        style={{ ...defaultStyle, ...style, ...transitionStyles[state] }}\n                    >\n                        <TopAppBarSecondary fixed style={{ top: 0 }}>\n                            <TopAppBarSection style={{ width: \"33%\" }} alignStart>\n                                {barLeft}\n                            </TopAppBarSection>\n                            <TopAppBarSection style={{ width: \"33%\" }}>\n                                {barMiddle}\n                            </TopAppBarSection>\n                            <TopAppBarSection style={{ width: \"33%\" }} alignEnd>\n                                {barRight}\n                                <IconButton\n                                    ripple={false}\n                                    onClick={() => this.hideComponent()}\n                                    icon={<CloseIcon style={{ width: 24, height: 24 }} />}\n                                />\n                            </TopAppBarSection>\n                        </TopAppBarSecondary>\n\n                        {children}\n                    </OverlayLayoutWrapper>\n                )}\n            </Transition>\n        );\n    }\n}\n"],"file":"OverlayLayout.js"}