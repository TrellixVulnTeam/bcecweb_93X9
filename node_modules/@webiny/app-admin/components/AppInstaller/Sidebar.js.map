{"version":3,"sources":["../../../src/components/AppInstaller/Sidebar.tsx"],"names":["React","Fragment","styled","Typography","classSet","SidebarWrapper","Logo","padding","borderBottom","img","width","height","List","li","display","alignItems","borderRadius","marginRight","textAlign","lineHeight","fontSize","paddingTop","color","backgroundColor","fontWeight","Note","Installations","title","allInstallers","installer","showLogin","renderList","loginItem","signInDivider","items","i","length","name","secure","installed","prev","push","active","pending","Sidebar","upgrades","filter","type","installations","webinyLogo","process","env","REACT_APP_WEBINY_VERSION"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport classSet from \"classnames\";\n\nimport webinyLogo from \"../../assets/images/webiny-orange-logo.svg\";\nimport signInDivider from \"./assets/sign-in-divider.svg\";\n\nconst SidebarWrapper = styled(\"div\")({});\n\nconst Logo = styled(\"div\")({\n    padding: 15,\n    borderBottom: \"1px solid var(--mdc-theme-background)\",\n    img: {\n        width: \"100px\",\n        height: \"auto\"\n    }\n});\n\nconst List = styled(\"ul\")({\n    li: {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"15px 15px\",\n        \".status\": {\n            borderRadius: \"50%\",\n            display: \"inline-block\",\n            height: 20,\n            width: 20,\n            marginRight: 15\n        },\n        \"&.sign-in\": {\n            display: \"block\",\n            textAlign: \"center\",\n            \".note\": {\n                display: \"inline-block\",\n                lineHeight: \"150%\",\n                fontSize: 10,\n                paddingTop: 10,\n                color: \"var(--mdc-theme-text-icon-on-background)\"\n            },\n            img: {\n                width: \"100%\"\n            }\n        },\n        \"&.active\": {\n            backgroundColor: \"var(--mdc-theme-background)\",\n            fontWeight: 600,\n            \".status\": {\n                backgroundColor: \"var(--mdc-theme-primary)\"\n            }\n        },\n        \"&.pending\": {\n            \".status\": {\n                backgroundColor: \"var(--mdc-theme-on-surface)\"\n            }\n        },\n        \"&.installed\": {\n            \".status\": {\n                backgroundColor: \"var(--mdc-theme-secondary)\"\n            }\n        }\n    }\n});\n\nconst Note = styled(\"div\")({\n    padding: 15\n});\n\nconst Installations = ({ title, allInstallers, installer, showLogin }) => {\n    const renderList = () => {\n        const loginItem = (\n            <li key={\"login\"} className={\"sign-in\"}>\n                <img src={signInDivider} />\n                <Typography use={\"overline\"} className={\"note\"}>\n                    TO CONTINUE THE INSTALLATION AFTER THIS POINT YOUâ€™LL NEED TO SIGN IN\n                </Typography>\n            </li>\n        );\n\n        const items = [];\n        for (let i = 0; i < allInstallers.length; i++) {\n            const { name, title, secure, installed } = allInstallers[i];\n            const prev = i === 0 ? null : allInstallers[i - 1];\n            if ((!prev || !prev.secure) && secure && showLogin) {\n                items.push(loginItem);\n            }\n\n            const active = installer && !showLogin && name === installer.name;\n\n            items.push(\n                <li\n                    key={name}\n                    className={classSet(\n                        { installed: installed },\n                        { active: active },\n                        { pending: !installed && !active }\n                    )}\n                >\n                    <span className={\"status\"} />\n                    <span className={\"title\"}>{title}</span>\n                </li>\n            );\n        }\n        return items;\n    };\n\n    return (\n        <Fragment>\n            <Note>\n                <Typography use={\"body1\"}>{title}</Typography>\n            </Note>\n            <List>{renderList()}</List>\n        </Fragment>\n    );\n};\n\nconst Sidebar = ({ allInstallers, installer, showLogin }) => {\n    const upgrades = allInstallers.filter(installer => installer.type === \"upgrade\");\n    const installations = allInstallers.filter(installer => installer.type === \"install\");\n\n    return (\n        <SidebarWrapper>\n            <Logo>\n                <img src={webinyLogo} alt=\"Webiny CMS\" />\n            </Logo>\n            {upgrades.length > 0 ? (\n                <Installations\n                    title={\n                        <span>\n                            The following apps will be upgraded to{\" \"}\n                            <strong>{process.env.REACT_APP_WEBINY_VERSION}</strong>:\n                        </span>\n                    }\n                    allInstallers={upgrades}\n                    installer={installer}\n                    showLogin={showLogin}\n                />\n            ) : null}\n            {installations.length > 0 && (\n                <Installations\n                    title={\"The following apps will be installed and configured:\"}\n                    allInstallers={installations}\n                    installer={installer}\n                    showLogin={upgrades.length > 0 ? false : showLogin}\n                />\n            )}\n        </SidebarWrapper>\n    );\n};\nexport default Sidebar;\n"],"file":"Sidebar.js"}