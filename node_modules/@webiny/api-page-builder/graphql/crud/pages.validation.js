"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _models = require("./pages/models");

var _PagePlugin = require("../../plugins/PagePlugin");

var _default = new _PagePlugin.PagePlugin({
  async beforeUpdate({
    inputData,
    existingPage,
    updateData
  }) {
    const updateDataModel = new _models.UpdateDataModel().populate(inputData);
    await updateDataModel.validate();
    const updateSettingsModel = new _models.UpdateSettingsModel().populate(existingPage.settings).populate(inputData.settings);
    await updateSettingsModel.validate();
    updateData.settings = Object.assign({}, updateData.settings, await updateSettingsModel.toJSON());
  }

});

exports.default = _default;
//# sourceMappingURL=pages.validation.js.map