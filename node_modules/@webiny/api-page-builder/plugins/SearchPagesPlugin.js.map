{"version":3,"sources":["../../src/plugins/SearchPagesPlugin.ts"],"names":["SearchPagesPlugin","Plugin","constructor","config","modifyQuery","args","modifySort"],"mappings":";;;;;;;;;;;AAAA;;AAqBO,MAAeA,iBAAf,SAAyCC,eAAzC,CAAgD;AAGnDC,EAAAA,WAAW,CAACC,MAAD,EAAiB;AACxB;AADwB;AAExB,SAAKA,MAAL,GAAcA,MAAd;AACH;;AAEDC,EAAAA,WAAW,CAACC,IAAD,EAAwB;AAC/B,QAAI,OAAO,KAAKF,MAAL,CAAYC,WAAnB,KAAmC,UAAvC,EAAmD;AAC/C,WAAKD,MAAL,CAAYC,WAAZ,CAAwBC,IAAxB;AACH;AACJ;;AAEDC,EAAAA,UAAU,CAACD,IAAD,EAAuB;AAC7B,QAAI,OAAO,KAAKF,MAAL,CAAYG,UAAnB,KAAkC,UAAtC,EAAkD;AAC9C,WAAKH,MAAL,CAAYG,UAAZ,CAAuBD,IAAvB;AACH;AACJ;;AAlBkD","sourcesContent":["import { Plugin } from \"@webiny/plugins\";\nimport { ElasticsearchBoolQueryConfig, Sort as esSort } from \"@webiny/api-elasticsearch/types\";\nimport { PbContext } from \"~/graphql/types\";\n\ninterface ModifyQueryArgs {\n    query: ElasticsearchBoolQueryConfig;\n    args: Record<string, any>;\n    context: PbContext;\n}\n\ninterface ModifySortArgs {\n    sort: esSort;\n    args: Record<string, any>;\n    context: PbContext;\n}\n\ninterface Config {\n    modifyQuery?(args: ModifyQueryArgs): void;\n    modifySort?(args: ModifySortArgs): void;\n}\n\nexport abstract class SearchPagesPlugin extends Plugin {\n    private config: Config;\n\n    constructor(config: Config) {\n        super();\n        this.config = config;\n    }\n\n    modifyQuery(args: ModifyQueryArgs) {\n        if (typeof this.config.modifyQuery === \"function\") {\n            this.config.modifyQuery(args);\n        }\n    }\n\n    modifySort(args: ModifySortArgs) {\n        if (typeof this.config.modifySort === \"function\") {\n            this.config.modifySort(args);\n        }\n    }\n}\n"],"file":"SearchPagesPlugin.js"}