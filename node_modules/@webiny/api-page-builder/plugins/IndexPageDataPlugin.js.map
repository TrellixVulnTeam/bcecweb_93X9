{"version":3,"sources":["../../src/plugins/IndexPageDataPlugin.ts"],"names":["IndexPageDataPlugin","Plugin","constructor","callable","apply","params"],"mappings":";;;;;;;;;;;AAAA;;AAaO,MAAMA,mBAAN,SAA6DC,eAA7D,CAAoE;AAIvEC,EAAAA,WAAW,CAACC,QAAD,EAAyC;AAChD;AADgD;AAEhD,SAAKA,QAAL,GAAgBA,QAAhB;AACH;;AAEDC,EAAAA,KAAK,CAACC,MAAD,EAAqC;AACtC,QAAI,OAAO,KAAKF,QAAZ,KAAyB,UAA7B,EAAyC;AACrC,WAAKA,QAAL,CAAcE,MAAd;AACH;AACJ;;AAbsE;;;8BAA9DL,mB,UACqB,kC","sourcesContent":["import { Plugin } from \"@webiny/plugins\";\nimport { Page, PbContext } from \"../types\";\n\ninterface ApplyPageDataParams<TPage> {\n    data: Record<string, any>;\n    page: TPage;\n    context: PbContext;\n}\n\ninterface ApplyPageDataCallable<TPage> {\n    (params: ApplyPageDataParams<TPage>): void;\n}\n\nexport class IndexPageDataPlugin<TPage extends Page = Page> extends Plugin {\n    public static readonly type = \"pb.elasticsearch.index-page-data\";\n    private callable: ApplyPageDataCallable<TPage>;\n\n    constructor(callable: ApplyPageDataCallable<TPage>) {\n        super();\n        this.callable = callable;\n    }\n\n    apply(params: ApplyPageDataParams<TPage>) {\n        if (typeof this.callable === \"function\") {\n            this.callable(params);\n        }\n    }\n}\n"],"file":"IndexPageDataPlugin.js"}