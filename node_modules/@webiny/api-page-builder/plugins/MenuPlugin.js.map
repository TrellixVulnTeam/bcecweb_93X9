{"version":3,"sources":["../../src/plugins/MenuPlugin.ts"],"names":["MenuPlugin","Plugin","constructor","config","_config","beforeCreate","params","_execute","afterCreate","beforeUpdate","afterUpdate","beforeDelete","afterDelete","callback"],"mappings":";;;;;;;;;;;AAAA;;AAmBO,MAAMA,UAAN,SAAyBC,eAAzB,CAAgC;AAInCC,EAAAA,WAAW,CAACC,MAAD,EAAkB;AACzB;AADyB;AAEzB,SAAKC,OAAL,GAAeD,MAAM,IAAI,EAAzB;AACH;;AAEDE,EAAAA,YAAY,CAACC,MAAD,EAA2C;AACnD,WAAO,KAAKC,QAAL,CAAc,cAAd,EAA8BD,MAA9B,CAAP;AACH;;AAEDE,EAAAA,WAAW,CAACF,MAAD,EAA2C;AAClD,WAAO,KAAKC,QAAL,CAAc,aAAd,EAA6BD,MAA7B,CAAP;AACH;;AAEDG,EAAAA,YAAY,CAACH,MAAD,EAA2C;AACnD,WAAO,KAAKC,QAAL,CAAc,cAAd,EAA8BD,MAA9B,CAAP;AACH;;AAEDI,EAAAA,WAAW,CAACJ,MAAD,EAA2C;AAClD,WAAO,KAAKC,QAAL,CAAc,aAAd,EAA6BD,MAA7B,CAAP;AACH;;AAEDK,EAAAA,YAAY,CAACL,MAAD,EAA2C;AACnD,WAAO,KAAKC,QAAL,CAAc,cAAd,EAA8BD,MAA9B,CAAP;AACH;;AAEDM,EAAAA,WAAW,CAACN,MAAD,EAA2C;AAClD,WAAO,KAAKC,QAAL,CAAc,aAAd,EAA6BD,MAA7B,CAAP;AACH;;AAEOC,EAAAA,QAAQ,CAACM,QAAD,EAAWP,MAAX,EAAmB;AAC/B,QAAI,OAAO,KAAKF,OAAL,CAAaS,QAAb,CAAP,KAAkC,UAAtC,EAAkD;AAC9C,aAAO,KAAKT,OAAL,CAAaS,QAAb,EAAuBP,MAAvB,CAAP;AACH;AACJ;;AArCkC;;;8BAA1BN,U,UACqB,S","sourcesContent":["import { Plugin } from \"@webiny/plugins\";\nimport { Menu, PbContext } from \"~/types\";\n\nexport type CallbackFunction<TParams> = (params: TParams) => void | Promise<void>;\n\ninterface MenuParams {\n    context: PbContext;\n    menu: Menu;\n}\n\ninterface Config {\n    beforeCreate?: CallbackFunction<MenuParams>;\n    afterCreate?: CallbackFunction<MenuParams>;\n    beforeUpdate?: CallbackFunction<MenuParams>;\n    afterUpdate?: CallbackFunction<MenuParams>;\n    beforeDelete?: CallbackFunction<MenuParams>;\n    afterDelete?: CallbackFunction<MenuParams>;\n}\n\nexport class MenuPlugin extends Plugin {\n    public static readonly type = \"pb.menu\";\n    private _config: Partial<Config>;\n\n    constructor(config?: Config) {\n        super();\n        this._config = config || {};\n    }\n\n    beforeCreate(params: MenuParams): void | Promise<void> {\n        return this._execute(\"beforeCreate\", params);\n    }\n\n    afterCreate(params: MenuParams): void | Promise<void> {\n        return this._execute(\"afterCreate\", params);\n    }\n\n    beforeUpdate(params: MenuParams): void | Promise<void> {\n        return this._execute(\"beforeUpdate\", params);\n    }\n\n    afterUpdate(params: MenuParams): void | Promise<void> {\n        return this._execute(\"afterUpdate\", params);\n    }\n\n    beforeDelete(params: MenuParams): void | Promise<void> {\n        return this._execute(\"beforeDelete\", params);\n    }\n\n    afterDelete(params: MenuParams): void | Promise<void> {\n        return this._execute(\"afterDelete\", params);\n    }\n\n    private _execute(callback, params) {\n        if (typeof this._config[callback] === \"function\") {\n            return this._config[callback](params);\n        }\n    }\n}\n"],"file":"MenuPlugin.js"}