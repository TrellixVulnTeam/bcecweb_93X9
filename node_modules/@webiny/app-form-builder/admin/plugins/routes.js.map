{"version":3,"sources":["../../../src/admin/plugins/routes.tsx"],"names":["React","Suspense","lazy","Helmet","SecureRoute","CircularProgress","Route","AdminLayout","Permission","Loader","children","label","props","cloneElement","FormEditor","Forms","plugins","name","type","route","Form"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,IAA1B,QAAsC,OAAtC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,WAAT,QAA4B,iCAA5B;AACA,SAASC,gBAAT,QAAiC,qBAAjC;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,SAASC,WAAT,QAA4B,0CAA5B;AAEA,SAASC,UAAT;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,MAAaC,KAAb,QAAaA,KAAb;AAAA,MAAuBC,KAAvB;;AAAA,sBACX,oBAAC,QAAD;AAAU,IAAA,QAAQ,eAAE,oBAAC,gBAAD;AAAkB,MAAA,KAAK,EAAED;AAAzB;AAApB,kBACKX,KAAK,CAACa,YAAN,CAAmBH,QAAnB,EAA6BE,KAA7B,CADL,CADW;AAAA,CAAf;;AAMA,IAAME,UAAU,gBAAGZ,IAAI,CAAC;AAAA,SAAM,yBAAN;AAAA,CAAD,CAAvB;AACA,IAAMa,KAAK,gBAAGb,IAAI,CAAC;AAAA,SAAM,8BAAN;AAAA,CAAD,CAAlB;AAEA,IAAMc,OAAsB,GAAG,CAC3B;AACIC,EAAAA,IAAI,EAAE,2BADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,KAAK,eACD,oBAAC,KAAD;AACI,IAAA,KAAK,MADT;AAEI,IAAA,IAAI,EAAE,yBAFV;AAGI,IAAA,MAAM,EAAE;AAAA,0BACJ,oBAAC,WAAD;AAAa,QAAA,UAAU,EAAEX,UAAU,CAACY;AAApC,sBACI,oBAAC,MAAD,qBACI,+CADJ,CADJ,eAII,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAAf,sBACI,oBAAC,UAAD,OADJ,CAJJ,CADI;AAAA;AAHZ;AAJR,CAD2B,EAqB3B;AACIH,EAAAA,IAAI,EAAE,oBADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,KAAK,eACD,oBAAC,KAAD;AACI,IAAA,KAAK,MADT;AAEI,IAAA,IAAI,EAAC,qBAFT;AAGI,IAAA,MAAM,EAAE;AAAA,0BACJ,oBAAC,WAAD;AAAa,QAAA,UAAU,EAAEX,UAAU,CAACY;AAApC,sBACI,oBAAC,WAAD,qBACI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAAf,QADJ,eAEI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAAf,sBACI,oBAAC,KAAD,OADJ,CAFJ,CADJ,CADI;AAAA;AAHZ;AAJR,CArB2B,CAA/B;AA2CA,eAAeJ,OAAf","sourcesContent":["import React, { Suspense, lazy } from \"react\";\nimport Helmet from \"react-helmet\";\nimport { SecureRoute } from \"@webiny/app-security/components\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { Route } from \"@webiny/react-router\";\nimport { AdminLayout } from \"@webiny/app-admin/components/AdminLayout\";\nimport { RoutePlugin } from \"@webiny/app/types\";\nimport { Permission } from \"./constants\";\n\nconst Loader = ({ children, label, ...props }) => (\n    <Suspense fallback={<CircularProgress label={label} />}>\n        {React.cloneElement(children, props)}\n    </Suspense>\n);\n\nconst FormEditor = lazy(() => import(\"../views/Editor\"));\nconst Forms = lazy(() => import(\"../views/Forms/Forms\"));\n\nconst plugins: RoutePlugin[] = [\n    {\n        name: \"route-form-editors-editor\",\n        type: \"route\",\n        route: (\n            <Route\n                exact\n                path={\"/form-builder/forms/:id\"}\n                render={() => (\n                    <SecureRoute permission={Permission.Form}>\n                        <Helmet>\n                            <title>Edit form</title>\n                        </Helmet>\n                        <Loader label={\"Loading editor...\"}>\n                            <FormEditor />\n                        </Loader>\n                    </SecureRoute>\n                )}\n            />\n        )\n    },\n    {\n        name: \"route-form-editors\",\n        type: \"route\",\n        route: (\n            <Route\n                exact\n                path=\"/form-builder/forms\"\n                render={() => (\n                    <SecureRoute permission={Permission.Form}>\n                        <AdminLayout>\n                            <Helmet title={\"Form Builder\"} />\n                            <Loader label={\"Loading view...\"}>\n                                <Forms />\n                            </Loader>\n                        </AdminLayout>\n                    </SecureRoute>\n                )}\n            />\n        )\n    }\n];\n\nexport default plugins;\n"],"file":"routes.js"}