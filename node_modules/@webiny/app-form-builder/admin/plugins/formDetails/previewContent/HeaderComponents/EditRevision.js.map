{"version":3,"sources":["../../../../../../src/admin/plugins/formDetails/previewContent/HeaderComponents/EditRevision.tsx"],"names":["React","useRouter","IconButton","Tooltip","useRevision","usePermission","EditRevision","revision","form","createRevision","history","canEdit","status","push","encodeURIComponent","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AAEA,SAASC,WAAT;AACA,OAAOC,aAAP;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAwB;AAAA,MAArBC,QAAqB,QAArBA,QAAqB;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AACzC,qBAA2BJ,WAAW,CAAC;AAAEG,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,IAAI,EAAJA;AAAZ,GAAD,CAAtC;AAAA,MAAQC,cAAR,gBAAQA,cAAR;;AACA,mBAAoBR,SAAS,EAA7B;AAAA,MAAQS,OAAR,cAAQA,OAAR;;AACA,uBAAoBL,aAAa,EAAjC;AAAA,MAAQM,OAAR,kBAAQA,OAAR,CAHyC,CAKzC;;;AACA,MAAI,CAACA,OAAO,CAACH,IAAD,CAAZ,EAAoB;AAChB,WAAO,IAAP;AACH;;AAED,MAAID,QAAQ,CAACK,MAAT,KAAoB,OAAxB,EAAiC;AAC7B,wBACI,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,MAAlB;AAA0B,MAAA,SAAS,EAAE;AAArC,oBACI,oBAAC,UAAD;AACI,qBAAa,sCADjB;AAEI,MAAA,IAAI,eAAE,oBAAC,QAAD,OAFV;AAGI,MAAA,OAAO,EAAE;AAAA,eACLF,OAAO,CAACG,IAAR,+BAAoCC,kBAAkB,CAACP,QAAQ,CAACQ,EAAV,CAAtD,EADK;AAAA;AAHb,MADJ,CADJ;AAWH;;AAED,sBACI,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAE,oCAAlB;AAAwD,IAAA,SAAS,EAAE;AAAnE,kBACI,oBAAC,UAAD;AACI,mBAAa,wCADjB;AAEI,IAAA,IAAI,eAAE,oBAAC,QAAD,OAFV;AAGI,IAAA,OAAO,EAAEN;AAHb,IADJ,CADJ;AASH,CAjCD;;AAmCA,eAAeH,YAAf","sourcesContent":["import React from \"react\";\nimport { useRouter } from \"@webiny/react-router\";\nimport { IconButton } from \"@webiny/ui/Button\";\nimport { Tooltip } from \"@webiny/ui/Tooltip\";\nimport { ReactComponent as EditIcon } from \"../../../../icons/edit.svg\";\nimport { useRevision } from \"../../formRevisions/useRevision\";\nimport usePermission from \"../../../../../hooks/usePermission\";\n\nconst EditRevision = ({ revision, form }) => {\n    const { createRevision } = useRevision({ revision, form });\n    const { history } = useRouter();\n    const { canEdit } = usePermission();\n\n    // Render nothing is user doesn't have required permission.\n    if (!canEdit(form)) {\n        return null;\n    }\n\n    if (revision.status === \"draft\") {\n        return (\n            <Tooltip content={\"Edit\"} placement={\"top\"}>\n                <IconButton\n                    data-testid={\"fb.form-preview.header.edit-revision\"}\n                    icon={<EditIcon />}\n                    onClick={() =>\n                        history.push(`/form-builder/forms/${encodeURIComponent(revision.id)}`)\n                    }\n                />\n            </Tooltip>\n        );\n    }\n\n    return (\n        <Tooltip content={\"New draft based on this version...\"} placement={\"top\"}>\n            <IconButton\n                data-testid={\"fb.form-preview.header.create-revision\"}\n                icon={<EditIcon />}\n                onClick={createRevision}\n            />\n        </Tooltip>\n    );\n};\n\nexport default EditRevision;\n"],"file":"EditRevision.js"}