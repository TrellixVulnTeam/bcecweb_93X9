{"version":3,"sources":["../../../../../src/admin/plugins/formDetails/previewContent/index.tsx"],"names":["React","useEffect","useState","Tab","styled","Elevation","FormPreview","Header","CircularProgress","i18n","t","namespace","RenderBlock","position","zIndex","backgroundColor","height","overflow","padding","PreviewContentTab","props","revisionId","setRevisionId","revisions","length","id","form","revision","find","item","loading","name","type","render"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,OAAOC,WAAP;AACA,OAAOC,MAAP;AACA,SAASC,gBAAT,QAAiC,qBAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AAGA,IAAMC,CAAC,GAAGD,IAAI,CAACE,SAAL,CAAe,qCAAf,CAAV;AAEA,IAAMC,WAAW,gBAAGR,MAAH,CAAU,KAAV;AAAA;AAAA;AAAA,GAAiB;AAC9BS,EAAAA,QAAQ,EAAE,UADoB;AAE9BC,EAAAA,MAAM,EAAE,CAFsB;AAG9BC,EAAAA,eAAe,EAAE,6BAHa;AAI9BC,EAAAA,MAAM,EAAE,MAJsB;AAK9BC,EAAAA,QAAQ,EAAE,MALoB;AAM9BC,EAAAA,OAAO,EAAE;AANqB,CAAjB,CAAjB;;AASA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAA4C;AAClE,kBAAoClB,QAAQ,EAA5C;AAAA;AAAA,MAAOmB,UAAP;AAAA,MAAmBC,aAAnB;;AAEArB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI,CAACmB,KAAK,CAACG,SAAN,CAAgBC,MAArB,EAA6B;AACzB;AACH;;AACDF,IAAAA,aAAa,CAACF,KAAK,CAACG,SAAN,CAAgB,CAAhB,EAAmBE,EAApB,CAAb;AACH,GALQ,EAKN,CAACL,KAAK,CAACM,IAAN,CAAWD,EAAZ,EAAgBL,KAAK,CAACG,SAAN,CAAgBC,MAAhC,CALM,CAAT;AAOA,MAAMG,QAAQ,GAAGP,KAAK,CAACG,SAAN,CAAgBK,IAAhB,CAAqB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACJ,EAAL,KAAYJ,UAAhB;AAAA,GAAzB,CAAjB;;AACA,MAAI,CAACM,QAAL,EAAe;AACX,WAAO,IAAP;AACH;;AAED,sBACI,oBAAC,WAAD,qBACI,oBAAC,SAAD;AAAW,IAAA,CAAC,EAAE;AAAd,kBACI;AAAK,IAAA,KAAK,EAAE;AAAEd,MAAAA,QAAQ,EAAE;AAAZ;AAAZ,KACKO,KAAK,CAACU,OAAN,iBAAiB,oBAAC,gBAAD,OADtB,eAEI,oBAAC,MAAD,oBACQV,KADR;AAEI,IAAA,QAAQ,EAAEO,QAFd;AAGI,IAAA,cAAc,EAAE,wBAAAA,QAAQ;AAAA,aAAIL,aAAa,CAACK,QAAQ,CAACF,EAAV,CAAjB;AAAA;AAH5B,KAFJ,eAOI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEE,QAAvB;AAAiC,IAAA,IAAI,EAAEP,KAAK,CAACM;AAA7C,IAPJ,CADJ,CADJ,CADJ;AAeH,CA9BD;;AAgCA,eAAe,CACX;AACIK,EAAAA,IAAI,EAAE,6CADV;AAEIC,EAAAA,IAAI,EAAE,qCAFV;AAGIC,EAAAA,MAHJ,kBAGWb,KAHX,EAGkB;AACV,wBACI,oBAAC,GAAD;AACI,MAAA,KAAK,EAAEV,CAAF,iFADT;AAEI,MAAA,QAAQ,EAAEU,KAAK,CAACU,OAFpB;AAGI,qBAAa;AAHjB,oBAKI,oBAAC,iBAAD,EAAuBV,KAAvB,CALJ,CADJ;AASH;AAbL,CADW,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Tab } from \"@webiny/ui/Tabs\";\nimport styled from \"@emotion/styled\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport FormPreview from \"./FormPreview\";\nimport Header from \"./Header\";\nimport { CircularProgress } from \"@webiny/ui/Progress\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { FbFormDetailsPluginRenderParams, FbFormDetailsPluginType } from \"../../../../types\";\n\nconst t = i18n.namespace(\"FormsApp.FormDetails.PreviewContent\");\n\nconst RenderBlock = styled(\"div\")({\n    position: \"relative\",\n    zIndex: 0,\n    backgroundColor: \"var(--mdc-theme-background)\",\n    height: \"100%\",\n    overflow: \"auto\",\n    padding: 25\n});\n\nconst PreviewContentTab = (props: FbFormDetailsPluginRenderParams) => {\n    const [revisionId, setRevisionId] = useState<string>();\n\n    useEffect(() => {\n        if (!props.revisions.length) {\n            return;\n        }\n        setRevisionId(props.revisions[0].id);\n    }, [props.form.id, props.revisions.length]);\n\n    const revision = props.revisions.find(item => item.id === revisionId);\n    if (!revision) {\n        return null;\n    }\n\n    return (\n        <RenderBlock>\n            <Elevation z={2}>\n                <div style={{ position: \"relative\" }}>\n                    {props.loading && <CircularProgress />}\n                    <Header\n                        {...props}\n                        revision={revision}\n                        selectRevision={revision => setRevisionId(revision.id)}\n                    />\n                    <FormPreview revision={revision} form={props.form} />\n                </div>\n            </Elevation>\n        </RenderBlock>\n    );\n};\n\nexport default [\n    {\n        name: \"forms-form-details-revision-content-preview\",\n        type: \"forms-form-details-revision-content\",\n        render(props) {\n            return (\n                <Tab\n                    label={t`Form preview`}\n                    disabled={props.loading}\n                    data-testid={\"fb.form-details.tab.form-preview\"}\n                >\n                    <PreviewContentTab {...props} />\n                </Tab>\n            );\n        }\n    }\n] as FbFormDetailsPluginType[];\n"],"file":"index.js"}