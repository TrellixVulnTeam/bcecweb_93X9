{"version":3,"sources":["../../../../../../src/admin/plugins/formDetails/formSubmissions/FormSubmissionsList/FormSubmissionDialog.tsx"],"names":["React","css","Typography","Dialog","DialogContent","DialogTitle","DialogCancel","DialogActions","i18n","t","namespace","dialogBody","marginTop","padding","div","getFieldValueLabel","field","value","options","length","selectedOption","find","option","label","renderFieldValueLabel","Array","isArray","map","v","join","FormSubmissionDialog","formSubmission","onClose","form","layout","row","id","fields","_id","display","width","type","data","fieldId"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { css } from \"emotion\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Dialog, DialogContent, DialogTitle, DialogCancel, DialogActions } from \"@webiny/ui/Dialog\";\n\nimport { i18n } from \"@webiny/app/i18n\";\nimport { FbFormSubmissionData } from \"../../../../../types\";\nconst t = i18n.namespace(\"FormEditor.FormSubmissionDialog\");\n\nconst dialogBody = css({\n    \"&.webiny-ui-dialog__content\": {\n        marginTop: 0,\n        padding: \"25\",\n        div: {\n            padding: \"5px 0\"\n        }\n    }\n});\n\ntype Props = {\n    formSubmission: FbFormSubmissionData;\n    onClose: () => void;\n};\n\nconst getFieldValueLabel = (field, value) => {\n    if (field.options.length > 0) {\n        const selectedOption = field.options.find(option => option.value === value);\n        if (selectedOption) {\n            return selectedOption.label;\n        }\n    }\n\n    return value;\n};\n\nconst renderFieldValueLabel = (field, value) => {\n    if (Array.isArray(value)) {\n        return value.map(v => getFieldValueLabel(field, v)).join(\", \");\n    }\n\n    return getFieldValueLabel(field, value);\n};\n\nconst FormSubmissionDialog = ({ formSubmission, onClose }: Props) => {\n    return (\n        <Dialog open={!!formSubmission} onClose={onClose}>\n            {formSubmission && (\n                <>\n                    <DialogTitle>{t`Form Submission`}</DialogTitle>\n\n                    <DialogContent className={dialogBody}>\n                        <div>\n                            {formSubmission.form.layout.map(row => {\n                                return row.map(id => {\n                                    const field = formSubmission.form.fields.find(\n                                        field => field._id === id\n                                    );\n\n                                    return (\n                                        <div\n                                            key={id}\n                                            style={{\n                                                display: \"inline-block\",\n                                                width: `calc(100% / ${row.length})`\n                                            }}\n                                        >\n                                            <Typography use=\"overline\">{field.label}: </Typography>\n                                            <Typography use=\"body1\">\n                                                {field.type === \"textarea\" ? (\n                                                    <pre>\n                                                        {renderFieldValueLabel(\n                                                            field,\n                                                            formSubmission.data[field.fieldId]\n                                                        )}\n                                                    </pre>\n                                                ) : (\n                                                    renderFieldValueLabel(\n                                                        field,\n                                                        formSubmission.data[field.fieldId]\n                                                    )\n                                                )}\n                                            </Typography>\n                                        </div>\n                                    );\n                                });\n                            })}\n                        </div>\n                    </DialogContent>\n                    <DialogActions>\n                        <DialogCancel onClick={onClose}>{t`Cancel`}</DialogCancel>\n                    </DialogActions>\n                </>\n            )}\n        </Dialog>\n    );\n};\n\nexport default FormSubmissionDialog;\n"],"file":"FormSubmissionDialog.js"}