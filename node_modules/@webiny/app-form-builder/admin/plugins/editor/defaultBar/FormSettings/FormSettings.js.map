{"version":3,"sources":["../../../../../../src/admin/plugins/editor/defaultBar/FormSettings/FormSettings.tsx"],"names":["React","useState","plugins","OverlayLayout","SplitView","LeftPanel","RightPanel","Typography","Form","Icon","ButtonPrimary","List","ListItem","ListItemGraphic","useFormEditor","useSnackbar","i18n","t","namespace","SimpleForm","SimpleFormFooter","SimpleFormContent","SimpleFormHeader","Title","listItem","ListItemTitle","listStyle","TitleContent","FormSettings","onExited","formEditorSettingsPlugins","byType","data","setData","showSnackbar","activePlugin","setActivePlugin","color","map","pl","name","icon","title","description","settings","Bind","submit","form","formData","renderHeaderActions","render"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { plugins } from \"@webiny/plugins\";\nimport { OverlayLayout } from \"@webiny/app-admin/components/OverlayLayout\";\nimport { SplitView, LeftPanel, RightPanel } from \"@webiny/app-admin/components/SplitView\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Form } from \"@webiny/form\";\nimport { Icon } from \"@webiny/ui/Icon\";\nimport { ButtonPrimary } from \"@webiny/ui/Button\";\nimport { List, ListItem, ListItemGraphic } from \"@webiny/ui/List\";\nimport { useFormEditor } from \"../../../../components/FormEditor/Context\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\n\nimport { i18n } from \"@webiny/app/i18n\";\nconst t = i18n.namespace(\"FormsApp.Editor.FormSettings\");\n\nimport {\n    SimpleForm,\n    SimpleFormFooter,\n    SimpleFormContent,\n    SimpleFormHeader\n} from \"@webiny/app-admin/components/SimpleForm\";\nimport { Title, listItem, ListItemTitle, listStyle, TitleContent } from \"./FormSettingsStyled\";\nimport { FbEditorFormSettingsPlugin } from \"../../../../../types\";\n\ntype FormSettingsProps = {\n    onExited: () => void;\n};\n\nconst FormSettings = ({ onExited }: FormSettingsProps) => {\n    const formEditorSettingsPlugins = plugins.byType<FbEditorFormSettingsPlugin>(\n        \"form-editor-form-settings\"\n    );\n    const { data, setData } = useFormEditor();\n    const { showSnackbar } = useSnackbar();\n\n    const [activePlugin, setActivePlugin] = useState(formEditorSettingsPlugins[0]);\n\n    return (\n        <OverlayLayout\n            barMiddle={Title}\n            onExited={onExited}\n            style={{ color: \"var(--mdc-theme-on-surface)\" }}\n        >\n            <SplitView>\n                <LeftPanel span={5}>\n                    <List twoLine className={listStyle}>\n                        {formEditorSettingsPlugins.map(pl => (\n                            <ListItem\n                                key={pl.name}\n                                className={listItem}\n                                onClick={() => setActivePlugin(pl)}\n                            >\n                                <ListItemGraphic>\n                                    <Icon icon={pl.icon} />\n                                </ListItemGraphic>\n                                <TitleContent>\n                                    <ListItemTitle>{pl.title}</ListItemTitle>\n                                    <Typography use={\"subtitle2\"}>{pl.description}</Typography>\n                                </TitleContent>\n                            </ListItem>\n                        ))}\n                    </List>\n                </LeftPanel>\n                <RightPanel span={7}>\n                    <Form\n                        data={data.settings}\n                        onSubmit={settings => {\n                            setData(data => {\n                                data.settings = settings;\n                                return data;\n                            });\n                            onExited();\n                            showSnackbar(t`Form settings updated successfully.`);\n                        }}\n                    >\n                        {({ Bind, submit, form, data: formData }) => (\n                            <SimpleForm>\n                                <SimpleFormHeader title={activePlugin.title}>\n                                    {typeof activePlugin.renderHeaderActions === \"function\" &&\n                                        activePlugin.renderHeaderActions({ Bind, form, formData })}\n                                </SimpleFormHeader>\n                                <SimpleFormContent>\n                                    {activePlugin\n                                        ? activePlugin.render({ Bind, form, formData })\n                                        : null}\n                                </SimpleFormContent>\n                                <SimpleFormFooter>\n                                    <ButtonPrimary\n                                        onClick={submit}\n                                    >{t`Save settings`}</ButtonPrimary>\n                                </SimpleFormFooter>\n                            </SimpleForm>\n                        )}\n                    </Form>\n                </RightPanel>\n            </SplitView>\n        </OverlayLayout>\n    );\n};\n\nexport default FormSettings;\n"],"file":"FormSettings.js"}