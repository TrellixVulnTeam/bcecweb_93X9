{"version":3,"sources":["../../../../src/admin/plugins/permissionRenderer/FormBuilderPermissions.tsx"],"names":["React","Fragment","useCallback","useMemo","Grid","Cell","Select","i18n","PermissionInfo","gridNoPaddingClass","Form","Elevation","Typography","Checkbox","CheckboxGroup","t","ns","FB","FB_FULL_ACCESS","FB_ACCESS_FORM","FB_SETTINGS","FULL_ACCESS","NO_ACCESS","CUSTOM_ACCESS","pwOptions","id","name","FormBuilderPermissions","value","onChange","onFormChange","data","newValue","Array","isArray","filter","item","startsWith","accessLevel","push","formAccessLevel","permission","own","rwd","undefined","pw","submissions","formRWD","formPW","join","submissionPermissions","settingsAccessLevel","formData","hasFullAccess","find","permissions","length","formPermission","split","hasSettingsAccess","Bind","setValue","marginTop","padding","paddingBottom","cb","getValue","map","includes"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,OAAvC,QAAsD,OAAtD;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,iBAA3B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,0CAAnD;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,qBAAxC;AAEA,IAAMC,CAAC,GAAGR,IAAI,CAACS,EAAL,CAAQ,mDAAR,CAAV;AAEA,IAAMC,EAAE,GAAG,IAAX;AACA,IAAMC,cAAc,aAAMD,EAAN,OAApB;AACA,IAAME,cAAc,aAAMF,EAAN,UAApB;AACA,IAAMG,WAAW,aAAMH,EAAN,cAAjB;AAEA,IAAMI,WAAW,GAAG,MAApB;AACA,IAAMC,SAAS,GAAG,IAAlB;AACA,IAAMC,aAAa,GAAG,QAAtB;AAEA,IAAMC,SAAS,GAAG,CACd;AAAEC,EAAAA,EAAE,EAAE,GAAN;AAAWC,EAAAA,IAAI,EAAEX,CAAF;AAAf,CADc,EAEd;AAAEU,EAAAA,EAAE,EAAE,GAAN;AAAWC,EAAAA,IAAI,EAAEX,CAAF;AAAf,CAFc,CAGd;AACA;AAJc,CAAlB;AAOA,OAAO,IAAMY,sBAAsB,GAAG,SAAzBA,sBAAyB,OAAyB;AAAA,MAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AAC3D,MAAMC,YAAY,GAAG5B,WAAW,CAC5B,UAAA6B,IAAI,EAAI;AACJ,QAAIC,QAAQ,GAAG,EAAf;;AACA,QAAIC,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;AACtB;AACAI,MAAAA,QAAQ,GAAGJ,KAAK,CAACO,MAAN,CAAa,UAAAC,IAAI;AAAA,eAAI,CAACA,IAAI,CAACV,IAAL,CAAUW,UAAV,CAAqBpB,EAArB,CAAL;AAAA,OAAjB,CAAX;AACH;;AAED,QAAIc,IAAI,CAACO,WAAL,KAAqBhB,SAAzB,EAAoC;AAChCO,MAAAA,QAAQ,CAACG,QAAD,CAAR;AACA;AACH;;AAED,QAAID,IAAI,CAACO,WAAL,KAAqBjB,WAAzB,EAAsC;AAClCW,MAAAA,QAAQ,CAACO,IAAT,CAAc;AAAEb,QAAAA,IAAI,EAAER;AAAR,OAAd;AACAW,MAAAA,QAAQ,CAACG,QAAD,CAAR;AACA;AACH,KAhBG,CAkBJ;;;AACA,QAAID,IAAI,CAACS,eAAL,IAAwBT,IAAI,CAACS,eAAL,KAAyBlB,SAArD,EAAgE;AAC5D,UAAMmB,UAAU,GAAG;AACff,QAAAA,IAAI,EAAEP,cADS;AAEfuB,QAAAA,GAAG,EAAE,KAFU;AAGfC,QAAAA,GAAG,EAAEC,SAHU;AAIfC,QAAAA,EAAE,EAAE,EAJW;AAKfC,QAAAA,WAAW,EAAE;AALE,OAAnB;;AAQA,UAAIf,IAAI,CAACS,eAAL,KAAyB,KAA7B,EAAoC;AAChCC,QAAAA,UAAU,CAACC,GAAX,GAAiB,IAAjB;AACAD,QAAAA,UAAU,CAACE,GAAX,GAAiB,KAAjB;AACH,OAHD,MAGO;AACHF,QAAAA,UAAU,CAACE,GAAX,GAAiBZ,IAAI,CAACgB,OAAL,IAAgB,GAAjC;AACH;;AAED,UAAId,KAAK,CAACC,OAAN,CAAcH,IAAI,CAACiB,MAAnB,CAAJ,EAAgC;AAC5BP,QAAAA,UAAU,CAACI,EAAX,GAAgBd,IAAI,CAACiB,MAAL,CAAYC,IAAZ,CAAiB,EAAjB,CAAhB;AACH;;AAED,UAAIlB,IAAI,CAACmB,qBAAL,IAA8BnB,IAAI,CAACmB,qBAAL,KAA+B5B,SAAjE,EAA4E;AACxEmB,QAAAA,UAAU,CAACK,WAAX,GAAyB,IAAzB;AACH;;AAEDd,MAAAA,QAAQ,CAACO,IAAT,CAAcE,UAAd;AACH,KA5CG,CA8CJ;;;AACA,QAAIV,IAAI,CAACoB,mBAAL,KAA6B9B,WAAjC,EAA8C;AAC1CW,MAAAA,QAAQ,CAACO,IAAT,CAAc;AAAEb,QAAAA,IAAI,EAAEN;AAAR,OAAd;AACH;;AAEDS,IAAAA,QAAQ,CAACG,QAAD,CAAR;AACH,GArD2B,EAsD5B,CAACJ,KAAD,CAtD4B,CAAhC;AAyDA,MAAMwB,QAAQ,GAAGjD,OAAO,CAAC,YAAM;AAC3B,QAAI,CAAC8B,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAL,EAA2B;AACvB,aAAO;AAAEU,QAAAA,WAAW,EAAEhB;AAAf,OAAP;AACH;;AAED,QAAM+B,aAAa,GAAGzB,KAAK,CAAC0B,IAAN,CAAW,UAAAlB,IAAI;AAAA,aAAIA,IAAI,CAACV,IAAL,KAAcR,cAAd,IAAgCkB,IAAI,CAACV,IAAL,KAAc,GAAlD;AAAA,KAAf,CAAtB;;AAEA,QAAI2B,aAAJ,EAAmB;AACf,aAAO;AAAEf,QAAAA,WAAW,EAAEjB;AAAf,OAAP;AACH;;AAED,QAAMkC,WAAW,GAAG3B,KAAK,CAACO,MAAN,CAAa,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACV,IAAL,CAAUW,UAAV,CAAqBpB,EAArB,CAAJ;AAAA,KAAjB,CAApB;;AACA,QAAI,CAACsC,WAAW,CAACC,MAAjB,EAAyB;AACrB,aAAO;AAAElB,QAAAA,WAAW,EAAEhB;AAAf,OAAP;AACH,KAd0B,CAgB3B;;;AACA,QAAMS,IAAI,GAAG;AACTO,MAAAA,WAAW,EAAEf,aADJ;AAETiB,MAAAA,eAAe,EAAElB,SAFR;AAGTyB,MAAAA,OAAO,EAAEH,SAHA;AAITI,MAAAA,MAAM,EAAEJ,SAJC;AAKTM,MAAAA,qBAAqB,EAAE5B,SALd;AAMT6B,MAAAA,mBAAmB,EAAE7B;AANZ,KAAb;AASA,QAAMmC,cAAc,GAAGF,WAAW,CAACD,IAAZ,CAAiB,UAAAlB,IAAI;AAAA,aAAIA,IAAI,CAACV,IAAL,KAAcP,cAAlB;AAAA,KAArB,CAAvB;;AACA,QAAIsC,cAAJ,EAAoB;AAChB1B,MAAAA,IAAI,CAACS,eAAL,GAAuBiB,cAAc,CAACf,GAAf,GAAqB,KAArB,GAA6BrB,WAApD;;AACA,UAAIU,IAAI,CAACS,eAAL,KAAyB,KAA7B,EAAoC;AAChCT,QAAAA,IAAI,CAACgB,OAAL,GAAe,KAAf;AACH,OAFD,MAEO;AACHhB,QAAAA,IAAI,CAACgB,OAAL,GAAeU,cAAc,CAACd,GAA9B;AACH;;AAEDZ,MAAAA,IAAI,CAACiB,MAAL,GAAc,CAACS,cAAc,CAACZ,EAAf,IAAqB,EAAtB,EAA0Ba,KAA1B,CAAgC,EAAhC,CAAd;;AACA,UAAID,cAAc,CAACX,WAAf,KAA+B,IAAnC,EAAyC;AACrCf,QAAAA,IAAI,CAACmB,qBAAL,GAA6B7B,WAA7B;AACH;AACJ;;AAED,QAAMsC,iBAAiB,GAAGJ,WAAW,CAACD,IAAZ,CAAiB,UAAAlB,IAAI;AAAA,aAAIA,IAAI,CAACV,IAAL,KAAcN,WAAlB;AAAA,KAArB,CAA1B;;AAEA,QAAIuC,iBAAJ,EAAuB;AACnB5B,MAAAA,IAAI,CAACoB,mBAAL,GAA2B9B,WAA3B;AACH;;AAED,WAAOU,IAAP;AACH,GAhDuB,EAgDrB,EAhDqB,CAAxB;AAkDA,sBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEqB,QAAZ;AAAsB,IAAA,QAAQ,EAAEtB;AAAhC,KACK;AAAA,QAAGC,IAAH,SAAGA,IAAH;AAAA,QAAS6B,IAAT,SAASA,IAAT;AAAA,QAAeC,QAAf,SAAeA,QAAf;AAAA,wBACG,oBAAC,QAAD,qBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAEpD;AAAjB,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,cAAD;AAAgB,MAAA,KAAK,EAAEM,CAAF;AAArB,MADJ,CADJ,eAII,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAEA,CAAF;AAAb,oBACI;AAAQ,MAAA,KAAK,EAAEO;AAAf,OAA2BP,CAA3B,iFADJ,eAEI;AAAQ,MAAA,KAAK,EAAEM;AAAf,OAA6BN,CAA7B,mFAFJ,eAGI;AAAQ,MAAA,KAAK,EAAEQ;AAAf,OAA+BR,CAA/B,qFAHJ,CADJ,CADJ,CAJJ,CADJ,EAeKgB,IAAI,CAACO,WAAL,KAAqBf,aAArB,iBACG,oBAAC,QAAD,qBACI,oBAAC,SAAD;AAAW,MAAA,CAAC,EAAE,CAAd;AAAiB,MAAA,KAAK,EAAE;AAAEuC,QAAAA,SAAS,EAAE;AAAb;AAAxB,oBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,UAAD;AAAY,MAAA,GAAG,EAAE;AAAjB,eADJ,CADJ,eAII,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,aAAa,EAAE;AAA7B;AAAb,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AACI,MAAA,IAAI,mBADR;AAEI,MAAA,YAAY,EAAE,sBAACpC,KAAD,EAAQqC,EAAR,EAAe;AACzB,YAAIrC,KAAK,KAAK,KAAd,EAAqB;AACjBiC,UAAAA,QAAQ,YAAY,KAAZ,CAAR;AACH;;AACDI,QAAAA,EAAE,CAACrC,KAAD,CAAF;AACH;AAPL,oBASI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEb,CAAF,mFADT;AAEI,MAAA,WAAW,EACP;AAHR,oBAMI;AACI,MAAA,KAAK,EAAEO;AADX,OAEEP,CAFF,iFANJ,eASI;AACI,MAAA,KAAK,EAAEM;AADX,OAEEN,CAFF,mFATJ,eAYI;AACI,MAAA,KAAK,EAAE;AADX,OAEEA,CAFF,wGAZJ,CATJ,CADJ,CADJ,eA6BI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI;AAAV,oBACI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEA,CAAF,wFADT;AAEI,MAAA,WAAW,EACP,kDAHR;AAKI,MAAA,QAAQ,EACJgB,IAAI,CAACS,eAAL,KAAyBnB;AANjC,oBASI;AAAQ,MAAA,KAAK,EAAE;AAAf,OAAqBN,CAArB,8EATJ,eAUI;AACI,MAAA,KAAK,EAAE;AADX,OAEEA,CAFF,qFAVJ,eAaI;AACI,MAAA,KAAK,EAAE;AADX,OAEEA,CAFF,6FAbJ,CADJ,CADJ,CA7BJ,eAkDI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,aAAD;AACI,MAAA,KAAK,EAAEA,CAAF,2FADT;AAEI,MAAA,WAAW,EAAEA,CAAF;AAFf,OAIK;AAAA,UAAGmD,QAAH,SAAGA,QAAH;AAAA,UAAarC,QAAb,SAAaA,QAAb;AAAA,aACGL,SAAS,CAAC2C,GAAV,CAAc;AAAA,YAAG1C,EAAH,SAAGA,EAAH;AAAA,YAAOC,IAAP,SAAOA,IAAP;AAAA,4BACV,oBAAC,QAAD;AACI,UAAA,QAAQ,EACJ,CAAC,CAAC,MAAD,EAAS,KAAT,EAAgB0C,QAAhB,CACGrC,IAAI,CAACS,eADR,CAFT;AAMI,UAAA,GAAG,EAAEf,EANT;AAOI,UAAA,KAAK,EAAEC,IAPX;AAQI,UAAA,KAAK,EAAEwC,QAAQ,CAACzC,EAAD,CARnB;AASI,UAAA,QAAQ,EAAEI,QAAQ,CAACJ,EAAD;AATtB,UADU;AAAA,OAAd,CADH;AAAA,KAJL,CADJ,CADJ,CAlDJ,eA0EI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI;AAAV,oBACI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEV,CAAF,yFADT;AAEI,MAAA,WAAW,EACP,kDAHR;AAKI,MAAA,QAAQ,EACJ,CAACgB,IAAI,CAACS,eAAN,IACAT,IAAI,CAACS,eAAL,KAAyBlB;AAPjC,oBAUI;AAAQ,MAAA,KAAK,EAAEA;AAAf,OAA2BP,CAA3B,8EAVJ,eAWI;AACI,MAAA,KAAK,EAAEM;AADX,OAEEN,CAFF,8FAXJ,CADJ,CADJ,CA1EJ,CADJ,CAJJ,CADJ,CADJ,eAwGI,oBAAC,SAAD;AAAW,MAAA,CAAC,EAAE,CAAd;AAAiB,MAAA,KAAK,EAAE;AAAE+C,QAAAA,SAAS,EAAE;AAAb;AAAxB,oBACI,oBAAC,IAAD,qBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,UAAD;AAAY,MAAA,GAAG,EAAE;AAAjB,OAA8B/C,CAA9B,kFADJ,CADJ,eAII,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEgD,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,aAAa,EAAE;AAA7B;AAAb,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE;AAAZ,oBACI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAEjD,CAAF,qFADT;AAEI,MAAA,WAAW,EACP;AAHR,oBAMI;AAAQ,MAAA,KAAK,EAAEO;AAAf,OAA2BP,CAA3B,8EANJ,eAOI;AACI,MAAA,KAAK,EAAEM;AADX,OAEEN,CAFF,sFAPJ,CADJ,CADJ,CADJ,CADJ,CAJJ,CADJ,CAxGJ,CAhBR,CADH;AAAA,GADL,CADJ;AA2JH,CAvQM","sourcesContent":["import React, { Fragment, useCallback, useMemo } from \"react\";\nimport { Grid, Cell } from \"@webiny/ui/Grid\";\nimport { Select } from \"@webiny/ui/Select\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { PermissionInfo, gridNoPaddingClass } from \"@webiny/app-admin/components/Permissions\";\nimport { Form } from \"@webiny/form\";\nimport { Elevation } from \"@webiny/ui/Elevation\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Checkbox, CheckboxGroup } from \"@webiny/ui/Checkbox\";\n\nconst t = i18n.ns(\"app-form-builder/admin/plugins/permissionRenderer\");\n\nconst FB = \"fb\";\nconst FB_FULL_ACCESS = `${FB}.*`;\nconst FB_ACCESS_FORM = `${FB}.form`;\nconst FB_SETTINGS = `${FB}.settings`;\n\nconst FULL_ACCESS = \"full\";\nconst NO_ACCESS = \"no\";\nconst CUSTOM_ACCESS = \"custom\";\n\nconst pwOptions = [\n    { id: \"p\", name: t`Publish` },\n    { id: \"u\", name: t`Unpublish` }\n    // { id: \"r\", name: t`Request review` },\n    // { id: \"c\", name: t`Request changes` }\n];\n\nexport const FormBuilderPermissions = ({ value, onChange }) => {\n    const onFormChange = useCallback(\n        data => {\n            let newValue = [];\n            if (Array.isArray(value)) {\n                // Let's just filter out the `fb` permission objects, it's easier to build new ones from scratch.\n                newValue = value.filter(item => !item.name.startsWith(FB));\n            }\n\n            if (data.accessLevel === NO_ACCESS) {\n                onChange(newValue);\n                return;\n            }\n\n            if (data.accessLevel === FULL_ACCESS) {\n                newValue.push({ name: FB_FULL_ACCESS });\n                onChange(newValue);\n                return;\n            }\n\n            // Handling custom access level.\n            if (data.formAccessLevel && data.formAccessLevel !== NO_ACCESS) {\n                const permission = {\n                    name: FB_ACCESS_FORM,\n                    own: false,\n                    rwd: undefined,\n                    pw: \"\",\n                    submissions: false\n                };\n\n                if (data.formAccessLevel === \"own\") {\n                    permission.own = true;\n                    permission.rwd = \"rwd\";\n                } else {\n                    permission.rwd = data.formRWD || \"r\";\n                }\n\n                if (Array.isArray(data.formPW)) {\n                    permission.pw = data.formPW.join(\"\");\n                }\n\n                if (data.submissionPermissions && data.submissionPermissions !== NO_ACCESS) {\n                    permission.submissions = true;\n                }\n\n                newValue.push(permission);\n            }\n\n            // Settings permission\n            if (data.settingsAccessLevel === FULL_ACCESS) {\n                newValue.push({ name: FB_SETTINGS });\n            }\n\n            onChange(newValue);\n        },\n        [value]\n    );\n\n    const formData = useMemo(() => {\n        if (!Array.isArray(value)) {\n            return { accessLevel: NO_ACCESS };\n        }\n\n        const hasFullAccess = value.find(item => item.name === FB_FULL_ACCESS || item.name === \"*\");\n\n        if (hasFullAccess) {\n            return { accessLevel: FULL_ACCESS };\n        }\n\n        const permissions = value.filter(item => item.name.startsWith(FB));\n        if (!permissions.length) {\n            return { accessLevel: NO_ACCESS };\n        }\n\n        // We're dealing with custom permissions. Let's first prepare data for \"forms\" and \"submissions\".\n        const data = {\n            accessLevel: CUSTOM_ACCESS,\n            formAccessLevel: NO_ACCESS,\n            formRWD: undefined,\n            formPW: undefined,\n            submissionPermissions: NO_ACCESS,\n            settingsAccessLevel: NO_ACCESS\n        };\n\n        const formPermission = permissions.find(item => item.name === FB_ACCESS_FORM);\n        if (formPermission) {\n            data.formAccessLevel = formPermission.own ? \"own\" : FULL_ACCESS;\n            if (data.formAccessLevel === \"own\") {\n                data.formRWD = \"rwd\";\n            } else {\n                data.formRWD = formPermission.rwd;\n            }\n\n            data.formPW = (formPermission.pw || \"\").split(\"\");\n            if (formPermission.submissions === true) {\n                data.submissionPermissions = FULL_ACCESS;\n            }\n        }\n\n        const hasSettingsAccess = permissions.find(item => item.name === FB_SETTINGS);\n\n        if (hasSettingsAccess) {\n            data.settingsAccessLevel = FULL_ACCESS;\n        }\n\n        return data;\n    }, []);\n\n    return (\n        <Form data={formData} onChange={onFormChange}>\n            {({ data, Bind, setValue }) => (\n                <Fragment>\n                    <Grid className={gridNoPaddingClass}>\n                        <Cell span={6}>\n                            <PermissionInfo title={t`Access Level`} />\n                        </Cell>\n                        <Cell span={6}>\n                            <Bind name={\"accessLevel\"}>\n                                <Select label={t`Access Level`}>\n                                    <option value={NO_ACCESS}>{t`No access`}</option>\n                                    <option value={FULL_ACCESS}>{t`Full access`}</option>\n                                    <option value={CUSTOM_ACCESS}>{t`Custom access`}</option>\n                                </Select>\n                            </Bind>\n                        </Cell>\n                    </Grid>\n                    {data.accessLevel === CUSTOM_ACCESS && (\n                        <Fragment>\n                            <Elevation z={1} style={{ marginTop: 10 }}>\n                                <Grid>\n                                    <Cell span={12}>\n                                        <Typography use={\"overline\"}>Forms</Typography>\n                                    </Cell>\n                                    <Cell span={12}>\n                                        <Grid style={{ padding: 0, paddingBottom: 24 }}>\n                                            <Cell span={12}>\n                                                <Bind\n                                                    name={`formAccessLevel`}\n                                                    beforeChange={(value, cb) => {\n                                                        if (value === \"own\") {\n                                                            setValue(`formRWD`, \"rwd\");\n                                                        }\n                                                        cb(value);\n                                                    }}\n                                                >\n                                                    <Select\n                                                        label={t`Access Scope`}\n                                                        description={\n                                                            \"The scope of forms a user can access.\"\n                                                        }\n                                                    >\n                                                        <option\n                                                            value={NO_ACCESS}\n                                                        >{t`No access`}</option>\n                                                        <option\n                                                            value={FULL_ACCESS}\n                                                        >{t`All forms`}</option>\n                                                        <option\n                                                            value={\"own\"}\n                                                        >{t`Only forms created by the user`}</option>\n                                                    </Select>\n                                                </Bind>\n                                            </Cell>\n                                            <Cell span={12}>\n                                                <Bind name={`formRWD`}>\n                                                    <Select\n                                                        label={t`Primary Actions`}\n                                                        description={\n                                                            \"Primary actions a user can perform on the forms.\"\n                                                        }\n                                                        disabled={\n                                                            data.formAccessLevel !== FULL_ACCESS\n                                                        }\n                                                    >\n                                                        <option value={\"r\"}>{t`Read`}</option>\n                                                        <option\n                                                            value={\"rw\"}\n                                                        >{t`Read, write`}</option>\n                                                        <option\n                                                            value={\"rwd\"}\n                                                        >{t`Read, write, delete`}</option>\n                                                    </Select>\n                                                </Bind>\n                                            </Cell>\n                                            <Cell span={12}>\n                                                <Bind name={\"formPW\"}>\n                                                    <CheckboxGroup\n                                                        label={t`Publishing actions`}\n                                                        description={t`Publishing-related actions that can be performed on the forms.`}\n                                                    >\n                                                        {({ getValue, onChange }) =>\n                                                            pwOptions.map(({ id, name }) => (\n                                                                <Checkbox\n                                                                    disabled={\n                                                                        ![\"full\", \"own\"].includes(\n                                                                            data.formAccessLevel\n                                                                        )\n                                                                    }\n                                                                    key={id}\n                                                                    label={name}\n                                                                    value={getValue(id)}\n                                                                    onChange={onChange(id)}\n                                                                />\n                                                            ))\n                                                        }\n                                                    </CheckboxGroup>\n                                                </Bind>\n                                            </Cell>\n                                            <Cell span={12}>\n                                                <Bind name={`submissionPermissions`}>\n                                                    <Select\n                                                        label={t`Form Submissions`}\n                                                        description={\n                                                            \"The scope of form submissions a user can access.\"\n                                                        }\n                                                        disabled={\n                                                            !data.formAccessLevel ||\n                                                            data.formAccessLevel === NO_ACCESS\n                                                        }\n                                                    >\n                                                        <option value={NO_ACCESS}>{t`None`}</option>\n                                                        <option\n                                                            value={FULL_ACCESS}\n                                                        >{t`All form submissions`}</option>\n                                                    </Select>\n                                                </Bind>\n                                            </Cell>\n                                        </Grid>\n                                    </Cell>\n                                </Grid>\n                            </Elevation>\n                            <Elevation z={1} style={{ marginTop: 10 }}>\n                                <Grid>\n                                    <Cell span={12}>\n                                        <Typography use={\"overline\"}>{t`Settings`}</Typography>\n                                    </Cell>\n                                    <Cell span={12}>\n                                        <Grid style={{ padding: 0, paddingBottom: 24 }}>\n                                            <Cell span={12}>\n                                                <Bind name={\"settingsAccessLevel\"}>\n                                                    <Select\n                                                        label={t`Access Scope`}\n                                                        description={\n                                                            \"The scope of app settings a user can access.\"\n                                                        }\n                                                    >\n                                                        <option value={NO_ACCESS}>{t`None`}</option>\n                                                        <option\n                                                            value={FULL_ACCESS}\n                                                        >{t`All settings`}</option>\n                                                    </Select>\n                                                </Bind>\n                                            </Cell>\n                                        </Grid>\n                                    </Cell>\n                                </Grid>\n                            </Elevation>\n                        </Fragment>\n                    )}\n                </Fragment>\n            )}\n        </Form>\n    );\n};\n"],"file":"FormBuilderPermissions.js"}