{"version":3,"sources":["../../../../../../src/admin/components/FormEditor/Tabs/TriggersTab/TriggersTab.tsx"],"names":["React","styled","Accordion","AccordionItem","Typography","Form","useFormEditor","plugins","useSnackbar","i18n","t","namespace","Container","padding","color","TriggersTab","setData","formData","data","formEditorTriggerPlugins","byType","showSnackbar","map","trigger","id","icon","title","description","triggers","submitData","Bind","submit","renderSettings","form"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,sBAAzC;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,aAAT;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAEA,SAASC,WAAT,QAA4B,qCAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,IAAMC,CAAC,GAAGD,IAAI,CAACE,SAAL,CAAe,6BAAf,CAAV;AAEA,IAAMC,SAAS,gBAAGX,MAAH,CAAU,KAAV;AAAA;AAAA;AAAA,GAAiB;AAC5BY,EAAAA,OAAO,EAAE,WADmB;AAE5BC,EAAAA,KAAK,EAAE;AAFqB,CAAjB,CAAf;AAKA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC7B,uBAAoCT,aAAa,EAAjD;AAAA,MAAQU,OAAR,kBAAQA,OAAR;AAAA,MAAuBC,QAAvB,kBAAiBC,IAAjB;;AACA,MAAMC,wBAAwB,GAAGZ,OAAO,CAACa,MAAR,CAAgC,qBAAhC,CAAjC;;AACA,qBAAyBZ,WAAW,EAApC;AAAA,MAAQa,YAAR,gBAAQA,YAAR;;AAEA,sBACI,oBAAC,SAAD,qBACI,oBAAC,UAAD;AACI,IAAA,GAAG,EAAE;AADT,KAEEX,CAFF,oHADJ,eAKI,oBAAC,SAAD,QACKS,wBAAwB,CAACG,GAAzB,CAA6B;AAAA;;AAAA,QAAGC,OAAH,QAAGA,OAAH;AAAA,wBAC1B,oBAAC,aAAD;AACI,MAAA,GAAG,EAAEA,OAAO,CAACC,EADjB;AAEI,MAAA,IAAI,EAAED,OAAO,CAACE,IAFlB;AAGI,MAAA,KAAK,EAAEF,OAAO,CAACG,KAHnB;AAII,MAAA,WAAW,EAAEH,OAAO,CAACI;AAJzB,oBAMI,oBAAC,IAAD;AACI,MAAA,IAAI,EAAE,CAAAV,QAAQ,SAAR,IAAAA,QAAQ,WAAR,kCAAAA,QAAQ,CAAEW,QAAV,0EAAqBL,OAAO,CAACC,EAA7B,MAAoC,EAD9C;AAEI,MAAA,QAAQ,EAAE,kBAAAK,UAAU,EAAI;AACpBb,QAAAA,OAAO,CAAC,UAAAE,IAAI;AAAA,iBAAI,KAAIA,IAAJ,qBAAsBK,OAAO,CAACC,EAA9B,GAAoCK,UAApC,CAAJ;AAAA,SAAL,CAAP;AACAR,QAAAA,YAAY,CAACX,CAAD,2GAAZ;AACH;AALL,OAOK;AAAA,UAAGoB,IAAH,SAAGA,IAAH;AAAA,UAASC,MAAT,SAASA,MAAT;AAAA,aACGR,OAAO,CAACS,cAAR,CAAuB;AACnBF,QAAAA,IAAI,EAAJA,IADmB;AAEnBC,QAAAA,MAAM,EAANA,MAFmB;AAGnBE,QAAAA,IAAI,EAAEhB;AAHa,OAAvB,CADH;AAAA,KAPL,CANJ,CAD0B;AAAA,GAA7B,CADL,CALJ,CADJ;AAkCH,CAvCM","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Accordion, AccordionItem } from \"@webiny/ui/Accordion\";\nimport { Typography } from \"@webiny/ui/Typography\";\nimport { Form } from \"@webiny/form\";\nimport { useFormEditor } from \"../../Context\";\nimport { plugins } from \"@webiny/plugins\";\nimport { set } from \"lodash\";\nimport { useSnackbar } from \"@webiny/app-admin/hooks/useSnackbar\";\nimport { i18n } from \"@webiny/app/i18n\";\nimport { FbEditorTrigger } from \"../../../../../types\";\nconst t = i18n.namespace(\"FormsApp.Editor.TriggersTab\");\n\nconst Container = styled(\"div\")({\n    padding: \"40px 60px\",\n    color: \"var(--mdc-theme-on-surface)\"\n});\n\nexport const TriggersTab = () => {\n    const { setData, data: formData } = useFormEditor();\n    const formEditorTriggerPlugins = plugins.byType<FbEditorTrigger>(\"form-editor-trigger\");\n    const { showSnackbar } = useSnackbar();\n\n    return (\n        <Container>\n            <Typography\n                use={\"overline\"}\n            >{t`Which actions should be taken after submission`}</Typography>\n\n            <Accordion>\n                {formEditorTriggerPlugins.map(({ trigger }) => (\n                    <AccordionItem\n                        key={trigger.id}\n                        icon={trigger.icon}\n                        title={trigger.title}\n                        description={trigger.description}\n                    >\n                        <Form\n                            data={formData?.triggers?.[trigger.id] || {}}\n                            onSubmit={submitData => {\n                                setData(data => set(data, `triggers.${trigger.id}`, submitData));\n                                showSnackbar(t`Form settings updated successfully.`);\n                            }}\n                        >\n                            {({ Bind, submit }) =>\n                                trigger.renderSettings({\n                                    Bind,\n                                    submit,\n                                    form: formData\n                                })\n                            }\n                        </Form>\n                    </AccordionItem>\n                ))}\n            </Accordion>\n        </Container>\n    );\n};\n"],"file":"TriggersTab.js"}