{"version":3,"sources":["../../src/admin/graphql.ts"],"names":["gql","ERROR_FIELDS","BASE_FORM_FIELDS","LIST_FORMS","CREATE_FORM","GET_FORM","GET_FORM_REVISIONS","LIST_FORM_SUBMISSIONS","EXPORT_FORM_SUBMISSIONS","CREATE_REVISION_FROM","PUBLISH_REVISION","UNPUBLISH_REVISION","DELETE_REVISION","DELETE_FORM"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AAEA,IAAMC,YAAY,wCAAlB;AAMA,IAAMC,gBAAgB,yIAAtB;AAaA,OAAO,IAAMC,UAAU,GAAGH,GAAH,4VAKDE,gBALC,CAAhB;AAgBP,OAAO,IAAME,WAAW,GAAGJ,GAAH,oXAKFE,gBALE,EAQFD,YARE,CAAjB;AAeP,OAAO,IAAMI,QAAQ,GAAGL,GAAH,6gBAKCE,gBALD,EAaCD,YAbD,CAAd;AAoBP,OAAO,IAAMK,kBAAkB,GAAGN,GAAH,2WAKTE,gBALS,EAQTD,YARS,CAAxB;AAeP,OAAO,IAAMM,qBAAqB,GAAGP,GAAH,qzCAA3B;AA+CP,OAAO,IAAMQ,uBAAuB,GAAGR,GAAH,uXAA7B;AAeP,OAAO,IAAMS,oBAAoB,GAAGT,GAAH,sYAKXE,gBALW,EAQXD,YARW,CAA1B;AAeP,OAAO,IAAMS,gBAAgB,GAAGV,GAAH,sXAKPE,gBALO,EAQPD,YARO,CAAtB;AAeP,OAAO,IAAMU,kBAAkB,GAAGX,GAAH,0XAKTE,gBALS,EAQTD,YARS,CAAxB;AAeP,OAAO,IAAMW,eAAe,GAAGZ,GAAH,mVAMNC,YANM,CAArB;AAaP,OAAO,IAAMY,WAAW,GAAGb,GAAH,wSAMFC,YANE,CAAjB","sourcesContent":["import gql from \"graphql-tag\";\n\nconst ERROR_FIELDS = `\n    code\n    message\n    data\n`;\n\nconst BASE_FORM_FIELDS = `  \n    id\n    name\n    version\n    published\n    status\n    savedOn\n    createdBy {\n        id\n        displayName\n    }\n`;\n\nexport const LIST_FORMS = gql`\n    query FbListForms {\n        formBuilder {\n            listForms {\n                data {  \n                    ${BASE_FORM_FIELDS}\n                }\n                error {\n                    code\n                    message\n                }\n            }\n        }\n    }\n`;\n\nexport const CREATE_FORM = gql`\n    mutation FormsCreateForm($name: String!) {\n        formBuilder {\n            form: createForm(data: { name: $name }) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_FORM = gql`\n    query FbGetForm($revision: ID!) {\n        formBuilder {\n            form: getForm(revision: $revision) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                    overallStats {\n                        views\n                        submissions\n                        conversionRate\n                    }\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const GET_FORM_REVISIONS = gql`\n    query FbGetFormRevisions($id: ID!) {\n        formBuilder {\n            revisions: getFormRevisions(id: $id) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const LIST_FORM_SUBMISSIONS = gql`\n    query FbListFormSubmissions(\n        $form: ID!\n        $sort: FbSubmissionSortInput\n        $limit: Int\n        $after: String\n    ) {\n        formBuilder {\n            listFormSubmissions(form: $form, sort: $sort, limit: $limit, after: $after) {\n                data {\n                    id\n                    data\n                    meta {\n                        ip\n                        submittedOn\n                    }\n                    form {\n                        id\n                        name\n                        version\n                        layout\n                        fields {\n                            _id\n                            fieldId\n                            type\n                            label\n                            options {\n                                label\n                                value\n                            }\n                        }\n                    }\n                }\n                meta {\n                    cursor\n                    hasMoreItems\n                    totalCount\n                }\n                error {\n                    code\n                    message\n                }\n            }\n        }\n    }\n`;\n\nexport const EXPORT_FORM_SUBMISSIONS = gql`\n    mutation FormsExportFormSubmissions($form: ID!) {\n        formBuilder {\n            exportFormSubmissions(form: $form) {\n                data {\n                    src\n                }\n                error {\n                    message\n                }\n            }\n        }\n    }\n`;\n\nexport const CREATE_REVISION_FROM = gql`\n    mutation FormsCreateRevisionFrom($revision: ID!) {\n        formBuilder {\n            revision: createRevisionFrom(revision: $revision) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const PUBLISH_REVISION = gql`\n    mutation FormsPublishRevision($revision: ID!) {\n        formBuilder {\n            publishRevision(revision: $revision) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const UNPUBLISH_REVISION = gql`\n    mutation FormsUnpublishRevision($revision: ID!) {\n        formBuilder {\n            unpublishRevision(revision: $revision) {\n                data {\n                    ${BASE_FORM_FIELDS}\n                }\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const DELETE_REVISION = gql`\n    mutation FormsDeleteRevision($revision: ID!) {\n        formBuilder {\n            deleteForm: deleteRevision(revision: $revision) {\n                data\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n\nexport const DELETE_FORM = gql`\n    mutation DeleteForm($id: ID!) {\n        formBuilder {\n            deleteForm(id: $id) {\n                data\n                error {\n                    ${ERROR_FIELDS}\n                }\n            }\n        }\n    }\n`;\n"],"file":"graphql.js"}