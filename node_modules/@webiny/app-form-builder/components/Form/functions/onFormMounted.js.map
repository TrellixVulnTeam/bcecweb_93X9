{"version":3,"sources":["../../../../src/components/Form/functions/onFormMounted.ts"],"names":["SAVE_FORM_VIEW","saveFormView","data","client","window","id","mutate","mutation","variables","revision","props","preview"],"mappings":";;AAEA,SAASA,cAAT;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAkD;AAAA,MAA/CC,IAA+C,QAA/CA,IAA+C;AAAA,MAAzCC,MAAyC,QAAzCA,MAAyC;;AACnE;AACA,MAAI,CAACC,MAAD,IAAW,CAACF,IAAhB,EAAsB;AAClB;AACH;;AAED,MAAI,KAAIE,MAAJ,EAAY,4BAA4BF,IAAI,CAACG,EAA7C,CAAJ,EAAsD;AAClD;AACH;;AAED,OAAID,MAAJ,EAAY,4BAA4BF,IAAI,CAACG,EAA7C,EAAiD,CAAjD;;AACAF,EAAAA,MAAM,CAACG,MAAP,CAAc;AACVC,IAAAA,QAAQ,EAAEP,cADA;AAEVQ,IAAAA,SAAS,EAAE;AACPC,MAAAA,QAAQ,EAAEP,IAAI,CAACG;AADR;AAFD,GAAd;AAMH,CAjBD;;AAmBA,gBAAe,UAACK,KAAD,EAAuE;AAClF,MAAQR,IAAR,GAA0BQ,KAA1B,CAAQR,IAAR;AAAA,MAAcS,OAAd,GAA0BD,KAA1B,CAAcC,OAAd;;AACA,MAAI,CAACT,IAAD,IAASS,OAAb,EAAsB;AAClB;AACH;;AAEDV,EAAAA,YAAY,CAACS,KAAD,CAAZ;AACH,CAPD","sourcesContent":["import { get, set } from \"lodash\";\nimport { FbFormRenderComponentProps } from \"../../../types\";\nimport { SAVE_FORM_VIEW } from \"./graphql\";\nimport { ApolloClient } from \"apollo-client\";\n\nconst saveFormView = ({ data, client }: FbFormRenderComponentProps) => {\n    // SSR?\n    if (!window || !data) {\n        return;\n    }\n\n    if (get(window, \"localStorage.form_view_\" + data.id)) {\n        return;\n    }\n\n    set(window, \"localStorage.form_view_\" + data.id, 1);\n    client.mutate({\n        mutation: SAVE_FORM_VIEW,\n        variables: {\n            revision: data.id\n        }\n    });\n};\n\nexport default (props: FbFormRenderComponentProps & { client: ApolloClient<any> }) => {\n    const { data, preview } = props;\n    if (!data || preview) {\n        return;\n    }\n\n    saveFormView(props);\n};\n"],"file":"onFormMounted.js"}