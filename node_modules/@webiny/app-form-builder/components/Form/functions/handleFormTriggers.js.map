{"version":3,"sources":["../../../../src/components/Form/functions/handleFormTriggers.ts"],"names":["plugins","args","props","preview","data","formTriggerHandlerPlugins","byType","i","length","plugin","trigger","handle","id","form"],"mappings":";;;AAKA,SAASA,OAAT,QAAwB,iBAAxB;AASA;AAAA,sEAAe,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACPA,IAAI,CAACC,KAAL,CAAWC,OADJ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAKHC,YAAAA,IALG,GAKaH,IALb,CAKHG,IALG,EAKGF,KALH,GAKaD,IALb,CAKGC,KALH;AAOLG,YAAAA,yBAPK,GAQPL,OAAO,CAACM,MAAR,CAA2C,sBAA3C,CARO;AASFC,YAAAA,CATE,GASE,CATF;;AAAA;AAAA,kBASKA,CAAC,GAAGF,yBAAyB,CAACG,MATnC;AAAA;AAAA;AAAA;;AAUDC,YAAAA,MAVC,GAUQJ,yBAAyB,CAACE,CAAD,CAVjC;AAAA;AAAA,mBAWDE,MAAM,CAACC,OAAP,CAAeC,MAAf,CAAsB;AACxBD,cAAAA,OAAO,EAAE,KAAIR,KAAK,CAACE,IAAV,qBAA4BK,MAAM,CAACC,OAAP,CAAeE,EAA3C,MAAoD,EADrC;AAExBR,cAAAA,IAAI,EAAJA,IAFwB;AAGxBS,cAAAA,IAAI,EAAEX,KAAK,CAACE;AAHY,aAAtB,CAXC;;AAAA;AAS2CG,YAAAA,CAAC,EAT5C;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import {\n    FbFormRenderComponentProps,\n    FbFormTriggerHandlerPlugin,\n    FormSubmitResponseType\n} from \"../../../types\";\nimport { plugins } from \"@webiny/plugins\";\nimport { get } from \"lodash\";\n\ntype HandleFormTriggersArgs = {\n    props: FbFormRenderComponentProps;\n    data: any;\n    formSubmission: FormSubmitResponseType;\n};\n\nexport default async (args: HandleFormTriggersArgs) => {\n    if (args.props.preview) {\n        return;\n    }\n\n    const { data, props } = args;\n\n    const formTriggerHandlerPlugins =\n        plugins.byType<FbFormTriggerHandlerPlugin>(\"form-trigger-handler\");\n    for (let i = 0; i < formTriggerHandlerPlugins.length; i++) {\n        const plugin = formTriggerHandlerPlugins[i];\n        await plugin.trigger.handle({\n            trigger: get(props.data, `triggers.${plugin.trigger.id}`) || {},\n            data,\n            form: props.data\n        });\n    }\n};\n"],"file":"handleFormTriggers.js"}