{"version":3,"sources":["../../../../../src/page-builder/admin/plugins/components/FormElement.tsx"],"names":["React","styled","ElementRoot","Form","FormsForm","useRenderEmptyEmbed","Overlay","background","position","width","height","zIndex","opacity","renderContent","form","props","preview","parentId","revision","parent","undefined","revisionId","FormElement","element","isActive","data","settings","renderEmpty","memo"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,WAAT,QAA4B,wDAA5B;AACA,SAASC,IAAI,IAAIC,SAAjB;AAEA,OAAOC,mBAAP,MAAgC,mFAAhC;AAEA,IAAMC,OAAO,gBAAGL,MAAH,CAAU,KAAV;AAAA;AAAA;AAAA,GAAiB;AAC1BM,EAAAA,UAAU,EAAE,OADc;AAE1BC,EAAAA,QAAQ,EAAE,UAFgB;AAG1BC,EAAAA,KAAK,EAAE,MAHmB;AAI1BC,EAAAA,MAAM,EAAE,MAJkB;AAK1BC,EAAAA,MAAM,EAAE,EALkB;AAM1BC,EAAAA,OAAO,EAAE;AANiB,CAAjB,CAAb;;AASA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAsD;AACxE,MAAMC,KAAK,GAAG;AACVC,IAAAA,OAAO,EAAE,IADC;AAEVC,IAAAA,QAAQ,EAAEH,IAAI,CAACI,QAAL,KAAkB,QAAlB,GAA6BJ,IAAI,CAACK,MAAlC,GAA2CC,SAF3C;AAGVC,IAAAA,UAAU,EAAEP,IAAI,CAACI,QAAL,KAAkB,QAAlB,GAA6BE,SAA7B,GAAyCN,IAAI,CAACI;AAHhD,GAAd;AAMA,sBAAO,oBAAC,SAAD,EAAeH,KAAf,CAAP;AACH,CARD;;AAeA,IAAMO,WAA0D,GAAG,SAA7DA,WAA6D,OAA2B;AAAA;;AAAA,MAAxBC,OAAwB,QAAxBA,OAAwB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAC1F,cAAsB,kBAAAD,OAAO,CAACE,IAAR,gEAAcC,QAAd,KAA0B,EAAhD;AAAA,yBAAQZ,IAAR;AAAA,MAAQA,IAAR,2BAAe,EAAf;;AAEA,MAAMa,WAAW,GAAGtB,mBAAmB,CAACkB,OAAD,CAAvC;AAEA,sBACI,0CACKC,QAAQ,iBAAI,oBAAC,OAAD,OADjB,eAEI,oBAAC,WAAD;AACI,IAAA,GAAG,iBAAUV,IAAI,CAACK,MAAf,cAAyBL,IAAI,CAACI,QAA9B,CADP;AAEI,IAAA,OAAO,EAAEK,OAFb;AAGI,IAAA,SAAS,EAAE;AAHf,KAKKT,IAAI,CAACI,QAAL,GAAgBL,aAAa,CAACC,IAAD,CAA7B,GAAsCa,WAAW,EALtD,CAFJ,CADJ;AAYH,CAjBD;;AAmBA,4BAAe3B,KAAK,CAAC4B,IAAN,CAAWN,WAAX,CAAf","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { ElementRoot } from \"@webiny/app-page-builder/render/components/ElementRoot\";\nimport { Form as FormsForm } from \"../../../../components/Form\";\nimport { PbEditorElement, PbElementDataSettingsFormType } from \"@webiny/app-page-builder/types\";\nimport useRenderEmptyEmbed from \"@webiny/app-page-builder/editor/plugins/elements/utils/oembed/useRenderEmptyEmbed\";\n\nconst Overlay = styled(\"div\")({\n    background: \"black\",\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: 10,\n    opacity: 0.25\n});\n\nconst renderContent = (form: PbElementDataSettingsFormType): JSX.Element => {\n    const props = {\n        preview: true,\n        parentId: form.revision === \"latest\" ? form.parent : undefined,\n        revisionId: form.revision === \"latest\" ? undefined : form.revision\n    };\n\n    return <FormsForm {...props} />;\n};\n\nexport type FormElementPropsType = {\n    element: PbEditorElement;\n    isActive: boolean;\n};\n\nconst FormElement: React.FunctionComponent<FormElementPropsType> = ({ element, isActive }) => {\n    const { form = {} } = element.data?.settings || {};\n\n    const renderEmpty = useRenderEmptyEmbed(element);\n\n    return (\n        <>\n            {isActive && <Overlay />}\n            <ElementRoot\n                key={`form-${form.parent}-${form.revision}`}\n                element={element}\n                className={\"webiny-pb-element-form\"}\n            >\n                {form.revision ? renderContent(form) : renderEmpty()}\n            </ElementRoot>\n        </>\n    );\n};\n\nexport default React.memo(FormElement);\n"],"file":"FormElement.js"}